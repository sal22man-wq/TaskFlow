var ZF=Object.defineProperty;var jj=e=>{throw TypeError(e)};var XF=(e,t,n)=>t in e?ZF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var L=(e,t,n)=>XF(e,typeof t!="symbol"?t+"":t,n),Xg=(e,t,n)=>t.has(e)||jj("Cannot "+n);var S=(e,t,n)=>(Xg(e,t,"read from private field"),n?n.call(e):t.get(e)),$=(e,t,n)=>t.has(e)?jj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),U=(e,t,n,s)=>(Xg(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),z=(e,t,n)=>(Xg(e,t,"access private method"),n);var Xh=(e,t,n,s)=>({set _(r){U(e,t,r,n)},get _(){return S(e,t,s)}});function JF(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var U_={exports:{}},Qm={},B_={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=Symbol.for("react.element"),eO=Symbol.for("react.portal"),tO=Symbol.for("react.fragment"),nO=Symbol.for("react.strict_mode"),sO=Symbol.for("react.profiler"),rO=Symbol.for("react.provider"),iO=Symbol.for("react.context"),aO=Symbol.for("react.forward_ref"),oO=Symbol.for("react.suspense"),lO=Symbol.for("react.memo"),cO=Symbol.for("react.lazy"),Sj=Symbol.iterator;function uO(e){return e===null||typeof e!="object"?null:(e=Sj&&e[Sj]||e["@@iterator"],typeof e=="function"?e:null)}var V_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z_=Object.assign,W_={};function Uc(e,t,n){this.props=e,this.context=t,this.refs=W_,this.updater=n||V_}Uc.prototype.isReactComponent={};Uc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H_(){}H_.prototype=Uc.prototype;function dw(e,t,n){this.props=e,this.context=t,this.refs=W_,this.updater=n||V_}var hw=dw.prototype=new H_;hw.constructor=dw;z_(hw,Uc.prototype);hw.isPureReactComponent=!0;var Nj=Array.isArray,q_=Object.prototype.hasOwnProperty,fw={current:null},K_={key:!0,ref:!0,__self:!0,__source:!0};function G_(e,t,n){var s,r={},i=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)q_.call(t,s)&&!K_.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:wh,type:e,key:i,ref:a,props:r,_owner:fw.current}}function dO(e,t){return{$$typeof:wh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pw(e){return typeof e=="object"&&e!==null&&e.$$typeof===wh}function hO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cj=/\/+/g;function Jg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hO(""+e.key):t.toString(36)}function zf(e,t,n,s,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case wh:case eO:a=!0}}if(a)return a=e,r=r(a),e=s===""?"."+Jg(a,0):s,Nj(r)?(n="",e!=null&&(n=e.replace(Cj,"$&/")+"/"),zf(r,t,n,"",function(u){return u})):r!=null&&(pw(r)&&(r=dO(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(Cj,"$&/")+"/")+e)),t.push(r)),1;if(a=0,s=s===""?".":s+":",Nj(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Jg(i,l);a+=zf(i,t,n,c,r)}else if(c=uO(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Jg(i,l++),a+=zf(i,t,n,c,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ef(e,t,n){if(e==null)return e;var s=[],r=0;return zf(e,s,"","",function(i){return t.call(n,i,r++)}),s}function fO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _n={current:null},Wf={transition:null},pO={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:Wf,ReactCurrentOwner:fw};function Y_(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:ef,forEach:function(e,t,n){ef(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ef(e,function(){t++}),t},toArray:function(e){return ef(e,function(t){return t})||[]},only:function(e){if(!pw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Uc;Re.Fragment=tO;Re.Profiler=sO;Re.PureComponent=dw;Re.StrictMode=nO;Re.Suspense=oO;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pO;Re.act=Y_;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=z_({},e.props),r=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=fw.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)q_.call(t,c)&&!K_.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:wh,type:e.type,key:r,ref:i,props:s,_owner:a}};Re.createContext=function(e){return e={$$typeof:iO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rO,_context:e},e.Consumer=e};Re.createElement=G_;Re.createFactory=function(e){var t=G_.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:aO,render:e}};Re.isValidElement=pw;Re.lazy=function(e){return{$$typeof:cO,_payload:{_status:-1,_result:e},_init:fO}};Re.memo=function(e,t){return{$$typeof:lO,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Wf.transition;Wf.transition={};try{e()}finally{Wf.transition=t}};Re.unstable_act=Y_;Re.useCallback=function(e,t){return _n.current.useCallback(e,t)};Re.useContext=function(e){return _n.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return _n.current.useDeferredValue(e)};Re.useEffect=function(e,t){return _n.current.useEffect(e,t)};Re.useId=function(){return _n.current.useId()};Re.useImperativeHandle=function(e,t,n){return _n.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return _n.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return _n.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return _n.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return _n.current.useReducer(e,t,n)};Re.useRef=function(e){return _n.current.useRef(e)};Re.useState=function(e){return _n.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return _n.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return _n.current.useTransition()};Re.version="18.3.1";B_.exports=Re;var m=B_.exports;const je=di(m),Q_=JF({__proto__:null,default:je},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mO=m,gO=Symbol.for("react.element"),yO=Symbol.for("react.fragment"),vO=Object.prototype.hasOwnProperty,xO=mO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wO={key:!0,ref:!0,__self:!0,__source:!0};function Z_(e,t,n){var s,r={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)vO.call(t,s)&&!wO.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:gO,type:e,key:i,ref:a,props:r,_owner:xO.current}}Qm.Fragment=yO;Qm.jsx=Z_;Qm.jsxs=Z_;U_.exports=Qm;var o=U_.exports,X_={exports:{}},Xn={},J_={exports:{}},eP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,B){var Q=_.length;_.push(B);e:for(;0<Q;){var se=Q-1>>>1,Ee=_[se];if(0<r(Ee,B))_[se]=B,_[Q]=Ee,Q=se;else break e}}function n(_){return _.length===0?null:_[0]}function s(_){if(_.length===0)return null;var B=_[0],Q=_.pop();if(Q!==B){_[0]=Q;e:for(var se=0,Ee=_.length,ft=Ee>>>1;se<ft;){var X=2*(se+1)-1,Xe=_[X],nt=X+1,me=_[nt];if(0>r(Xe,Q))nt<Ee&&0>r(me,Xe)?(_[se]=me,_[nt]=Q,se=nt):(_[se]=Xe,_[X]=Q,se=X);else if(nt<Ee&&0>r(me,Q))_[se]=me,_[nt]=Q,se=nt;else break e}}return B}function r(_,B){var Q=_.sortIndex-B.sortIndex;return Q!==0?Q:_.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,x=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var B=n(u);B!==null;){if(B.callback===null)s(u);else if(B.startTime<=_)s(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function j(_){if(g=!1,w(_),!x)if(n(c)!==null)x=!0,K(N);else{var B=n(u);B!==null&&I(j,B.startTime-_)}}function N(_,B){x=!1,g&&(g=!1,v(T),T=-1),p=!0;var Q=f;try{for(w(B),h=n(c);h!==null&&(!(h.expirationTime>B)||_&&!O());){var se=h.callback;if(typeof se=="function"){h.callback=null,f=h.priorityLevel;var Ee=se(h.expirationTime<=B);B=e.unstable_now(),typeof Ee=="function"?h.callback=Ee:h===n(c)&&s(c),w(B)}else s(c);h=n(c)}if(h!==null)var ft=!0;else{var X=n(u);X!==null&&I(j,X.startTime-B),ft=!1}return ft}finally{h=null,f=Q,p=!1}}var k=!1,C=null,T=-1,M=5,E=-1;function O(){return!(e.unstable_now()-E<M)}function D(){if(C!==null){var _=e.unstable_now();E=_;var B=!0;try{B=C(!0,_)}finally{B?q():(k=!1,C=null)}}else k=!1}var q;if(typeof y=="function")q=function(){y(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,R=W.port2;W.port1.onmessage=D,q=function(){R.postMessage(null)}}else q=function(){b(D,0)};function K(_){C=_,k||(k=!0,q())}function I(_,B){T=b(function(){_(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,K(N))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var Q=f;f=B;try{return _()}finally{f=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,B){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var Q=f;f=_;try{return B()}finally{f=Q}},e.unstable_scheduleCallback=function(_,B,Q){var se=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,_){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=Q+Ee,_={id:d++,callback:B,priorityLevel:_,startTime:Q,expirationTime:Ee,sortIndex:-1},Q>se?(_.sortIndex=Q,t(u,_),n(c)===null&&_===n(u)&&(g?(v(T),T=-1):g=!0,I(j,Q-se))):(_.sortIndex=Ee,t(c,_),x||p||(x=!0,K(N))),_},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(_){var B=f;return function(){var Q=f;f=B;try{return _.apply(this,arguments)}finally{f=Q}}}})(eP);J_.exports=eP;var bO=J_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jO=m,Yn=bO;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tP=new Set,ed={};function $o(e,t){dc(e,t),dc(e+"Capture",t)}function dc(e,t){for(ed[e]=t,e=0;e<t.length;e++)tP.add(t[e])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mv=Object.prototype.hasOwnProperty,SO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_j={},Pj={};function NO(e){return Mv.call(Pj,e)?!0:Mv.call(_j,e)?!1:SO.test(e)?Pj[e]=!0:(_j[e]=!0,!1)}function CO(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _O(e,t,n,s){if(t===null||typeof t>"u"||CO(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pn(e,t,n,s,r,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zt[e]=new Pn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zt[t]=new Pn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zt[e]=new Pn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zt[e]=new Pn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zt[e]=new Pn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zt[e]=new Pn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zt[e]=new Pn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zt[e]=new Pn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zt[e]=new Pn(e,5,!1,e.toLowerCase(),null,!1,!1)});var mw=/[\-:]([a-z])/g;function gw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mw,gw);Zt[t]=new Pn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mw,gw);Zt[t]=new Pn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mw,gw);Zt[t]=new Pn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zt[e]=new Pn(e,1,!1,e.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zt[e]=new Pn(e,1,!1,e.toLowerCase(),null,!0,!0)});function yw(e,t,n,s){var r=Zt.hasOwnProperty(t)?Zt[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_O(t,n,r,s)&&(n=null),s||r===null?NO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var hi=jO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tf=Symbol.for("react.element"),el=Symbol.for("react.portal"),tl=Symbol.for("react.fragment"),vw=Symbol.for("react.strict_mode"),Rv=Symbol.for("react.profiler"),nP=Symbol.for("react.provider"),sP=Symbol.for("react.context"),xw=Symbol.for("react.forward_ref"),Dv=Symbol.for("react.suspense"),Fv=Symbol.for("react.suspense_list"),ww=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),rP=Symbol.for("react.offscreen"),kj=Symbol.iterator;function Jc(e){return e===null||typeof e!="object"?null:(e=kj&&e[kj]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,ey;function vu(e){if(ey===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ey=t&&t[1]||""}return`
`+ey+e}var ty=!1;function ny(e,t){if(!e||ty)return"";ty=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),a=r.length-1,l=i.length-1;1<=a&&0<=l&&r[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(r[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||r[a]!==i[l]){var c=`
`+r[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{ty=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vu(e):""}function PO(e){switch(e.tag){case 5:return vu(e.type);case 16:return vu("Lazy");case 13:return vu("Suspense");case 19:return vu("SuspenseList");case 0:case 2:case 15:return e=ny(e.type,!1),e;case 11:return e=ny(e.type.render,!1),e;case 1:return e=ny(e.type,!0),e;default:return""}}function Ov(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tl:return"Fragment";case el:return"Portal";case Rv:return"Profiler";case vw:return"StrictMode";case Dv:return"Suspense";case Fv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sP:return(e.displayName||"Context")+".Consumer";case nP:return(e._context.displayName||"Context")+".Provider";case xw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ww:return t=e.displayName||null,t!==null?t:Ov(e.type)||"Memo";case Ni:t=e._payload,e=e._init;try{return Ov(e(t))}catch{}}return null}function kO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ov(t);case 8:return t===vw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ra(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TO(e){var t=iP(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nf(e){e._valueTracker||(e._valueTracker=TO(e))}function aP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=iP(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function bp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Iv(e,t){var n=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Tj(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=ra(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oP(e,t){t=t.checked,t!=null&&yw(e,"checked",t,!1)}function Lv(e,t){oP(e,t);var n=ra(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$v(e,t.type,n):t.hasOwnProperty("defaultValue")&&$v(e,t.type,ra(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ej(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $v(e,t,n){(t!=="number"||bp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xu=Array.isArray;function wl(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ra(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Uv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Aj(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Y(92));if(xu(n)){if(1<n.length)throw Error(Y(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ra(n)}}function lP(e,t){var n=ra(t.value),s=ra(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Mj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sf,uP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sf=sf||document.createElement("div"),sf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function td(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ru={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EO=["Webkit","ms","Moz","O"];Object.keys(Ru).forEach(function(e){EO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ru[t]=Ru[e]})});function dP(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ru.hasOwnProperty(e)&&Ru[e]?(""+t).trim():t+"px"}function hP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=dP(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var AO=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vv(e,t){if(t){if(AO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function zv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wv=null;function bw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hv=null,bl=null,jl=null;function Rj(e){if(e=Sh(e)){if(typeof Hv!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=tg(t),Hv(e.stateNode,e.type,t))}}function fP(e){bl?jl?jl.push(e):jl=[e]:bl=e}function pP(){if(bl){var e=bl,t=jl;if(jl=bl=null,Rj(e),t)for(e=0;e<t.length;e++)Rj(t[e])}}function mP(e,t){return e(t)}function gP(){}var sy=!1;function yP(e,t,n){if(sy)return e(t,n);sy=!0;try{return mP(e,t,n)}finally{sy=!1,(bl!==null||jl!==null)&&(gP(),pP())}}function nd(e,t){var n=e.stateNode;if(n===null)return null;var s=tg(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var qv=!1;if(si)try{var eu={};Object.defineProperty(eu,"passive",{get:function(){qv=!0}}),window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{qv=!1}function MO(e,t,n,s,r,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Du=!1,jp=null,Sp=!1,Kv=null,RO={onError:function(e){Du=!0,jp=e}};function DO(e,t,n,s,r,i,a,l,c){Du=!1,jp=null,MO.apply(RO,arguments)}function FO(e,t,n,s,r,i,a,l,c){if(DO.apply(this,arguments),Du){if(Du){var u=jp;Du=!1,jp=null}else throw Error(Y(198));Sp||(Sp=!0,Kv=u)}}function Uo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dj(e){if(Uo(e)!==e)throw Error(Y(188))}function OO(e){var t=e.alternate;if(!t){if(t=Uo(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Dj(r),e;if(i===s)return Dj(r),t;i=i.sibling}throw Error(Y(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==s)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function xP(e){return e=OO(e),e!==null?wP(e):null}function wP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wP(e);if(t!==null)return t;e=e.sibling}return null}var bP=Yn.unstable_scheduleCallback,Fj=Yn.unstable_cancelCallback,IO=Yn.unstable_shouldYield,LO=Yn.unstable_requestPaint,wt=Yn.unstable_now,$O=Yn.unstable_getCurrentPriorityLevel,jw=Yn.unstable_ImmediatePriority,jP=Yn.unstable_UserBlockingPriority,Np=Yn.unstable_NormalPriority,UO=Yn.unstable_LowPriority,SP=Yn.unstable_IdlePriority,Zm=null,wr=null;function BO(e){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Zm,e,void 0,(e.current.flags&128)===128)}catch{}}var zs=Math.clz32?Math.clz32:WO,VO=Math.log,zO=Math.LN2;function WO(e){return e>>>=0,e===0?32:31-(VO(e)/zO|0)|0}var rf=64,af=4194304;function wu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cp(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~r;l!==0?s=wu(l):(i&=a,i!==0&&(s=wu(i)))}else a=n&~r,a!==0?s=wu(a):i!==0&&(s=wu(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-zs(t),r=1<<n,s|=e[n],t&=~r;return s}function HO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qO(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-zs(i),l=1<<a,c=r[a];c===-1?(!(l&n)||l&s)&&(r[a]=HO(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Gv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function NP(){var e=rf;return rf<<=1,!(rf&4194240)&&(rf=64),e}function ry(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zs(t),e[t]=n}function KO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-zs(n),i=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~i}}function Sw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-zs(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var Qe=0;function CP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _P,Nw,PP,kP,TP,Yv=!1,of=[],qi=null,Ki=null,Gi=null,sd=new Map,rd=new Map,_i=[],GO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oj(e,t){switch(e){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":sd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(t.pointerId)}}function tu(e,t,n,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Sh(t),t!==null&&Nw(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function YO(e,t,n,s,r){switch(t){case"focusin":return qi=tu(qi,e,t,n,s,r),!0;case"dragenter":return Ki=tu(Ki,e,t,n,s,r),!0;case"mouseover":return Gi=tu(Gi,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return sd.set(i,tu(sd.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,rd.set(i,tu(rd.get(i)||null,e,t,n,s,r)),!0}return!1}function EP(e){var t=Ia(e.target);if(t!==null){var n=Uo(t);if(n!==null){if(t=n.tag,t===13){if(t=vP(n),t!==null){e.blockedOn=t,TP(e.priority,function(){PP(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Wv=s,n.target.dispatchEvent(s),Wv=null}else return t=Sh(n),t!==null&&Nw(t),e.blockedOn=n,!1;t.shift()}return!0}function Ij(e,t,n){Hf(e)&&n.delete(t)}function QO(){Yv=!1,qi!==null&&Hf(qi)&&(qi=null),Ki!==null&&Hf(Ki)&&(Ki=null),Gi!==null&&Hf(Gi)&&(Gi=null),sd.forEach(Ij),rd.forEach(Ij)}function nu(e,t){e.blockedOn===t&&(e.blockedOn=null,Yv||(Yv=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,QO)))}function id(e){function t(r){return nu(r,e)}if(0<of.length){nu(of[0],e);for(var n=1;n<of.length;n++){var s=of[n];s.blockedOn===e&&(s.blockedOn=null)}}for(qi!==null&&nu(qi,e),Ki!==null&&nu(Ki,e),Gi!==null&&nu(Gi,e),sd.forEach(t),rd.forEach(t),n=0;n<_i.length;n++)s=_i[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<_i.length&&(n=_i[0],n.blockedOn===null);)EP(n),n.blockedOn===null&&_i.shift()}var Sl=hi.ReactCurrentBatchConfig,_p=!0;function ZO(e,t,n,s){var r=Qe,i=Sl.transition;Sl.transition=null;try{Qe=1,Cw(e,t,n,s)}finally{Qe=r,Sl.transition=i}}function XO(e,t,n,s){var r=Qe,i=Sl.transition;Sl.transition=null;try{Qe=4,Cw(e,t,n,s)}finally{Qe=r,Sl.transition=i}}function Cw(e,t,n,s){if(_p){var r=Qv(e,t,n,s);if(r===null)py(e,t,s,Pp,n),Oj(e,s);else if(YO(r,e,t,n,s))s.stopPropagation();else if(Oj(e,s),t&4&&-1<GO.indexOf(e)){for(;r!==null;){var i=Sh(r);if(i!==null&&_P(i),i=Qv(e,t,n,s),i===null&&py(e,t,s,Pp,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else py(e,t,s,null,n)}}var Pp=null;function Qv(e,t,n,s){if(Pp=null,e=bw(s),e=Ia(e),e!==null)if(t=Uo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vP(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pp=e,null}function AP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($O()){case jw:return 1;case jP:return 4;case Np:case UO:return 16;case SP:return 536870912;default:return 16}default:return 16}}var Bi=null,_w=null,qf=null;function MP(){if(qf)return qf;var e,t=_w,n=t.length,s,r="value"in Bi?Bi.value:Bi.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(s=1;s<=a&&t[n-s]===r[i-s];s++);return qf=r.slice(e,1<s?1-s:void 0)}function Kf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lf(){return!0}function Lj(){return!1}function Jn(e){function t(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?lf:Lj,this.isPropagationStopped=Lj,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lf)},persist:function(){},isPersistent:lf}),t}var Bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pw=Jn(Bc),jh=ht({},Bc,{view:0,detail:0}),JO=Jn(jh),iy,ay,su,Xm=ht({},jh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==su&&(su&&e.type==="mousemove"?(iy=e.screenX-su.screenX,ay=e.screenY-su.screenY):ay=iy=0,su=e),iy)},movementY:function(e){return"movementY"in e?e.movementY:ay}}),$j=Jn(Xm),e3=ht({},Xm,{dataTransfer:0}),t3=Jn(e3),n3=ht({},jh,{relatedTarget:0}),oy=Jn(n3),s3=ht({},Bc,{animationName:0,elapsedTime:0,pseudoElement:0}),r3=Jn(s3),i3=ht({},Bc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a3=Jn(i3),o3=ht({},Bc,{data:0}),Uj=Jn(o3),l3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=u3[e])?!!t[e]:!1}function kw(){return d3}var h3=ht({},jh,{key:function(e){if(e.key){var t=l3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?c3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kw,charCode:function(e){return e.type==="keypress"?Kf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f3=Jn(h3),p3=ht({},Xm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bj=Jn(p3),m3=ht({},jh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kw}),g3=Jn(m3),y3=ht({},Bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),v3=Jn(y3),x3=ht({},Xm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),w3=Jn(x3),b3=[9,13,27,32],Tw=si&&"CompositionEvent"in window,Fu=null;si&&"documentMode"in document&&(Fu=document.documentMode);var j3=si&&"TextEvent"in window&&!Fu,RP=si&&(!Tw||Fu&&8<Fu&&11>=Fu),Vj=" ",zj=!1;function DP(e,t){switch(e){case"keyup":return b3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nl=!1;function S3(e,t){switch(e){case"compositionend":return FP(t);case"keypress":return t.which!==32?null:(zj=!0,Vj);case"textInput":return e=t.data,e===Vj&&zj?null:e;default:return null}}function N3(e,t){if(nl)return e==="compositionend"||!Tw&&DP(e,t)?(e=MP(),qf=_w=Bi=null,nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return RP&&t.locale!=="ko"?null:t.data;default:return null}}var C3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!C3[e.type]:t==="textarea"}function OP(e,t,n,s){fP(s),t=kp(t,"onChange"),0<t.length&&(n=new Pw("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ou=null,ad=null;function _3(e){KP(e,0)}function Jm(e){var t=il(e);if(aP(t))return e}function P3(e,t){if(e==="change")return t}var IP=!1;if(si){var ly;if(si){var cy="oninput"in document;if(!cy){var Hj=document.createElement("div");Hj.setAttribute("oninput","return;"),cy=typeof Hj.oninput=="function"}ly=cy}else ly=!1;IP=ly&&(!document.documentMode||9<document.documentMode)}function qj(){Ou&&(Ou.detachEvent("onpropertychange",LP),ad=Ou=null)}function LP(e){if(e.propertyName==="value"&&Jm(ad)){var t=[];OP(t,ad,e,bw(e)),yP(_3,t)}}function k3(e,t,n){e==="focusin"?(qj(),Ou=t,ad=n,Ou.attachEvent("onpropertychange",LP)):e==="focusout"&&qj()}function T3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jm(ad)}function E3(e,t){if(e==="click")return Jm(t)}function A3(e,t){if(e==="input"||e==="change")return Jm(t)}function M3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qs=typeof Object.is=="function"?Object.is:M3;function od(e,t){if(qs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Mv.call(t,r)||!qs(e[r],t[r]))return!1}return!0}function Kj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gj(e,t){var n=Kj(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kj(n)}}function $P(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$P(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function UP(){for(var e=window,t=bp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bp(e.document)}return t}function Ew(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function R3(e){var t=UP(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$P(n.ownerDocument.documentElement,n)){if(s!==null&&Ew(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!e.extend&&i>s&&(r=s,s=i,i=r),r=Gj(n,i);var a=Gj(n,s);r&&a&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var D3=si&&"documentMode"in document&&11>=document.documentMode,sl=null,Zv=null,Iu=null,Xv=!1;function Yj(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xv||sl==null||sl!==bp(s)||(s=sl,"selectionStart"in s&&Ew(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Iu&&od(Iu,s)||(Iu=s,s=kp(Zv,"onSelect"),0<s.length&&(t=new Pw("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=sl)))}function cf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rl={animationend:cf("Animation","AnimationEnd"),animationiteration:cf("Animation","AnimationIteration"),animationstart:cf("Animation","AnimationStart"),transitionend:cf("Transition","TransitionEnd")},uy={},BP={};si&&(BP=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function eg(e){if(uy[e])return uy[e];if(!rl[e])return e;var t=rl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in BP)return uy[e]=t[n];return e}var VP=eg("animationend"),zP=eg("animationiteration"),WP=eg("animationstart"),HP=eg("transitionend"),qP=new Map,Qj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ya(e,t){qP.set(e,t),$o(t,[e])}for(var dy=0;dy<Qj.length;dy++){var hy=Qj[dy],F3=hy.toLowerCase(),O3=hy[0].toUpperCase()+hy.slice(1);ya(F3,"on"+O3)}ya(VP,"onAnimationEnd");ya(zP,"onAnimationIteration");ya(WP,"onAnimationStart");ya("dblclick","onDoubleClick");ya("focusin","onFocus");ya("focusout","onBlur");ya(HP,"onTransitionEnd");dc("onMouseEnter",["mouseout","mouseover"]);dc("onMouseLeave",["mouseout","mouseover"]);dc("onPointerEnter",["pointerout","pointerover"]);dc("onPointerLeave",["pointerout","pointerover"]);$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$o("onBeforeInput",["compositionend","keypress","textInput","paste"]);$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I3=new Set("cancel close invalid load scroll toggle".split(" ").concat(bu));function Zj(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,FO(s,t,void 0,e),e.currentTarget=null}function KP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;Zj(r,l,u),i=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;Zj(r,l,u),i=c}}}if(Sp)throw e=Kv,Sp=!1,Kv=null,e}function rt(e,t){var n=t[sx];n===void 0&&(n=t[sx]=new Set);var s=e+"__bubble";n.has(s)||(GP(t,e,2,!1),n.add(s))}function fy(e,t,n){var s=0;t&&(s|=4),GP(n,e,s,t)}var uf="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[uf]){e[uf]=!0,tP.forEach(function(n){n!=="selectionchange"&&(I3.has(n)||fy(n,!1,e),fy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uf]||(t[uf]=!0,fy("selectionchange",!1,t))}}function GP(e,t,n,s){switch(AP(t)){case 1:var r=ZO;break;case 4:r=XO;break;default:r=Cw}n=r.bind(null,t,n,e),r=void 0,!qv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function py(e,t,n,s,r){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;l!==null;){if(a=Ia(l),a===null)return;if(c=a.tag,c===5||c===6){s=i=a;continue e}l=l.parentNode}}s=s.return}yP(function(){var u=i,d=bw(n),h=[];e:{var f=qP.get(e);if(f!==void 0){var p=Pw,x=e;switch(e){case"keypress":if(Kf(n)===0)break e;case"keydown":case"keyup":p=f3;break;case"focusin":x="focus",p=oy;break;case"focusout":x="blur",p=oy;break;case"beforeblur":case"afterblur":p=oy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$j;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=t3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=g3;break;case VP:case zP:case WP:p=r3;break;case HP:p=v3;break;case"scroll":p=JO;break;case"wheel":p=w3;break;case"copy":case"cut":case"paste":p=a3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Bj}var g=(t&4)!==0,b=!g&&e==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var y=u,w;y!==null;){w=y;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,v!==null&&(j=nd(y,v),j!=null&&g.push(cd(y,j,w)))),b)break;y=y.return}0<g.length&&(f=new p(f,x,null,n,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Wv&&(x=n.relatedTarget||n.fromElement)&&(Ia(x)||x[ri]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?Ia(x):null,x!==null&&(b=Uo(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(g=$j,j="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Bj,j="onPointerLeave",v="onPointerEnter",y="pointer"),b=p==null?f:il(p),w=x==null?f:il(x),f=new g(j,y+"leave",p,n,d),f.target=b,f.relatedTarget=w,j=null,Ia(d)===u&&(g=new g(v,y+"enter",x,n,d),g.target=w,g.relatedTarget=b,j=g),b=j,p&&x)t:{for(g=p,v=x,y=0,w=g;w;w=Wo(w))y++;for(w=0,j=v;j;j=Wo(j))w++;for(;0<y-w;)g=Wo(g),y--;for(;0<w-y;)v=Wo(v),w--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=Wo(g),v=Wo(v)}g=null}else g=null;p!==null&&Xj(h,f,p,g,!1),x!==null&&b!==null&&Xj(h,b,x,g,!0)}}e:{if(f=u?il(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=P3;else if(Wj(f))if(IP)N=A3;else{N=T3;var k=k3}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=E3);if(N&&(N=N(e,u))){OP(h,N,n,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&$v(f,"number",f.value)}switch(k=u?il(u):window,e){case"focusin":(Wj(k)||k.contentEditable==="true")&&(sl=k,Zv=u,Iu=null);break;case"focusout":Iu=Zv=sl=null;break;case"mousedown":Xv=!0;break;case"contextmenu":case"mouseup":case"dragend":Xv=!1,Yj(h,n,d);break;case"selectionchange":if(D3)break;case"keydown":case"keyup":Yj(h,n,d)}var C;if(Tw)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else nl?DP(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(RP&&n.locale!=="ko"&&(nl||T!=="onCompositionStart"?T==="onCompositionEnd"&&nl&&(C=MP()):(Bi=d,_w="value"in Bi?Bi.value:Bi.textContent,nl=!0)),k=kp(u,T),0<k.length&&(T=new Uj(T,e,null,n,d),h.push({event:T,listeners:k}),C?T.data=C:(C=FP(n),C!==null&&(T.data=C)))),(C=j3?S3(e,n):N3(e,n))&&(u=kp(u,"onBeforeInput"),0<u.length&&(d=new Uj("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}KP(h,t)})}function cd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function kp(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=nd(e,n),i!=null&&s.unshift(cd(e,i,r)),i=nd(e,t),i!=null&&s.push(cd(e,i,r))),e=e.return}return s}function Wo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xj(e,t,n,s,r){for(var i=t._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=nd(n,i),c!=null&&a.unshift(cd(n,c,l))):r||(c=nd(n,i),c!=null&&a.push(cd(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var L3=/\r\n?/g,$3=/\u0000|\uFFFD/g;function Jj(e){return(typeof e=="string"?e:""+e).replace(L3,`
`).replace($3,"")}function df(e,t,n){if(t=Jj(t),Jj(e)!==t&&n)throw Error(Y(425))}function Tp(){}var Jv=null,ex=null;function tx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nx=typeof setTimeout=="function"?setTimeout:void 0,U3=typeof clearTimeout=="function"?clearTimeout:void 0,eS=typeof Promise=="function"?Promise:void 0,B3=typeof queueMicrotask=="function"?queueMicrotask:typeof eS<"u"?function(e){return eS.resolve(null).then(e).catch(V3)}:nx;function V3(e){setTimeout(function(){throw e})}function my(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),id(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);id(t)}function Yi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vc=Math.random().toString(36).slice(2),mr="__reactFiber$"+Vc,ud="__reactProps$"+Vc,ri="__reactContainer$"+Vc,sx="__reactEvents$"+Vc,z3="__reactListeners$"+Vc,W3="__reactHandles$"+Vc;function Ia(e){var t=e[mr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ri]||n[mr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tS(e);e!==null;){if(n=e[mr])return n;e=tS(e)}return t}e=n,n=e.parentNode}return null}function Sh(e){return e=e[mr]||e[ri],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function il(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function tg(e){return e[ud]||null}var rx=[],al=-1;function va(e){return{current:e}}function it(e){0>al||(e.current=rx[al],rx[al]=null,al--)}function et(e,t){al++,rx[al]=e.current,e.current=t}var ia={},hn=va(ia),Mn=va(!1),fo=ia;function hc(e,t){var n=e.type.contextTypes;if(!n)return ia;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Rn(e){return e=e.childContextTypes,e!=null}function Ep(){it(Mn),it(hn)}function nS(e,t,n){if(hn.current!==ia)throw Error(Y(168));et(hn,t),et(Mn,n)}function YP(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(Y(108,kO(e)||"Unknown",r));return ht({},n,s)}function Ap(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ia,fo=hn.current,et(hn,e),et(Mn,Mn.current),!0}function sS(e,t,n){var s=e.stateNode;if(!s)throw Error(Y(169));n?(e=YP(e,t,fo),s.__reactInternalMemoizedMergedChildContext=e,it(Mn),it(hn),et(hn,e)):it(Mn),et(Mn,n)}var Ur=null,ng=!1,gy=!1;function QP(e){Ur===null?Ur=[e]:Ur.push(e)}function H3(e){ng=!0,QP(e)}function xa(){if(!gy&&Ur!==null){gy=!0;var e=0,t=Qe;try{var n=Ur;for(Qe=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Ur=null,ng=!1}catch(r){throw Ur!==null&&(Ur=Ur.slice(e+1)),bP(jw,xa),r}finally{Qe=t,gy=!1}}return null}var ol=[],ll=0,Mp=null,Rp=0,ds=[],hs=0,po=null,Gr=1,Yr="";function ka(e,t){ol[ll++]=Rp,ol[ll++]=Mp,Mp=e,Rp=t}function ZP(e,t,n){ds[hs++]=Gr,ds[hs++]=Yr,ds[hs++]=po,po=e;var s=Gr;e=Yr;var r=32-zs(s)-1;s&=~(1<<r),n+=1;var i=32-zs(t)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Gr=1<<32-zs(t)+r|n<<r|s,Yr=i+e}else Gr=1<<i|n<<r|s,Yr=e}function Aw(e){e.return!==null&&(ka(e,1),ZP(e,1,0))}function Mw(e){for(;e===Mp;)Mp=ol[--ll],ol[ll]=null,Rp=ol[--ll],ol[ll]=null;for(;e===po;)po=ds[--hs],ds[hs]=null,Yr=ds[--hs],ds[hs]=null,Gr=ds[--hs],ds[hs]=null}var qn=null,Hn=null,ot=!1,Ds=null;function XP(e,t){var n=fs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qn=e,Hn=Yi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qn=e,Hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=po!==null?{id:Gr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qn=e,Hn=null,!0):!1;default:return!1}}function ix(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ax(e){if(ot){var t=Hn;if(t){var n=t;if(!rS(e,t)){if(ix(e))throw Error(Y(418));t=Yi(n.nextSibling);var s=qn;t&&rS(e,t)?XP(s,n):(e.flags=e.flags&-4097|2,ot=!1,qn=e)}}else{if(ix(e))throw Error(Y(418));e.flags=e.flags&-4097|2,ot=!1,qn=e}}}function iS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qn=e}function hf(e){if(e!==qn)return!1;if(!ot)return iS(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tx(e.type,e.memoizedProps)),t&&(t=Hn)){if(ix(e))throw JP(),Error(Y(418));for(;t;)XP(e,t),t=Yi(t.nextSibling)}if(iS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Hn=Yi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Hn=null}}else Hn=qn?Yi(e.stateNode.nextSibling):null;return!0}function JP(){for(var e=Hn;e;)e=Yi(e.nextSibling)}function fc(){Hn=qn=null,ot=!1}function Rw(e){Ds===null?Ds=[e]:Ds.push(e)}var q3=hi.ReactCurrentBatchConfig;function ru(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var s=n.stateNode}if(!s)throw Error(Y(147,e));var r=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=r.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,e))}return e}function ff(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function aS(e){var t=e._init;return t(e._payload)}function ek(e){function t(v,y){if(e){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function s(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function r(v,y){return v=Ji(v,y),v.index=0,v.sibling=null,v}function i(v,y,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,w,j){return y===null||y.tag!==6?(y=Sy(w,v.mode,j),y.return=v,y):(y=r(y,w),y.return=v,y)}function c(v,y,w,j){var N=w.type;return N===tl?d(v,y,w.props.children,j,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ni&&aS(N)===y.type)?(j=r(y,w.props),j.ref=ru(v,y,w),j.return=v,j):(j=ep(w.type,w.key,w.props,null,v.mode,j),j.ref=ru(v,y,w),j.return=v,j)}function u(v,y,w,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Ny(w,v.mode,j),y.return=v,y):(y=r(y,w.children||[]),y.return=v,y)}function d(v,y,w,j,N){return y===null||y.tag!==7?(y=co(w,v.mode,j,N),y.return=v,y):(y=r(y,w),y.return=v,y)}function h(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Sy(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tf:return w=ep(y.type,y.key,y.props,null,v.mode,w),w.ref=ru(v,null,y),w.return=v,w;case el:return y=Ny(y,v.mode,w),y.return=v,y;case Ni:var j=y._init;return h(v,j(y._payload),w)}if(xu(y)||Jc(y))return y=co(y,v.mode,w,null),y.return=v,y;ff(v,y)}return null}function f(v,y,w,j){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(v,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tf:return w.key===N?c(v,y,w,j):null;case el:return w.key===N?u(v,y,w,j):null;case Ni:return N=w._init,f(v,y,N(w._payload),j)}if(xu(w)||Jc(w))return N!==null?null:d(v,y,w,j,null);ff(v,w)}return null}function p(v,y,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(w)||null,l(y,v,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case tf:return v=v.get(j.key===null?w:j.key)||null,c(y,v,j,N);case el:return v=v.get(j.key===null?w:j.key)||null,u(y,v,j,N);case Ni:var k=j._init;return p(v,y,w,k(j._payload),N)}if(xu(j)||Jc(j))return v=v.get(w)||null,d(y,v,j,N,null);ff(y,j)}return null}function x(v,y,w,j){for(var N=null,k=null,C=y,T=y=0,M=null;C!==null&&T<w.length;T++){C.index>T?(M=C,C=null):M=C.sibling;var E=f(v,C,w[T],j);if(E===null){C===null&&(C=M);break}e&&C&&E.alternate===null&&t(v,C),y=i(E,y,T),k===null?N=E:k.sibling=E,k=E,C=M}if(T===w.length)return n(v,C),ot&&ka(v,T),N;if(C===null){for(;T<w.length;T++)C=h(v,w[T],j),C!==null&&(y=i(C,y,T),k===null?N=C:k.sibling=C,k=C);return ot&&ka(v,T),N}for(C=s(v,C);T<w.length;T++)M=p(C,v,T,w[T],j),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?T:M.key),y=i(M,y,T),k===null?N=M:k.sibling=M,k=M);return e&&C.forEach(function(O){return t(v,O)}),ot&&ka(v,T),N}function g(v,y,w,j){var N=Jc(w);if(typeof N!="function")throw Error(Y(150));if(w=N.call(w),w==null)throw Error(Y(151));for(var k=N=null,C=y,T=y=0,M=null,E=w.next();C!==null&&!E.done;T++,E=w.next()){C.index>T?(M=C,C=null):M=C.sibling;var O=f(v,C,E.value,j);if(O===null){C===null&&(C=M);break}e&&C&&O.alternate===null&&t(v,C),y=i(O,y,T),k===null?N=O:k.sibling=O,k=O,C=M}if(E.done)return n(v,C),ot&&ka(v,T),N;if(C===null){for(;!E.done;T++,E=w.next())E=h(v,E.value,j),E!==null&&(y=i(E,y,T),k===null?N=E:k.sibling=E,k=E);return ot&&ka(v,T),N}for(C=s(v,C);!E.done;T++,E=w.next())E=p(C,v,T,E.value,j),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?T:E.key),y=i(E,y,T),k===null?N=E:k.sibling=E,k=E);return e&&C.forEach(function(D){return t(v,D)}),ot&&ka(v,T),N}function b(v,y,w,j){if(typeof w=="object"&&w!==null&&w.type===tl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case tf:e:{for(var N=w.key,k=y;k!==null;){if(k.key===N){if(N=w.type,N===tl){if(k.tag===7){n(v,k.sibling),y=r(k,w.props.children),y.return=v,v=y;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ni&&aS(N)===k.type){n(v,k.sibling),y=r(k,w.props),y.ref=ru(v,k,w),y.return=v,v=y;break e}n(v,k);break}else t(v,k);k=k.sibling}w.type===tl?(y=co(w.props.children,v.mode,j,w.key),y.return=v,v=y):(j=ep(w.type,w.key,w.props,null,v.mode,j),j.ref=ru(v,y,w),j.return=v,v=j)}return a(v);case el:e:{for(k=w.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=r(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Ny(w,v.mode,j),y.return=v,v=y}return a(v);case Ni:return k=w._init,b(v,y,k(w._payload),j)}if(xu(w))return x(v,y,w,j);if(Jc(w))return g(v,y,w,j);ff(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=r(y,w),y.return=v,v=y):(n(v,y),y=Sy(w,v.mode,j),y.return=v,v=y),a(v)):n(v,y)}return b}var pc=ek(!0),tk=ek(!1),Dp=va(null),Fp=null,cl=null,Dw=null;function Fw(){Dw=cl=Fp=null}function Ow(e){var t=Dp.current;it(Dp),e._currentValue=t}function ox(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Nl(e,t){Fp=e,Dw=cl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(An=!0),e.firstContext=null)}function ms(e){var t=e._currentValue;if(Dw!==e)if(e={context:e,memoizedValue:t,next:null},cl===null){if(Fp===null)throw Error(Y(308));cl=e,Fp.dependencies={lanes:0,firstContext:e}}else cl=cl.next=e;return t}var La=null;function Iw(e){La===null?La=[e]:La.push(e)}function nk(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,Iw(t)):(n.next=r.next,r.next=n),t.interleaved=n,ii(e,s)}function ii(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ci=!1;function Lw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ie&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,ii(e,n)}return r=s.interleaved,r===null?(t.next=t,Iw(s)):(t.next=r.next,r.next=t),s.interleaved=t,ii(e,n)}function Gf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Sw(e,n)}}function oS(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Op(e,t,n,s){var r=e.updateQueue;Ci=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(f=t,p=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=ht({},h,f);break e;case 2:Ci=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do a|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);go|=a,e.lanes=a,e.memoizedState=h}}function lS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(Y(191,r));r.call(s)}}}var Nh={},br=va(Nh),dd=va(Nh),hd=va(Nh);function $a(e){if(e===Nh)throw Error(Y(174));return e}function $w(e,t){switch(et(hd,t),et(dd,e),et(br,Nh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bv(t,e)}it(br),et(br,t)}function mc(){it(br),it(dd),it(hd)}function rk(e){$a(hd.current);var t=$a(br.current),n=Bv(t,e.type);t!==n&&(et(dd,e),et(br,n))}function Uw(e){dd.current===e&&(it(br),it(dd))}var ct=va(0);function Ip(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yy=[];function Bw(){for(var e=0;e<yy.length;e++)yy[e]._workInProgressVersionPrimary=null;yy.length=0}var Yf=hi.ReactCurrentDispatcher,vy=hi.ReactCurrentBatchConfig,mo=0,dt=null,Dt=null,Ut=null,Lp=!1,Lu=!1,fd=0,K3=0;function tn(){throw Error(Y(321))}function Vw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qs(e[n],t[n]))return!1;return!0}function zw(e,t,n,s,r,i){if(mo=i,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yf.current=e===null||e.memoizedState===null?Z3:X3,e=n(s,r),Lu){i=0;do{if(Lu=!1,fd=0,25<=i)throw Error(Y(301));i+=1,Ut=Dt=null,t.updateQueue=null,Yf.current=J3,e=n(s,r)}while(Lu)}if(Yf.current=$p,t=Dt!==null&&Dt.next!==null,mo=0,Ut=Dt=dt=null,Lp=!1,t)throw Error(Y(300));return e}function Ww(){var e=fd!==0;return fd=0,e}function ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?dt.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function gs(){if(Dt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=Ut===null?dt.memoizedState:Ut.next;if(t!==null)Ut=t,Dt=e;else{if(e===null)throw Error(Y(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ut===null?dt.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function pd(e,t){return typeof t=="function"?t(e):t}function xy(e){var t=gs(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var s=Dt,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((mo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=s):c=c.next=h,dt.lanes|=d,go|=d}u=u.next}while(u!==null&&u!==i);c===null?a=s:c.next=l,qs(s,t.memoizedState)||(An=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do i=r.lane,dt.lanes|=i,go|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wy(e){var t=gs(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=e(i,a.action),a=a.next;while(a!==r);qs(i,t.memoizedState)||(An=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function ik(){}function ak(e,t){var n=dt,s=gs(),r=t(),i=!qs(s.memoizedState,r);if(i&&(s.memoizedState=r,An=!0),s=s.queue,Hw(ck.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,md(9,lk.bind(null,n,s,r,t),void 0,null),Bt===null)throw Error(Y(349));mo&30||ok(n,t,r)}return r}function ok(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lk(e,t,n,s){t.value=n,t.getSnapshot=s,uk(t)&&dk(e)}function ck(e,t,n){return n(function(){uk(t)&&dk(e)})}function uk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qs(e,n)}catch{return!0}}function dk(e){var t=ii(e,1);t!==null&&Ws(t,e,1,-1)}function cS(e){var t=ir();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pd,lastRenderedState:e},t.queue=e,e=e.dispatch=Q3.bind(null,dt,e),[t.memoizedState,e]}function md(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function hk(){return gs().memoizedState}function Qf(e,t,n,s){var r=ir();dt.flags|=e,r.memoizedState=md(1|t,n,void 0,s===void 0?null:s)}function sg(e,t,n,s){var r=gs();s=s===void 0?null:s;var i=void 0;if(Dt!==null){var a=Dt.memoizedState;if(i=a.destroy,s!==null&&Vw(s,a.deps)){r.memoizedState=md(t,n,i,s);return}}dt.flags|=e,r.memoizedState=md(1|t,n,i,s)}function uS(e,t){return Qf(8390656,8,e,t)}function Hw(e,t){return sg(2048,8,e,t)}function fk(e,t){return sg(4,2,e,t)}function pk(e,t){return sg(4,4,e,t)}function mk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gk(e,t,n){return n=n!=null?n.concat([e]):null,sg(4,4,mk.bind(null,t,e),n)}function qw(){}function yk(e,t){var n=gs();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Vw(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function vk(e,t){var n=gs();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Vw(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function xk(e,t,n){return mo&21?(qs(n,t)||(n=NP(),dt.lanes|=n,go|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,An=!0),e.memoizedState=n)}function G3(e,t){var n=Qe;Qe=n!==0&&4>n?n:4,e(!0);var s=vy.transition;vy.transition={};try{e(!1),t()}finally{Qe=n,vy.transition=s}}function wk(){return gs().memoizedState}function Y3(e,t,n){var s=Xi(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},bk(e))jk(t,n);else if(n=nk(e,t,n,s),n!==null){var r=jn();Ws(n,e,s,r),Sk(n,t,s)}}function Q3(e,t,n){var s=Xi(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(bk(e))jk(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(r.hasEagerState=!0,r.eagerState=l,qs(l,a)){var c=t.interleaved;c===null?(r.next=r,Iw(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=nk(e,t,r,s),n!==null&&(r=jn(),Ws(n,e,s,r),Sk(n,t,s))}}function bk(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function jk(e,t){Lu=Lp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sk(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Sw(e,n)}}var $p={readContext:ms,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},Z3={readContext:ms,useCallback:function(e,t){return ir().memoizedState=[e,t===void 0?null:t],e},useContext:ms,useEffect:uS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qf(4194308,4,mk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qf(4,2,e,t)},useMemo:function(e,t){var n=ir();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=ir();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Y3.bind(null,dt,e),[s.memoizedState,e]},useRef:function(e){var t=ir();return e={current:e},t.memoizedState=e},useState:cS,useDebugValue:qw,useDeferredValue:function(e){return ir().memoizedState=e},useTransition:function(){var e=cS(!1),t=e[0];return e=G3.bind(null,e[1]),ir().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=dt,r=ir();if(ot){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),Bt===null)throw Error(Y(349));mo&30||ok(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,uS(ck.bind(null,s,i,e),[e]),s.flags|=2048,md(9,lk.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=ir(),t=Bt.identifierPrefix;if(ot){var n=Yr,s=Gr;n=(s&~(1<<32-zs(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=fd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=K3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},X3={readContext:ms,useCallback:yk,useContext:ms,useEffect:Hw,useImperativeHandle:gk,useInsertionEffect:fk,useLayoutEffect:pk,useMemo:vk,useReducer:xy,useRef:hk,useState:function(){return xy(pd)},useDebugValue:qw,useDeferredValue:function(e){var t=gs();return xk(t,Dt.memoizedState,e)},useTransition:function(){var e=xy(pd)[0],t=gs().memoizedState;return[e,t]},useMutableSource:ik,useSyncExternalStore:ak,useId:wk,unstable_isNewReconciler:!1},J3={readContext:ms,useCallback:yk,useContext:ms,useEffect:Hw,useImperativeHandle:gk,useInsertionEffect:fk,useLayoutEffect:pk,useMemo:vk,useReducer:wy,useRef:hk,useState:function(){return wy(pd)},useDebugValue:qw,useDeferredValue:function(e){var t=gs();return Dt===null?t.memoizedState=e:xk(t,Dt.memoizedState,e)},useTransition:function(){var e=wy(pd)[0],t=gs().memoizedState;return[e,t]},useMutableSource:ik,useSyncExternalStore:ak,useId:wk,unstable_isNewReconciler:!1};function js(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function lx(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rg={isMounted:function(e){return(e=e._reactInternals)?Uo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=jn(),r=Xi(e),i=Zr(s,r);i.payload=t,n!=null&&(i.callback=n),t=Qi(e,i,r),t!==null&&(Ws(t,e,r,s),Gf(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=jn(),r=Xi(e),i=Zr(s,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qi(e,i,r),t!==null&&(Ws(t,e,r,s),Gf(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jn(),s=Xi(e),r=Zr(n,s);r.tag=2,t!=null&&(r.callback=t),t=Qi(e,r,s),t!==null&&(Ws(t,e,s,n),Gf(t,e,s))}};function dS(e,t,n,s,r,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,a):t.prototype&&t.prototype.isPureReactComponent?!od(n,s)||!od(r,i):!0}function Nk(e,t,n){var s=!1,r=ia,i=t.contextType;return typeof i=="object"&&i!==null?i=ms(i):(r=Rn(t)?fo:hn.current,s=t.contextTypes,i=(s=s!=null)?hc(e,r):ia),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rg,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function hS(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&rg.enqueueReplaceState(t,t.state,null)}function cx(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Lw(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=ms(i):(i=Rn(t)?fo:hn.current,r.context=hc(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(lx(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&rg.enqueueReplaceState(r,r.state,null),Op(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function gc(e,t){try{var n="",s=t;do n+=PO(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function by(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ux(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eI=typeof WeakMap=="function"?WeakMap:Map;function Ck(e,t,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Bp||(Bp=!0,wx=s),ux(e,t)},n}function _k(e,t,n){n=Zr(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){ux(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ux(e,t),typeof s!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function fS(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new eI;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=pI.bind(null,e,t,n),t.then(e,e))}function pS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mS(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zr(-1,1),t.tag=2,Qi(n,t,1))),n.lanes|=1),e)}var tI=hi.ReactCurrentOwner,An=!1;function wn(e,t,n,s){t.child=e===null?tk(t,null,n,s):pc(t,e.child,n,s)}function gS(e,t,n,s,r){n=n.render;var i=t.ref;return Nl(t,r),s=zw(e,t,n,s,i,r),n=Ww(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ai(e,t,r)):(ot&&n&&Aw(t),t.flags|=1,wn(e,t,s,r),t.child)}function yS(e,t,n,s,r){if(e===null){var i=n.type;return typeof i=="function"&&!e1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Pk(e,t,i,s,r)):(e=ep(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:od,n(a,s)&&e.ref===t.ref)return ai(e,t,r)}return t.flags|=1,e=Ji(i,s),e.ref=t.ref,e.return=t,t.child=e}function Pk(e,t,n,s,r){if(e!==null){var i=e.memoizedProps;if(od(i,s)&&e.ref===t.ref)if(An=!1,t.pendingProps=s=i,(e.lanes&r)!==0)e.flags&131072&&(An=!0);else return t.lanes=e.lanes,ai(e,t,r)}return dx(e,t,n,s,r)}function kk(e,t,n){var s=t.pendingProps,r=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(dl,Vn),Vn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(dl,Vn),Vn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,et(dl,Vn),Vn|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,et(dl,Vn),Vn|=s;return wn(e,t,r,n),t.child}function Tk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function dx(e,t,n,s,r){var i=Rn(n)?fo:hn.current;return i=hc(t,i),Nl(t,r),n=zw(e,t,n,s,i,r),s=Ww(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ai(e,t,r)):(ot&&s&&Aw(t),t.flags|=1,wn(e,t,n,r),t.child)}function vS(e,t,n,s,r){if(Rn(n)){var i=!0;Ap(t)}else i=!1;if(Nl(t,r),t.stateNode===null)Zf(e,t),Nk(t,n,s),cx(t,n,s,r),s=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ms(u):(u=Rn(n)?fo:hn.current,u=hc(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==s||c!==u)&&hS(t,a,s,u),Ci=!1;var f=t.memoizedState;a.state=f,Op(t,s,a,r),c=t.memoizedState,l!==s||f!==c||Mn.current||Ci?(typeof d=="function"&&(lx(t,n,d,s),c=t.memoizedState),(l=Ci||dS(t,n,l,s,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),a.props=s,a.state=c,a.context=u,s=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,sk(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:js(t.type,l),a.props=u,h=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ms(c):(c=Rn(n)?fo:hn.current,c=hc(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&hS(t,a,s,c),Ci=!1,f=t.memoizedState,a.state=f,Op(t,s,a,r);var x=t.memoizedState;l!==h||f!==x||Mn.current||Ci?(typeof p=="function"&&(lx(t,n,p,s),x=t.memoizedState),(u=Ci||dS(t,n,u,s,f,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),a.props=s,a.state=x,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return hx(e,t,n,s,i,r)}function hx(e,t,n,s,r,i){Tk(e,t);var a=(t.flags&128)!==0;if(!s&&!a)return r&&sS(t,n,!1),ai(e,t,i);s=t.stateNode,tI.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&a?(t.child=pc(t,e.child,null,i),t.child=pc(t,null,l,i)):wn(e,t,l,i),t.memoizedState=s.state,r&&sS(t,n,!0),t.child}function Ek(e){var t=e.stateNode;t.pendingContext?nS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nS(e,t.context,!1),$w(e,t.containerInfo)}function xS(e,t,n,s,r){return fc(),Rw(r),t.flags|=256,wn(e,t,n,s),t.child}var fx={dehydrated:null,treeContext:null,retryLane:0};function px(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ak(e,t,n){var s=t.pendingProps,r=ct.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),et(ct,r&1),e===null)return ax(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=s.children,e=s.fallback,i?(s=t.mode,i=t.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=og(a,s,0,null),e=co(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=px(n),t.memoizedState=fx,e):Kw(t,a));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return nI(e,t,a,s,l,r,n);if(i){i=s.fallback,a=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ji(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=Ji(l,i):(i=co(i,a,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,a=e.child.memoizedState,a=a===null?px(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=fx,s}return i=e.child,e=i.sibling,s=Ji(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Kw(e,t){return t=og({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pf(e,t,n,s){return s!==null&&Rw(s),pc(t,e.child,null,n),e=Kw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nI(e,t,n,s,r,i,a){if(n)return t.flags&256?(t.flags&=-257,s=by(Error(Y(422))),pf(e,t,a,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,r=t.mode,s=og({mode:"visible",children:s.children},r,0,null),i=co(i,r,a,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&pc(t,e.child,null,a),t.child.memoizedState=px(a),t.memoizedState=fx,i);if(!(t.mode&1))return pf(e,t,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(Y(419)),s=by(i,s,void 0),pf(e,t,a,s)}if(l=(a&e.childLanes)!==0,An||l){if(s=Bt,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,ii(e,r),Ws(s,e,r,-1))}return Jw(),s=by(Error(Y(421))),pf(e,t,a,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=mI.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,Hn=Yi(r.nextSibling),qn=t,ot=!0,Ds=null,e!==null&&(ds[hs++]=Gr,ds[hs++]=Yr,ds[hs++]=po,Gr=e.id,Yr=e.overflow,po=t),t=Kw(t,s.children),t.flags|=4096,t)}function wS(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ox(e.return,t,n)}function jy(e,t,n,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Mk(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(wn(e,t,s.children,n),s=ct.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wS(e,n,t);else if(e.tag===19)wS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(et(ct,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Ip(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),jy(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ip(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}jy(t,!0,n,null,i);break;case"together":jy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ai(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),go|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=Ji(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ji(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sI(e,t,n){switch(t.tag){case 3:Ek(t),fc();break;case 5:rk(t);break;case 1:Rn(t.type)&&Ap(t);break;case 4:$w(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;et(Dp,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(et(ct,ct.current&1),t.flags|=128,null):n&t.child.childLanes?Ak(e,t,n):(et(ct,ct.current&1),e=ai(e,t,n),e!==null?e.sibling:null);et(ct,ct.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Mk(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),et(ct,ct.current),s)break;return null;case 22:case 23:return t.lanes=0,kk(e,t,n)}return ai(e,t,n)}var Rk,mx,Dk,Fk;Rk=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mx=function(){};Dk=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,$a(br.current);var i=null;switch(n){case"input":r=Iv(e,r),s=Iv(e,s),i=[];break;case"select":r=ht({},r,{value:void 0}),s=ht({},s,{value:void 0}),i=[];break;case"textarea":r=Uv(e,r),s=Uv(e,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Tp)}Vv(n,s);var a;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ed.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ed.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&rt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Fk=function(e,t,n,s){n!==s&&(t.flags|=4)};function iu(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function rI(e,t,n){var s=t.pendingProps;switch(Mw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(t),null;case 1:return Rn(t.type)&&Ep(),nn(t),null;case 3:return s=t.stateNode,mc(),it(Mn),it(hn),Bw(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(hf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ds!==null&&(Sx(Ds),Ds=null))),mx(e,t),nn(t),null;case 5:Uw(t);var r=$a(hd.current);if(n=t.type,e!==null&&t.stateNode!=null)Dk(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Y(166));return nn(t),null}if(e=$a(br.current),hf(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[mr]=t,s[ud]=i,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",s),rt("close",s);break;case"iframe":case"object":case"embed":rt("load",s);break;case"video":case"audio":for(r=0;r<bu.length;r++)rt(bu[r],s);break;case"source":rt("error",s);break;case"img":case"image":case"link":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"input":Tj(s,i),rt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},rt("invalid",s);break;case"textarea":Aj(s,i),rt("invalid",s)}Vv(n,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&df(s.textContent,l,e),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&df(s.textContent,l,e),r=["children",""+l]):ed.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&rt("scroll",s)}switch(n){case"input":nf(s),Ej(s,i,!0);break;case"textarea":nf(s),Mj(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Tp)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(n,{is:s.is}):(e=a.createElement(n),n==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,n),e[mr]=t,e[ud]=s,Rk(e,t,!1,!1),t.stateNode=e;e:{switch(a=zv(n,s),n){case"dialog":rt("cancel",e),rt("close",e),r=s;break;case"iframe":case"object":case"embed":rt("load",e),r=s;break;case"video":case"audio":for(r=0;r<bu.length;r++)rt(bu[r],e);r=s;break;case"source":rt("error",e),r=s;break;case"img":case"image":case"link":rt("error",e),rt("load",e),r=s;break;case"details":rt("toggle",e),r=s;break;case"input":Tj(e,s),r=Iv(e,s),rt("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=ht({},s,{value:void 0}),rt("invalid",e);break;case"textarea":Aj(e,s),r=Uv(e,s),rt("invalid",e);break;default:r=s}Vv(n,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?hP(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uP(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&td(e,c):typeof c=="number"&&td(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ed.hasOwnProperty(i)?c!=null&&i==="onScroll"&&rt("scroll",e):c!=null&&yw(e,i,c,a))}switch(n){case"input":nf(e),Ej(e,s,!1);break;case"textarea":nf(e),Mj(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ra(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?wl(e,!!s.multiple,i,!1):s.defaultValue!=null&&wl(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Tp)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nn(t),null;case 6:if(e&&t.stateNode!=null)Fk(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Y(166));if(n=$a(hd.current),$a(br.current),hf(t)){if(s=t.stateNode,n=t.memoizedProps,s[mr]=t,(i=s.nodeValue!==n)&&(e=qn,e!==null))switch(e.tag){case 3:df(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&df(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[mr]=t,t.stateNode=s}return nn(t),null;case 13:if(it(ct),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&Hn!==null&&t.mode&1&&!(t.flags&128))JP(),fc(),t.flags|=98560,i=!1;else if(i=hf(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[mr]=t}else fc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nn(t),i=!1}else Ds!==null&&(Sx(Ds),Ds=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?It===0&&(It=3):Jw())),t.updateQueue!==null&&(t.flags|=4),nn(t),null);case 4:return mc(),mx(e,t),e===null&&ld(t.stateNode.containerInfo),nn(t),null;case 10:return Ow(t.type._context),nn(t),null;case 17:return Rn(t.type)&&Ep(),nn(t),null;case 19:if(it(ct),i=t.memoizedState,i===null)return nn(t),null;if(s=(t.flags&128)!==0,a=i.rendering,a===null)if(s)iu(i,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ip(e),a!==null){for(t.flags|=128,iu(i,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return et(ct,ct.current&1|2),t.child}e=e.sibling}i.tail!==null&&wt()>yc&&(t.flags|=128,s=!0,iu(i,!1),t.lanes=4194304)}else{if(!s)if(e=Ip(a),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),iu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ot)return nn(t),null}else 2*wt()-i.renderingStartTime>yc&&n!==1073741824&&(t.flags|=128,s=!0,iu(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wt(),t.sibling=null,n=ct.current,et(ct,s?n&1|2:n&1),t):(nn(t),null);case 22:case 23:return Xw(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Vn&1073741824&&(nn(t),t.subtreeFlags&6&&(t.flags|=8192)):nn(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function iI(e,t){switch(Mw(t),t.tag){case 1:return Rn(t.type)&&Ep(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mc(),it(Mn),it(hn),Bw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uw(t),null;case 13:if(it(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));fc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(ct),null;case 4:return mc(),null;case 10:return Ow(t.type._context),null;case 22:case 23:return Xw(),null;case 24:return null;default:return null}}var mf=!1,ln=!1,aI=typeof WeakSet=="function"?WeakSet:Set,oe=null;function ul(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){gt(e,t,s)}else n.current=null}function gx(e,t,n){try{n()}catch(s){gt(e,t,s)}}var bS=!1;function oI(e,t){if(Jv=_p,e=UP(),Ew(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||r!==0&&h.nodeType!==3||(l=a+r),h!==i||s!==0&&h.nodeType!==3||(c=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===r&&(l=a),f===i&&++d===s&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ex={focusedElem:e,selectionRange:n},_p=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,b=x.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:js(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(j){gt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return x=bS,bS=!1,x}function $u(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&gx(t,n,i)}r=r.next}while(r!==s)}}function ig(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function yx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ok(e){var t=e.alternate;t!==null&&(e.alternate=null,Ok(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mr],delete t[ud],delete t[sx],delete t[z3],delete t[W3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ik(e){return e.tag===5||e.tag===3||e.tag===4}function jS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ik(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vx(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Tp));else if(s!==4&&(e=e.child,e!==null))for(vx(e,t,n),e=e.sibling;e!==null;)vx(e,t,n),e=e.sibling}function xx(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(xx(e,t,n),e=e.sibling;e!==null;)xx(e,t,n),e=e.sibling}var qt=null,Es=!1;function gi(e,t,n){for(n=n.child;n!==null;)Lk(e,t,n),n=n.sibling}function Lk(e,t,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Zm,n)}catch{}switch(n.tag){case 5:ln||ul(n,t);case 6:var s=qt,r=Es;qt=null,gi(e,t,n),qt=s,Es=r,qt!==null&&(Es?(e=qt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(Es?(e=qt,n=n.stateNode,e.nodeType===8?my(e.parentNode,n):e.nodeType===1&&my(e,n),id(e)):my(qt,n.stateNode));break;case 4:s=qt,r=Es,qt=n.stateNode.containerInfo,Es=!0,gi(e,t,n),qt=s,Es=r;break;case 0:case 11:case 14:case 15:if(!ln&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&gx(n,t,a),r=r.next}while(r!==s)}gi(e,t,n);break;case 1:if(!ln&&(ul(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){gt(n,t,l)}gi(e,t,n);break;case 21:gi(e,t,n);break;case 22:n.mode&1?(ln=(s=ln)||n.memoizedState!==null,gi(e,t,n),ln=s):gi(e,t,n);break;default:gi(e,t,n)}}function SS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new aI),t.forEach(function(s){var r=gI.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function xs(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:qt=l.stateNode,Es=!1;break e;case 3:qt=l.stateNode.containerInfo,Es=!0;break e;case 4:qt=l.stateNode.containerInfo,Es=!0;break e}l=l.return}if(qt===null)throw Error(Y(160));Lk(i,a,r),qt=null,Es=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){gt(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$k(t,e),t=t.sibling}function $k(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xs(t,e),sr(e),s&4){try{$u(3,e,e.return),ig(3,e)}catch(g){gt(e,e.return,g)}try{$u(5,e,e.return)}catch(g){gt(e,e.return,g)}}break;case 1:xs(t,e),sr(e),s&512&&n!==null&&ul(n,n.return);break;case 5:if(xs(t,e),sr(e),s&512&&n!==null&&ul(n,n.return),e.flags&32){var r=e.stateNode;try{td(r,"")}catch(g){gt(e,e.return,g)}}if(s&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&oP(r,i),zv(l,a);var u=zv(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?hP(r,h):d==="dangerouslySetInnerHTML"?uP(r,h):d==="children"?td(r,h):yw(r,d,h,u)}switch(l){case"input":Lv(r,i);break;case"textarea":lP(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?wl(r,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?wl(r,!!i.multiple,i.defaultValue,!0):wl(r,!!i.multiple,i.multiple?[]:"",!1))}r[ud]=i}catch(g){gt(e,e.return,g)}}break;case 6:if(xs(t,e),sr(e),s&4){if(e.stateNode===null)throw Error(Y(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(g){gt(e,e.return,g)}}break;case 3:if(xs(t,e),sr(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{id(t.containerInfo)}catch(g){gt(e,e.return,g)}break;case 4:xs(t,e),sr(e);break;case 13:xs(t,e),sr(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Qw=wt())),s&4&&SS(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ln=(u=ln)||d,xs(t,e),ln=u):xs(t,e),sr(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(oe=e,d=e.child;d!==null;){for(h=oe=d;oe!==null;){switch(f=oe,p=f.child,f.tag){case 0:case 11:case 14:case 15:$u(4,f,f.return);break;case 1:ul(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){gt(s,n,g)}}break;case 5:ul(f,f.return);break;case 22:if(f.memoizedState!==null){CS(h);continue}}p!==null?(p.return=f,oe=p):CS(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dP("display",a))}catch(g){gt(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){gt(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xs(t,e),sr(e),s&4&&SS(e);break;case 21:break;default:xs(t,e),sr(e)}}function sr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ik(n)){var s=n;break e}n=n.return}throw Error(Y(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(td(r,""),s.flags&=-33);var i=jS(e);xx(e,i,r);break;case 3:case 4:var a=s.stateNode.containerInfo,l=jS(e);vx(e,l,a);break;default:throw Error(Y(161))}}catch(c){gt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lI(e,t,n){oe=e,Uk(e)}function Uk(e,t,n){for(var s=(e.mode&1)!==0;oe!==null;){var r=oe,i=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||mf;if(!a){var l=r.alternate,c=l!==null&&l.memoizedState!==null||ln;l=mf;var u=ln;if(mf=a,(ln=c)&&!u)for(oe=r;oe!==null;)a=oe,c=a.child,a.tag===22&&a.memoizedState!==null?_S(r):c!==null?(c.return=a,oe=c):_S(r);for(;i!==null;)oe=i,Uk(i),i=i.sibling;oe=r,mf=l,ln=u}NS(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,oe=i):NS(e)}}function NS(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ln||ig(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ln)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:js(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&lS(t,i,s);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}lS(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&id(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}ln||t.flags&512&&yx(t)}catch(f){gt(t,t.return,f)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function CS(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function _S(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ig(4,t)}catch(c){gt(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){gt(t,r,c)}}var i=t.return;try{yx(t)}catch(c){gt(t,i,c)}break;case 5:var a=t.return;try{yx(t)}catch(c){gt(t,a,c)}}}catch(c){gt(t,t.return,c)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var cI=Math.ceil,Up=hi.ReactCurrentDispatcher,Gw=hi.ReactCurrentOwner,ps=hi.ReactCurrentBatchConfig,Ie=0,Bt=null,Et=null,Qt=0,Vn=0,dl=va(0),It=0,gd=null,go=0,ag=0,Yw=0,Uu=null,En=null,Qw=0,yc=1/0,$r=null,Bp=!1,wx=null,Zi=null,gf=!1,Vi=null,Vp=0,Bu=0,bx=null,Xf=-1,Jf=0;function jn(){return Ie&6?wt():Xf!==-1?Xf:Xf=wt()}function Xi(e){return e.mode&1?Ie&2&&Qt!==0?Qt&-Qt:q3.transition!==null?(Jf===0&&(Jf=NP()),Jf):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:AP(e.type)),e):1}function Ws(e,t,n,s){if(50<Bu)throw Bu=0,bx=null,Error(Y(185));bh(e,n,s),(!(Ie&2)||e!==Bt)&&(e===Bt&&(!(Ie&2)&&(ag|=n),It===4&&Pi(e,Qt)),Dn(e,s),n===1&&Ie===0&&!(t.mode&1)&&(yc=wt()+500,ng&&xa()))}function Dn(e,t){var n=e.callbackNode;qO(e,t);var s=Cp(e,e===Bt?Qt:0);if(s===0)n!==null&&Fj(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Fj(n),t===1)e.tag===0?H3(PS.bind(null,e)):QP(PS.bind(null,e)),B3(function(){!(Ie&6)&&xa()}),n=null;else{switch(CP(s)){case 1:n=jw;break;case 4:n=jP;break;case 16:n=Np;break;case 536870912:n=SP;break;default:n=Np}n=Gk(n,Bk.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Bk(e,t){if(Xf=-1,Jf=0,Ie&6)throw Error(Y(327));var n=e.callbackNode;if(Cl()&&e.callbackNode!==n)return null;var s=Cp(e,e===Bt?Qt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=zp(e,s);else{t=s;var r=Ie;Ie|=2;var i=zk();(Bt!==e||Qt!==t)&&($r=null,yc=wt()+500,lo(e,t));do try{hI();break}catch(l){Vk(e,l)}while(!0);Fw(),Up.current=i,Ie=r,Et!==null?t=0:(Bt=null,Qt=0,t=It)}if(t!==0){if(t===2&&(r=Gv(e),r!==0&&(s=r,t=jx(e,r))),t===1)throw n=gd,lo(e,0),Pi(e,s),Dn(e,wt()),n;if(t===6)Pi(e,s);else{if(r=e.current.alternate,!(s&30)&&!uI(r)&&(t=zp(e,s),t===2&&(i=Gv(e),i!==0&&(s=i,t=jx(e,i))),t===1))throw n=gd,lo(e,0),Pi(e,s),Dn(e,wt()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(Y(345));case 2:Ta(e,En,$r);break;case 3:if(Pi(e,s),(s&130023424)===s&&(t=Qw+500-wt(),10<t)){if(Cp(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){jn(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=nx(Ta.bind(null,e,En,$r),t);break}Ta(e,En,$r);break;case 4:if(Pi(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var a=31-zs(s);i=1<<a,a=t[a],a>r&&(r=a),s&=~i}if(s=r,s=wt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*cI(s/1960))-s,10<s){e.timeoutHandle=nx(Ta.bind(null,e,En,$r),s);break}Ta(e,En,$r);break;case 5:Ta(e,En,$r);break;default:throw Error(Y(329))}}}return Dn(e,wt()),e.callbackNode===n?Bk.bind(null,e):null}function jx(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(lo(e,t).flags|=256),e=zp(e,t),e!==2&&(t=En,En=n,t!==null&&Sx(t)),e}function Sx(e){En===null?En=e:En.push.apply(En,e)}function uI(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!qs(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pi(e,t){for(t&=~Yw,t&=~ag,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zs(t),s=1<<n;e[n]=-1,t&=~s}}function PS(e){if(Ie&6)throw Error(Y(327));Cl();var t=Cp(e,0);if(!(t&1))return Dn(e,wt()),null;var n=zp(e,t);if(e.tag!==0&&n===2){var s=Gv(e);s!==0&&(t=s,n=jx(e,s))}if(n===1)throw n=gd,lo(e,0),Pi(e,t),Dn(e,wt()),n;if(n===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ta(e,En,$r),Dn(e,wt()),null}function Zw(e,t){var n=Ie;Ie|=1;try{return e(t)}finally{Ie=n,Ie===0&&(yc=wt()+500,ng&&xa())}}function yo(e){Vi!==null&&Vi.tag===0&&!(Ie&6)&&Cl();var t=Ie;Ie|=1;var n=ps.transition,s=Qe;try{if(ps.transition=null,Qe=1,e)return e()}finally{Qe=s,ps.transition=n,Ie=t,!(Ie&6)&&xa()}}function Xw(){Vn=dl.current,it(dl)}function lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,U3(n)),Et!==null)for(n=Et.return;n!==null;){var s=n;switch(Mw(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ep();break;case 3:mc(),it(Mn),it(hn),Bw();break;case 5:Uw(s);break;case 4:mc();break;case 13:it(ct);break;case 19:it(ct);break;case 10:Ow(s.type._context);break;case 22:case 23:Xw()}n=n.return}if(Bt=e,Et=e=Ji(e.current,null),Qt=Vn=t,It=0,gd=null,Yw=ag=go=0,En=Uu=null,La!==null){for(t=0;t<La.length;t++)if(n=La[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var a=i.next;i.next=r,s.next=a}n.pending=s}La=null}return e}function Vk(e,t){do{var n=Et;try{if(Fw(),Yf.current=$p,Lp){for(var s=dt.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Lp=!1}if(mo=0,Ut=Dt=dt=null,Lu=!1,fd=0,Gw.current=null,n===null||n.return===null){It=1,gd=t,Et=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=Qt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=pS(a);if(p!==null){p.flags&=-257,mS(p,a,l,i,t),p.mode&1&&fS(i,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){fS(i,u,t),Jw();break e}c=Error(Y(426))}}else if(ot&&l.mode&1){var b=pS(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),mS(b,a,l,i,t),Rw(gc(c,l));break e}}i=c=gc(c,l),It!==4&&(It=2),Uu===null?Uu=[i]:Uu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Ck(i,c,t);oS(i,v);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Zi===null||!Zi.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=_k(i,l,t);oS(i,j);break e}}i=i.return}while(i!==null)}Hk(n)}catch(N){t=N,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function zk(){var e=Up.current;return Up.current=$p,e===null?$p:e}function Jw(){(It===0||It===3||It===2)&&(It=4),Bt===null||!(go&268435455)&&!(ag&268435455)||Pi(Bt,Qt)}function zp(e,t){var n=Ie;Ie|=2;var s=zk();(Bt!==e||Qt!==t)&&($r=null,lo(e,t));do try{dI();break}catch(r){Vk(e,r)}while(!0);if(Fw(),Ie=n,Up.current=s,Et!==null)throw Error(Y(261));return Bt=null,Qt=0,It}function dI(){for(;Et!==null;)Wk(Et)}function hI(){for(;Et!==null&&!IO();)Wk(Et)}function Wk(e){var t=Kk(e.alternate,e,Vn);e.memoizedProps=e.pendingProps,t===null?Hk(e):Et=t,Gw.current=null}function Hk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=iI(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{It=6,Et=null;return}}else if(n=rI(n,t,Vn),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);It===0&&(It=5)}function Ta(e,t,n){var s=Qe,r=ps.transition;try{ps.transition=null,Qe=1,fI(e,t,n,s)}finally{ps.transition=r,Qe=s}return null}function fI(e,t,n,s){do Cl();while(Vi!==null);if(Ie&6)throw Error(Y(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(KO(e,i),e===Bt&&(Et=Bt=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gf||(gf=!0,Gk(Np,function(){return Cl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ps.transition,ps.transition=null;var a=Qe;Qe=1;var l=Ie;Ie|=4,Gw.current=null,oI(e,n),$k(n,e),R3(ex),_p=!!Jv,ex=Jv=null,e.current=n,lI(n),LO(),Ie=l,Qe=a,ps.transition=i}else e.current=n;if(gf&&(gf=!1,Vi=e,Vp=r),i=e.pendingLanes,i===0&&(Zi=null),BO(n.stateNode),Dn(e,wt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Bp)throw Bp=!1,e=wx,wx=null,e;return Vp&1&&e.tag!==0&&Cl(),i=e.pendingLanes,i&1?e===bx?Bu++:(Bu=0,bx=e):Bu=0,xa(),null}function Cl(){if(Vi!==null){var e=CP(Vp),t=ps.transition,n=Qe;try{if(ps.transition=null,Qe=16>e?16:e,Vi===null)var s=!1;else{if(e=Vi,Vi=null,Vp=0,Ie&6)throw Error(Y(331));var r=Ie;for(Ie|=4,oe=e.current;oe!==null;){var i=oe,a=i.child;if(oe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(oe=u;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:$u(8,d,i)}var h=d.child;if(h!==null)h.return=d,oe=h;else for(;oe!==null;){d=oe;var f=d.sibling,p=d.return;if(Ok(d),d===u){oe=null;break}if(f!==null){f.return=p,oe=f;break}oe=p}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}oe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,oe=a;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$u(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,oe=v;break e}oe=i.return}}var y=e.current;for(oe=y;oe!==null;){a=oe;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,oe=w;else e:for(a=y;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ig(9,l)}}catch(N){gt(l,l.return,N)}if(l===a){oe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,oe=j;break e}oe=l.return}}if(Ie=r,xa(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Zm,e)}catch{}s=!0}return s}finally{Qe=n,ps.transition=t}}return!1}function kS(e,t,n){t=gc(n,t),t=Ck(e,t,1),e=Qi(e,t,1),t=jn(),e!==null&&(bh(e,1,t),Dn(e,t))}function gt(e,t,n){if(e.tag===3)kS(e,e,n);else for(;t!==null;){if(t.tag===3){kS(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Zi===null||!Zi.has(s))){e=gc(n,e),e=_k(t,e,1),t=Qi(t,e,1),e=jn(),t!==null&&(bh(t,1,e),Dn(t,e));break}}t=t.return}}function pI(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=jn(),e.pingedLanes|=e.suspendedLanes&n,Bt===e&&(Qt&n)===n&&(It===4||It===3&&(Qt&130023424)===Qt&&500>wt()-Qw?lo(e,0):Yw|=n),Dn(e,t)}function qk(e,t){t===0&&(e.mode&1?(t=af,af<<=1,!(af&130023424)&&(af=4194304)):t=1);var n=jn();e=ii(e,t),e!==null&&(bh(e,t,n),Dn(e,n))}function mI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qk(e,n)}function gI(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Y(314))}s!==null&&s.delete(t),qk(e,n)}var Kk;Kk=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mn.current)An=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return An=!1,sI(e,t,n);An=!!(e.flags&131072)}else An=!1,ot&&t.flags&1048576&&ZP(t,Rp,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Zf(e,t),e=t.pendingProps;var r=hc(t,hn.current);Nl(t,n),r=zw(null,t,s,e,r,n);var i=Ww();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rn(s)?(i=!0,Ap(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Lw(t),r.updater=rg,t.stateNode=r,r._reactInternals=t,cx(t,s,e,n),t=hx(null,t,s,!0,i,n)):(t.tag=0,ot&&i&&Aw(t),wn(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Zf(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=vI(s),e=js(s,e),r){case 0:t=dx(null,t,s,e,n);break e;case 1:t=vS(null,t,s,e,n);break e;case 11:t=gS(null,t,s,e,n);break e;case 14:t=yS(null,t,s,js(s.type,e),n);break e}throw Error(Y(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:js(s,r),dx(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:js(s,r),vS(e,t,s,r,n);case 3:e:{if(Ek(t),e===null)throw Error(Y(387));s=t.pendingProps,i=t.memoizedState,r=i.element,sk(e,t),Op(t,s,null,n);var a=t.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=gc(Error(Y(423)),t),t=xS(e,t,s,n,r);break e}else if(s!==r){r=gc(Error(Y(424)),t),t=xS(e,t,s,n,r);break e}else for(Hn=Yi(t.stateNode.containerInfo.firstChild),qn=t,ot=!0,Ds=null,n=tk(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fc(),s===r){t=ai(e,t,n);break e}wn(e,t,s,n)}t=t.child}return t;case 5:return rk(t),e===null&&ax(t),s=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,a=r.children,tx(s,r)?a=null:i!==null&&tx(s,i)&&(t.flags|=32),Tk(e,t),wn(e,t,a,n),t.child;case 6:return e===null&&ax(t),null;case 13:return Ak(e,t,n);case 4:return $w(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=pc(t,null,s,n):wn(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:js(s,r),gS(e,t,s,r,n);case 7:return wn(e,t,t.pendingProps,n),t.child;case 8:return wn(e,t,t.pendingProps.children,n),t.child;case 12:return wn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,i=t.memoizedProps,a=r.value,et(Dp,s._currentValue),s._currentValue=a,i!==null)if(qs(i.value,a)){if(i.children===r.children&&!Mn.current){t=ai(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Zr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ox(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Y(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ox(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}wn(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,Nl(t,n),r=ms(r),s=s(r),t.flags|=1,wn(e,t,s,n),t.child;case 14:return s=t.type,r=js(s,t.pendingProps),r=js(s.type,r),yS(e,t,s,r,n);case 15:return Pk(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:js(s,r),Zf(e,t),t.tag=1,Rn(s)?(e=!0,Ap(t)):e=!1,Nl(t,n),Nk(t,s,r),cx(t,s,r,n),hx(null,t,s,!0,e,n);case 19:return Mk(e,t,n);case 22:return kk(e,t,n)}throw Error(Y(156,t.tag))};function Gk(e,t){return bP(e,t)}function yI(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(e,t,n,s){return new yI(e,t,n,s)}function e1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vI(e){if(typeof e=="function")return e1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xw)return 11;if(e===ww)return 14}return 2}function Ji(e,t){var n=e.alternate;return n===null?(n=fs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ep(e,t,n,s,r,i){var a=2;if(s=e,typeof e=="function")e1(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case tl:return co(n.children,r,i,t);case vw:a=8,r|=8;break;case Rv:return e=fs(12,n,t,r|2),e.elementType=Rv,e.lanes=i,e;case Dv:return e=fs(13,n,t,r),e.elementType=Dv,e.lanes=i,e;case Fv:return e=fs(19,n,t,r),e.elementType=Fv,e.lanes=i,e;case rP:return og(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nP:a=10;break e;case sP:a=9;break e;case xw:a=11;break e;case ww:a=14;break e;case Ni:a=16,s=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=fs(a,n,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function co(e,t,n,s){return e=fs(7,e,s,t),e.lanes=n,e}function og(e,t,n,s){return e=fs(22,e,s,t),e.elementType=rP,e.lanes=n,e.stateNode={isHidden:!1},e}function Sy(e,t,n){return e=fs(6,e,null,t),e.lanes=n,e}function Ny(e,t,n){return t=fs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xI(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ry(0),this.expirationTimes=ry(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ry(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function t1(e,t,n,s,r,i,a,l,c){return e=new xI(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=fs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lw(i),e}function wI(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:el,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Yk(e){if(!e)return ia;e=e._reactInternals;e:{if(Uo(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var n=e.type;if(Rn(n))return YP(e,n,t)}return t}function Qk(e,t,n,s,r,i,a,l,c){return e=t1(n,s,!0,e,r,i,a,l,c),e.context=Yk(null),n=e.current,s=jn(),r=Xi(n),i=Zr(s,r),i.callback=t??null,Qi(n,i,r),e.current.lanes=r,bh(e,r,s),Dn(e,s),e}function lg(e,t,n,s){var r=t.current,i=jn(),a=Xi(r);return n=Yk(n),t.context===null?t.context=n:t.pendingContext=n,t=Zr(i,a),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Qi(r,t,a),e!==null&&(Ws(e,r,a,i),Gf(e,r,a)),a}function Wp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function TS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function n1(e,t){TS(e,t),(e=e.alternate)&&TS(e,t)}function bI(){return null}var Zk=typeof reportError=="function"?reportError:function(e){console.error(e)};function s1(e){this._internalRoot=e}cg.prototype.render=s1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));lg(e,t,null,null)};cg.prototype.unmount=s1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yo(function(){lg(null,e,null,null)}),t[ri]=null}};function cg(e){this._internalRoot=e}cg.prototype.unstable_scheduleHydration=function(e){if(e){var t=kP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_i.length&&t!==0&&t<_i[n].priority;n++);_i.splice(n,0,e),n===0&&EP(e)}};function r1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ug(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ES(){}function jI(e,t,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=Wp(a);i.call(u)}}var a=Qk(t,s,e,0,null,!1,!1,"",ES);return e._reactRootContainer=a,e[ri]=a.current,ld(e.nodeType===8?e.parentNode:e),yo(),a}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=Wp(c);l.call(u)}}var c=t1(e,0,!1,null,null,!1,!1,"",ES);return e._reactRootContainer=c,e[ri]=c.current,ld(e.nodeType===8?e.parentNode:e),yo(function(){lg(t,c,n,s)}),c}function dg(e,t,n,s,r){var i=n._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var l=r;r=function(){var c=Wp(a);l.call(c)}}lg(t,a,e,r)}else a=jI(n,t,e,r,s);return Wp(a)}_P=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wu(t.pendingLanes);n!==0&&(Sw(t,n|1),Dn(t,wt()),!(Ie&6)&&(yc=wt()+500,xa()))}break;case 13:yo(function(){var s=ii(e,1);if(s!==null){var r=jn();Ws(s,e,1,r)}}),n1(e,1)}};Nw=function(e){if(e.tag===13){var t=ii(e,134217728);if(t!==null){var n=jn();Ws(t,e,134217728,n)}n1(e,134217728)}};PP=function(e){if(e.tag===13){var t=Xi(e),n=ii(e,t);if(n!==null){var s=jn();Ws(n,e,t,s)}n1(e,t)}};kP=function(){return Qe};TP=function(e,t){var n=Qe;try{return Qe=e,t()}finally{Qe=n}};Hv=function(e,t,n){switch(t){case"input":if(Lv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=tg(s);if(!r)throw Error(Y(90));aP(s),Lv(s,r)}}}break;case"textarea":lP(e,n);break;case"select":t=n.value,t!=null&&wl(e,!!n.multiple,t,!1)}};mP=Zw;gP=yo;var SI={usingClientEntryPoint:!1,Events:[Sh,il,tg,fP,pP,Zw]},au={findFiberByHostInstance:Ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NI={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xP(e),e===null?null:e.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||bI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{Zm=yf.inject(NI),wr=yf}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SI;Xn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r1(t))throw Error(Y(200));return wI(e,t,null,n)};Xn.createRoot=function(e,t){if(!r1(e))throw Error(Y(299));var n=!1,s="",r=Zk;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=t1(e,1,!1,null,null,n,!1,s,r),e[ri]=t.current,ld(e.nodeType===8?e.parentNode:e),new s1(t)};Xn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=xP(t),e=e===null?null:e.stateNode,e};Xn.flushSync=function(e){return yo(e)};Xn.hydrate=function(e,t,n){if(!ug(t))throw Error(Y(200));return dg(null,e,t,!0,n)};Xn.hydrateRoot=function(e,t,n){if(!r1(e))throw Error(Y(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",a=Zk;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Qk(t,null,e,1,n??null,r,!1,i,a),e[ri]=t.current,ld(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new cg(t)};Xn.render=function(e,t,n){if(!ug(t))throw Error(Y(200));return dg(null,e,t,!1,n)};Xn.unmountComponentAtNode=function(e){if(!ug(e))throw Error(Y(40));return e._reactRootContainer?(yo(function(){dg(null,null,e,!1,function(){e._reactRootContainer=null,e[ri]=null})}),!0):!1};Xn.unstable_batchedUpdates=Zw;Xn.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ug(n))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return dg(e,t,n,!1,s)};Xn.version="18.3.1-next-f1338f8080-20240426";function Xk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xk)}catch(e){console.error(e)}}Xk(),X_.exports=Xn;var Bo=X_.exports;const CI=di(Bo);var Jk,AS=Bo;Jk=AS.createRoot,AS.hydrateRoot;function _I(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,r,i,a=[],l="",c=e.split("/");for(c[0]||c.shift();r=c.shift();)n=r[0],n==="*"?(a.push(n),l+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=r.indexOf("?",1),i=r.indexOf(".",1),a.push(r.substring(1,~s?s:~i?i:r.length)),l+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~s?"?":"")+"\\"+r.substring(i))):l+="/"+r;return{keys:a,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var eT={exports:{}},tT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=m;function PI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kI=typeof Object.is=="function"?Object.is:PI,TI=vc.useState,EI=vc.useEffect,AI=vc.useLayoutEffect,MI=vc.useDebugValue;function RI(e,t){var n=t(),s=TI({inst:{value:n,getSnapshot:t}}),r=s[0].inst,i=s[1];return AI(function(){r.value=n,r.getSnapshot=t,Cy(r)&&i({inst:r})},[e,n,t]),EI(function(){return Cy(r)&&i({inst:r}),e(function(){Cy(r)&&i({inst:r})})},[e]),MI(n),n}function Cy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kI(e,n)}catch{return!0}}function DI(e,t){return t()}var FI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DI:RI;tT.useSyncExternalStore=vc.useSyncExternalStore!==void 0?vc.useSyncExternalStore:FI;eT.exports=tT;var OI=eT.exports;const II=Q_.useInsertionEffect,LI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$I=LI?m.useLayoutEffect:m.useEffect,UI=II||$I,nT=e=>{const t=m.useRef([e,(...n)=>t[0](...n)]).current;return UI(()=>{t[0]=e}),t[1]},BI="popstate",i1="pushState",a1="replaceState",VI="hashchange",MS=[BI,i1,a1,VI],zI=e=>{for(const t of MS)addEventListener(t,e);return()=>{for(const t of MS)removeEventListener(t,e)}},sT=(e,t)=>OI.useSyncExternalStore(zI,e,t),WI=()=>location.search,HI=({ssrSearch:e=""}={})=>sT(WI,()=>e),RS=()=>location.pathname,qI=({ssrPath:e}={})=>sT(RS,e?()=>e:RS),KI=(e,{replace:t=!1,state:n=null}={})=>history[t?a1:i1](n,"",e),GI=(e={})=>[qI(e),KI],DS=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[DS]>"u"){for(const e of[i1,a1]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,DS,{value:!0})}const YI=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",rT=(e="")=>e==="/"?"":e,QI=(e,t)=>e[0]==="~"?e.slice(1):rT(t)+e,ZI=(e="",t)=>YI(FS(rT(e)),FS(t)),FS=e=>{try{return decodeURI(e)}catch{return e}},iT={hook:GI,searchHook:HI,parser:_I,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},aT=m.createContext(iT),Ch=()=>m.useContext(aT),oT={},lT=m.createContext(oT),XI=()=>m.useContext(lT),hg=e=>{const[t,n]=e.hook(e);return[ZI(e.base,t),nT((s,r)=>n(QI(s,e.base),r))]},_h=()=>hg(Ch()),cT=(e,t,n,s)=>{const{pattern:r,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),a=r.exec(n)||[],[l,...c]=a;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((h,f)=>[h,c[f]])):a.groups;let d={...c};return u&&Object.assign(d,u),d})(),...s?[l]:[]]:[!1,null]},JI=({children:e,...t})=>{var d,h;const n=Ch(),s=t.hook?iT:n;let r=s;const[i,a]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];a&&(t.ssrSearch=a,t.ssrPath=i),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let l=m.useRef({}),c=l.current,u=c;for(let f in s){const p=f==="base"?s[f]+(t[f]||""):t[f]||s[f];c===u&&p!==u[f]&&(l.current=u={...u}),u[f]=p,p!==s[f]&&(r=u)}return m.createElement(aT.Provider,{value:r,children:e})},OS=({children:e,component:t},n)=>t?m.createElement(t,{params:n}):typeof e=="function"?e(n):e,eL=e=>{let t=m.useRef(oT),n=t.current;for(const s in e)e[s]!==n[s]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},sn=({path:e,nest:t,match:n,...s})=>{const r=Ch(),[i]=hg(r),[a,l,c]=n??cT(r.parser,e,i,t),u=eL({...XI(),...l});if(!a)return null;const d=c?m.createElement(JI,{base:c},OS(s,u)):OS(s,u);return m.createElement(lT.Provider,{value:u,children:d})},uT=m.forwardRef((e,t)=>{const n=Ch(),[s,r]=hg(n),{to:i="",href:a=i,onClick:l,asChild:c,children:u,className:d,replace:h,state:f,...p}=e,x=nT(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),r(a,e)))}),g=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return c&&m.isValidElement(u)?m.cloneElement(u,{onClick:x,href:g}):m.createElement("a",{...p,onClick:x,href:g,className:d!=null&&d.call?d(s===a):d,children:u,ref:t})}),dT=e=>Array.isArray(e)?e.flatMap(t=>dT(t&&t.type===m.Fragment?t.props.children:t)):[e],tL=({children:e,location:t})=>{const n=Ch(),[s]=hg(n);for(const r of dT(e)){let i=0;if(m.isValidElement(r)&&(i=cT(n.parser,r.props.path,t||s,r.props.nest))[0])return m.cloneElement(r,{match:i})}return null};var zc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vo=typeof window>"u"||"Deno"in globalThis;function as(){}function nL(e,t){return typeof e=="function"?e(t):e}function Nx(e){return typeof e=="number"&&e>=0&&e!==1/0}function hT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _l(e,t){return typeof e=="function"?e(t):e}function Fs(e,t){return typeof e=="function"?e(t):e}function IS(e,t){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:a,stale:l}=e;if(a){if(s){if(t.queryHash!==o1(a,t.options))return!1}else if(!yd(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||r&&r!==t.state.fetchStatus||i&&!i(t))}function LS(e,t){const{exact:n,status:s,predicate:r,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(xo(t.options.mutationKey)!==xo(i))return!1}else if(!yd(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||r&&!r(t))}function o1(e,t){return((t==null?void 0:t.queryKeyHashFn)||xo)(e)}function xo(e){return JSON.stringify(e,(t,n)=>Cx(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function yd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!yd(e[n],t[n])):!1}function fT(e,t){if(e===t)return e;const n=$S(e)&&$S(t);if(n||Cx(e)&&Cx(t)){const s=n?e:Object.keys(e),r=s.length,i=n?t:Object.keys(t),a=i.length,l=n?[]:{};let c=0;for(let u=0;u<a;u++){const d=n?u:i[u];(!n&&s.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=fT(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return r===a&&c===r?e:l}return t}function Hp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function $S(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Cx(e){if(!US(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!US(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function US(e){return Object.prototype.toString.call(e)==="[object Object]"}function sL(e){return new Promise(t=>{setTimeout(t,e)})}function _x(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?fT(e,t):t}function rL(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function iL(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var l1=Symbol();function pT(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===l1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Wa,Ti,Ml,E_,aL=(E_=class extends zc{constructor(){super();$(this,Wa);$(this,Ti);$(this,Ml);U(this,Ml,t=>{if(!vo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){S(this,Ti)||this.setEventListener(S(this,Ml))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Ti))==null||t.call(this),U(this,Ti,void 0))}setEventListener(t){var n;U(this,Ml,t),(n=S(this,Ti))==null||n.call(this),U(this,Ti,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){S(this,Wa)!==t&&(U(this,Wa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof S(this,Wa)=="boolean"?S(this,Wa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Wa=new WeakMap,Ti=new WeakMap,Ml=new WeakMap,E_),c1=new aL,Rl,Ei,Dl,A_,oL=(A_=class extends zc{constructor(){super();$(this,Rl,!0);$(this,Ei);$(this,Dl);U(this,Dl,t=>{if(!vo&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){S(this,Ei)||this.setEventListener(S(this,Dl))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Ei))==null||t.call(this),U(this,Ei,void 0))}setEventListener(t){var n;U(this,Dl,t),(n=S(this,Ei))==null||n.call(this),U(this,Ei,t(this.setOnline.bind(this)))}setOnline(t){S(this,Rl)!==t&&(U(this,Rl,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return S(this,Rl)}},Rl=new WeakMap,Ei=new WeakMap,Dl=new WeakMap,A_),qp=new oL;function Px(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),e(r)},n.reject=r=>{s({status:"rejected",reason:r}),t(r)},n}function lL(e){return Math.min(1e3*2**e,3e4)}function mT(e){return(e??"online")==="online"?qp.isOnline():!0}var gT=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function _y(e){return e instanceof gT}function yT(e){let t=!1,n=0,s=!1,r;const i=Px(),a=g=>{var b;s||(f(new gT(g)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>c1.isFocused()&&(e.networkMode==="always"||qp.isOnline())&&e.canRun(),d=()=>mT(e.networkMode)&&e.canRun(),h=g=>{var b;s||(s=!0,(b=e.onSuccess)==null||b.call(e,g),r==null||r(),i.resolve(g))},f=g=>{var b;s||(s=!0,(b=e.onError)==null||b.call(e,g),r==null||r(),i.reject(g))},p=()=>new Promise(g=>{var b;r=v=>{(s||u())&&g(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;r=void 0,s||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(s)return;let g;const b=n===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(h).catch(v=>{var k;if(s)return;const y=e.retry??(vo?0:3),w=e.retryDelay??lL,j=typeof w=="function"?w(n,v):w,N=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!N){f(v);return}n++,(k=e.onFail)==null||k.call(e,n,v),sL(j).then(()=>u()?void 0:p()).then(()=>{t?f(v):x()})})};return{promise:i,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():p().then(x),i)}}function cL(){let e=[],t=0,n=l=>{l()},s=l=>{l()},r=l=>setTimeout(l,0);const i=l=>{t?e.push(l):r(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&r(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{r=l}}}var Ot=cL(),Ha,M_,vT=(M_=class{constructor(){$(this,Ha)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nx(this.gcTime)&&U(this,Ha,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vo?1/0:5*60*1e3))}clearGcTimeout(){S(this,Ha)&&(clearTimeout(S(this,Ha)),U(this,Ha,void 0))}},Ha=new WeakMap,M_),Fl,Ol,rs,rn,Yd,qa,Ss,Ir,R_,uL=(R_=class extends vT{constructor(t){super();$(this,Ss);$(this,Fl);$(this,Ol);$(this,rs);$(this,rn);$(this,Yd);$(this,qa);U(this,qa,!1),U(this,Yd,t.defaultOptions),this.setOptions(t.options),this.observers=[],U(this,rs,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,U(this,Fl,dL(this.options)),this.state=t.state??S(this,Fl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,rn))==null?void 0:t.promise}setOptions(t){this.options={...S(this,Yd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,rs).remove(this)}setData(t,n){const s=_x(this.state.data,t,this.options);return z(this,Ss,Ir).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){z(this,Ss,Ir).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,r;const n=(s=S(this,rn))==null?void 0:s.promise;return(r=S(this,rn))==null||r.cancel(t),n?n.then(as).catch(as):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,Fl))}isActive(){return this.observers.some(t=>Fs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===l1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!hT(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,rn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,rn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,rs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(S(this,rn)&&(S(this,qa)?S(this,rn).cancel({revert:!0}):S(this,rn).cancelRetry()),this.scheduleGc()),S(this,rs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||z(this,Ss,Ir).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(S(this,rn))return S(this,rn).continueRetry(),S(this,rn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(U(this,qa,!0),s.signal)})},i=()=>{const h=pT(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return r(f),U(this,qa,!1),this.options.persister?this.options.persister(h,f,this):h(f)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(a),(c=this.options.behavior)==null||c.onFetch(a,this),U(this,Ol,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&z(this,Ss,Ir).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,p,x,g;_y(h)&&h.silent||z(this,Ss,Ir).call(this,{type:"error",error:h}),_y(h)||((p=(f=S(this,rs).config).onError)==null||p.call(f,h,this),(g=(x=S(this,rs).config).onSettled)==null||g.call(x,this.state.data,h,this)),this.scheduleGc()};return U(this,rn,yT({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var f,p,x,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(p=(f=S(this,rs).config).onSuccess)==null||p.call(f,h,this),(g=(x=S(this,rs).config).onSettled)==null||g.call(x,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{z(this,Ss,Ir).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{z(this,Ss,Ir).call(this,{type:"pause"})},onContinue:()=>{z(this,Ss,Ir).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),S(this,rn).start()}},Fl=new WeakMap,Ol=new WeakMap,rs=new WeakMap,rn=new WeakMap,Yd=new WeakMap,qa=new WeakMap,Ss=new WeakSet,Ir=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...xT(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return _y(r)&&r.revert&&S(this,Ol)?{...S(this,Ol),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Ot.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),S(this,rs).notify({query:this,type:"updated",action:t})})},R_);function xT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dL(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var or,D_,hL=(D_=class extends zc{constructor(t={}){super();$(this,or);this.config=t,U(this,or,new Map)}build(t,n,s){const r=n.queryKey,i=n.queryHash??o1(r,n);let a=this.get(i);return a||(a=new uL({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){S(this,or).has(t.queryHash)||(S(this,or).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=S(this,or).get(t.queryHash);n&&(t.destroy(),n===t&&S(this,or).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ot.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,or).get(t)}getAll(){return[...S(this,or).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>IS(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>IS(t,s)):n}notify(t){Ot.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},or=new WeakMap,D_),lr,gn,Ka,cr,wi,F_,fL=(F_=class extends vT{constructor(t){super();$(this,cr);$(this,lr);$(this,gn);$(this,Ka);this.mutationId=t.mutationId,U(this,gn,t.mutationCache),U(this,lr,[]),this.state=t.state||wT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,lr).includes(t)||(S(this,lr).push(t),this.clearGcTimeout(),S(this,gn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){U(this,lr,S(this,lr).filter(n=>n!==t)),this.scheduleGc(),S(this,gn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,lr).length||(this.state.status==="pending"?this.scheduleGc():S(this,gn).remove(this))}continue(){var t;return((t=S(this,Ka))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var r,i,a,l,c,u,d,h,f,p,x,g,b,v,y,w,j,N,k,C;U(this,Ka,yT({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,M)=>{z(this,cr,wi).call(this,{type:"failed",failureCount:T,error:M})},onPause:()=>{z(this,cr,wi).call(this,{type:"pause"})},onContinue:()=>{z(this,cr,wi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,gn).canRun(this)}));const n=this.state.status==="pending",s=!S(this,Ka).canStart();try{if(!n){z(this,cr,wi).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(r=S(this,gn).config).onMutate)==null?void 0:i.call(r,t,this));const M=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));M!==this.state.context&&z(this,cr,wi).call(this,{type:"pending",context:M,variables:t,isPaused:s})}const T=await S(this,Ka).start();return await((u=(c=S(this,gn).config).onSuccess)==null?void 0:u.call(c,T,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,T,t,this.state.context)),await((p=(f=S(this,gn).config).onSettled)==null?void 0:p.call(f,T,null,this.state.variables,this.state.context,this)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,T,null,t,this.state.context)),z(this,cr,wi).call(this,{type:"success",data:T}),T}catch(T){try{throw await((v=(b=S(this,gn).config).onError)==null?void 0:v.call(b,T,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,T,t,this.state.context)),await((N=(j=S(this,gn).config).onSettled)==null?void 0:N.call(j,void 0,T,this.state.variables,this.state.context,this)),await((C=(k=this.options).onSettled)==null?void 0:C.call(k,void 0,T,t,this.state.context)),T}finally{z(this,cr,wi).call(this,{type:"error",error:T})}}finally{S(this,gn).runNext(this)}}},lr=new WeakMap,gn=new WeakMap,Ka=new WeakMap,cr=new WeakSet,wi=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ot.batch(()=>{S(this,lr).forEach(s=>{s.onMutationUpdate(t)}),S(this,gn).notify({mutation:this,type:"updated",action:t})})},F_);function wT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bn,Qd,O_,pL=(O_=class extends zc{constructor(t={}){super();$(this,Bn);$(this,Qd);this.config=t,U(this,Bn,new Map),U(this,Qd,Date.now())}build(t,n,s){const r=new fL({mutationCache:this,mutationId:++Xh(this,Qd)._,options:t.defaultMutationOptions(n),state:s});return this.add(r),r}add(t){const n=vf(t),s=S(this,Bn).get(n)??[];s.push(t),S(this,Bn).set(n,s),this.notify({type:"added",mutation:t})}remove(t){var s;const n=vf(t);if(S(this,Bn).has(n)){const r=(s=S(this,Bn).get(n))==null?void 0:s.filter(i=>i!==t);r&&(r.length===0?S(this,Bn).delete(n):S(this,Bn).set(n,r))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const n=(s=S(this,Bn).get(vf(t)))==null?void 0:s.find(r=>r.state.status==="pending");return!n||n===t}runNext(t){var s;const n=(s=S(this,Bn).get(vf(t)))==null?void 0:s.find(r=>r!==t&&r.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ot.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...S(this,Bn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(s=>LS(n,s))}findAll(t={}){return this.getAll().filter(n=>LS(t,n))}notify(t){Ot.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ot.batch(()=>Promise.all(t.map(n=>n.continue().catch(as))))}},Bn=new WeakMap,Qd=new WeakMap,O_);function vf(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function BS(e){return{onFetch:(t,n)=>{var d,h,f,p,x;const s=t.options,r=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],a=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=pT(t.options,t.fetchOptions),y=async(w,j,N)=>{if(g)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const k={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};b(k);const C=await v(k),{maxPages:T}=t.options,M=N?iL:rL;return{pages:M(w.pages,C,T),pageParams:M(w.pageParams,j,T)}};if(r&&i.length){const w=r==="backward",j=w?mL:VS,N={pages:i,pageParams:a},k=j(s,N);l=await y(N,k,w)}else{const w=e??i.length;do{const j=c===0?a[0]??s.initialPageParam:VS(s,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function VS(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function mL(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var pt,Ai,Mi,Il,Ll,Ri,$l,Ul,I_,gL=(I_=class{constructor(e={}){$(this,pt);$(this,Ai);$(this,Mi);$(this,Il);$(this,Ll);$(this,Ri);$(this,$l);$(this,Ul);U(this,pt,e.queryCache||new hL),U(this,Ai,e.mutationCache||new pL),U(this,Mi,e.defaultOptions||{}),U(this,Il,new Map),U(this,Ll,new Map),U(this,Ri,0)}mount(){Xh(this,Ri)._++,S(this,Ri)===1&&(U(this,$l,c1.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,pt).onFocus())})),U(this,Ul,qp.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,pt).onOnline())})))}unmount(){var e,t;Xh(this,Ri)._--,S(this,Ri)===0&&((e=S(this,$l))==null||e.call(this),U(this,$l,void 0),(t=S(this,Ul))==null||t.call(this),U(this,Ul,void 0))}isFetching(e){return S(this,pt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return S(this,Ai).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,pt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),s=S(this,pt).build(this,n);return e.revalidateIfStale&&s.isStaleByTime(_l(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return S(this,pt).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),r=S(this,pt).get(s.queryHash),i=r==null?void 0:r.state.data,a=nL(t,i);if(a!==void 0)return S(this,pt).build(this,s).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Ot.batch(()=>S(this,pt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,pt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=S(this,pt);Ot.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=S(this,pt),s={type:"active",...e};return Ot.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},s=Ot.batch(()=>S(this,pt).findAll(e).map(r=>r.cancel(n)));return Promise.all(s).then(as).catch(as)}invalidateQueries(e={},t={}){return Ot.batch(()=>{if(S(this,pt).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=Ot.batch(()=>S(this,pt).findAll(e).filter(r=>!r.isDisabled()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(as)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(as)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=S(this,pt).build(this,t);return n.isStaleByTime(_l(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(as).catch(as)}fetchInfiniteQuery(e){return e.behavior=BS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(as).catch(as)}ensureInfiniteQueryData(e){return e.behavior=BS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qp.isOnline()?S(this,Ai).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,pt)}getMutationCache(){return S(this,Ai)}getDefaultOptions(){return S(this,Mi)}setDefaultOptions(e){U(this,Mi,e)}setQueryDefaults(e,t){S(this,Il).set(xo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...S(this,Il).values()];let n={};return t.forEach(s=>{yd(e,s.queryKey)&&(n={...n,...s.defaultOptions})}),n}setMutationDefaults(e,t){S(this,Ll).set(xo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...S(this,Ll).values()];let n={};return t.forEach(s=>{yd(e,s.mutationKey)&&(n={...n,...s.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...S(this,Mi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=o1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===l1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...S(this,Mi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){S(this,pt).clear(),S(this,Ai).clear()}},pt=new WeakMap,Ai=new WeakMap,Mi=new WeakMap,Il=new WeakMap,Ll=new WeakMap,Ri=new WeakMap,$l=new WeakMap,Ul=new WeakMap,I_),kn,Fe,Zd,yn,Ga,Bl,Di,ur,Xd,Vl,zl,Ya,Qa,Fi,Wl,Ke,ju,kx,Tx,Ex,Ax,Mx,Rx,Dx,bT,L_,yL=(L_=class extends zc{constructor(t,n){super();$(this,Ke);$(this,kn);$(this,Fe);$(this,Zd);$(this,yn);$(this,Ga);$(this,Bl);$(this,Di);$(this,ur);$(this,Xd);$(this,Vl);$(this,zl);$(this,Ya);$(this,Qa);$(this,Fi);$(this,Wl,new Set);this.options=n,U(this,kn,t),U(this,ur,null),U(this,Di,Px()),this.options.experimental_prefetchInRender||S(this,Di).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,Fe).addObserver(this),zS(S(this,Fe),this.options)?z(this,Ke,ju).call(this):this.updateResult(),z(this,Ke,Ax).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fx(S(this,Fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fx(S(this,Fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,z(this,Ke,Mx).call(this),z(this,Ke,Rx).call(this),S(this,Fe).removeObserver(this)}setOptions(t,n){const s=this.options,r=S(this,Fe);if(this.options=S(this,kn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fs(this.options.enabled,S(this,Fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");z(this,Ke,Dx).call(this),S(this,Fe).setOptions(this.options),s._defaulted&&!Hp(this.options,s)&&S(this,kn).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,Fe),observer:this});const i=this.hasListeners();i&&WS(S(this,Fe),r,this.options,s)&&z(this,Ke,ju).call(this),this.updateResult(n),i&&(S(this,Fe)!==r||Fs(this.options.enabled,S(this,Fe))!==Fs(s.enabled,S(this,Fe))||_l(this.options.staleTime,S(this,Fe))!==_l(s.staleTime,S(this,Fe)))&&z(this,Ke,kx).call(this);const a=z(this,Ke,Tx).call(this);i&&(S(this,Fe)!==r||Fs(this.options.enabled,S(this,Fe))!==Fs(s.enabled,S(this,Fe))||a!==S(this,Fi))&&z(this,Ke,Ex).call(this,a)}getOptimisticResult(t){const n=S(this,kn).getQueryCache().build(S(this,kn),t),s=this.createResult(n,t);return xL(this,s)&&(U(this,yn,s),U(this,Bl,this.options),U(this,Ga,S(this,Fe).state)),s}getCurrentResult(){return S(this,yn)}trackResult(t,n){const s={};return Object.keys(t).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),n==null||n(r),t[r])})}),s}trackProp(t){S(this,Wl).add(t)}getCurrentQuery(){return S(this,Fe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=S(this,kn).defaultQueryOptions(t),s=S(this,kn).getQueryCache().build(S(this,kn),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return z(this,Ke,ju).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,yn)))}createResult(t,n){var T;const s=S(this,Fe),r=this.options,i=S(this,yn),a=S(this,Ga),l=S(this,Bl),u=t!==s?t.state:S(this,Zd),{state:d}=t;let h={...d},f=!1,p;if(n._optimisticResults){const M=this.hasListeners(),E=!M&&zS(t,n),O=M&&WS(t,s,n,r);(E||O)&&(h={...h,...xT(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:b}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(a==null?void 0:a.data)&&n.select===S(this,Xd))p=S(this,Vl);else try{U(this,Xd,n.select),p=n.select(h.data),p=_x(i==null?void 0:i.data,p,n),U(this,Vl,p),U(this,ur,null)}catch(M){U(this,ur,M)}else p=h.data;if(n.placeholderData!==void 0&&p===void 0&&b==="pending"){let M;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))M=i.data;else if(M=typeof n.placeholderData=="function"?n.placeholderData((T=S(this,zl))==null?void 0:T.state.data,S(this,zl)):n.placeholderData,n.select&&M!==void 0)try{M=n.select(M),U(this,ur,null)}catch(E){U(this,ur,E)}M!==void 0&&(b="success",p=_x(i==null?void 0:i.data,M,n),f=!0)}S(this,ur)&&(x=S(this,ur),p=S(this,Vl),g=Date.now(),b="error");const v=h.fetchStatus==="fetching",y=b==="pending",w=b==="error",j=y&&v,N=p!==void 0,C={status:b,fetchStatus:h.fetchStatus,isPending:y,isSuccess:b==="success",isError:w,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:w&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&N,isStale:u1(t,n),refetch:this.refetch,promise:S(this,Di)};if(this.options.experimental_prefetchInRender){const M=D=>{C.status==="error"?D.reject(C.error):C.data!==void 0&&D.resolve(C.data)},E=()=>{const D=U(this,Di,C.promise=Px());M(D)},O=S(this,Di);switch(O.status){case"pending":t.queryHash===s.queryHash&&M(O);break;case"fulfilled":(C.status==="error"||C.data!==O.value)&&E();break;case"rejected":(C.status!=="error"||C.error!==O.reason)&&E();break}}return C}updateResult(t){const n=S(this,yn),s=this.createResult(S(this,Fe),this.options);if(U(this,Ga,S(this,Fe).state),U(this,Bl,this.options),S(this,Ga).data!==void 0&&U(this,zl,S(this,Fe)),Hp(s,n))return;U(this,yn,s);const r={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!S(this,Wl).size)return!0;const c=new Set(l??S(this,Wl));return this.options.throwOnError&&c.add("error"),Object.keys(S(this,yn)).some(u=>{const d=u;return S(this,yn)[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(r.listeners=!0),z(this,Ke,bT).call(this,{...r,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&z(this,Ke,Ax).call(this)}},kn=new WeakMap,Fe=new WeakMap,Zd=new WeakMap,yn=new WeakMap,Ga=new WeakMap,Bl=new WeakMap,Di=new WeakMap,ur=new WeakMap,Xd=new WeakMap,Vl=new WeakMap,zl=new WeakMap,Ya=new WeakMap,Qa=new WeakMap,Fi=new WeakMap,Wl=new WeakMap,Ke=new WeakSet,ju=function(t){z(this,Ke,Dx).call(this);let n=S(this,Fe).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(as)),n},kx=function(){z(this,Ke,Mx).call(this);const t=_l(this.options.staleTime,S(this,Fe));if(vo||S(this,yn).isStale||!Nx(t))return;const s=hT(S(this,yn).dataUpdatedAt,t)+1;U(this,Ya,setTimeout(()=>{S(this,yn).isStale||this.updateResult()},s))},Tx=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,Fe)):this.options.refetchInterval)??!1},Ex=function(t){z(this,Ke,Rx).call(this),U(this,Fi,t),!(vo||Fs(this.options.enabled,S(this,Fe))===!1||!Nx(S(this,Fi))||S(this,Fi)===0)&&U(this,Qa,setInterval(()=>{(this.options.refetchIntervalInBackground||c1.isFocused())&&z(this,Ke,ju).call(this)},S(this,Fi)))},Ax=function(){z(this,Ke,kx).call(this),z(this,Ke,Ex).call(this,z(this,Ke,Tx).call(this))},Mx=function(){S(this,Ya)&&(clearTimeout(S(this,Ya)),U(this,Ya,void 0))},Rx=function(){S(this,Qa)&&(clearInterval(S(this,Qa)),U(this,Qa,void 0))},Dx=function(){const t=S(this,kn).getQueryCache().build(S(this,kn),this.options);if(t===S(this,Fe))return;const n=S(this,Fe);U(this,Fe,t),U(this,Zd,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},bT=function(t){Ot.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(S(this,yn))}),S(this,kn).getQueryCache().notify({query:S(this,Fe),type:"observerResultsUpdated"})})},L_);function vL(e,t){return Fs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function zS(e,t){return vL(e,t)||e.state.data!==void 0&&Fx(e,t,t.refetchOnMount)}function Fx(e,t,n){if(Fs(t.enabled,e)!==!1){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&u1(e,t)}return!1}function WS(e,t,n,s){return(e!==t||Fs(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&u1(e,n)}function u1(e,t){return Fs(t.enabled,e)!==!1&&e.isStaleByTime(_l(t.staleTime,e))}function xL(e,t){return!Hp(e.getCurrentResult(),t)}var Oi,Ii,Tn,Vr,ni,tp,Ox,$_,wL=($_=class extends zc{constructor(n,s){super();$(this,ni);$(this,Oi);$(this,Ii);$(this,Tn);$(this,Vr);U(this,Oi,n),this.setOptions(s),this.bindMethods(),z(this,ni,tp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const s=this.options;this.options=S(this,Oi).defaultMutationOptions(n),Hp(this.options,s)||S(this,Oi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,Tn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&xo(s.mutationKey)!==xo(this.options.mutationKey)?this.reset():((r=S(this,Tn))==null?void 0:r.state.status)==="pending"&&S(this,Tn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=S(this,Tn))==null||n.removeObserver(this)}onMutationUpdate(n){z(this,ni,tp).call(this),z(this,ni,Ox).call(this,n)}getCurrentResult(){return S(this,Ii)}reset(){var n;(n=S(this,Tn))==null||n.removeObserver(this),U(this,Tn,void 0),z(this,ni,tp).call(this),z(this,ni,Ox).call(this)}mutate(n,s){var r;return U(this,Vr,s),(r=S(this,Tn))==null||r.removeObserver(this),U(this,Tn,S(this,Oi).getMutationCache().build(S(this,Oi),this.options)),S(this,Tn).addObserver(this),S(this,Tn).execute(n)}},Oi=new WeakMap,Ii=new WeakMap,Tn=new WeakMap,Vr=new WeakMap,ni=new WeakSet,tp=function(){var s;const n=((s=S(this,Tn))==null?void 0:s.state)??wT();U(this,Ii,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ox=function(n){Ot.batch(()=>{var s,r,i,a,l,c,u,d;if(S(this,Vr)&&this.hasListeners()){const h=S(this,Ii).variables,f=S(this,Ii).context;(n==null?void 0:n.type)==="success"?((r=(s=S(this,Vr)).onSuccess)==null||r.call(s,n.data,h,f),(a=(i=S(this,Vr)).onSettled)==null||a.call(i,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((c=(l=S(this,Vr)).onError)==null||c.call(l,n.error,h,f),(d=(u=S(this,Vr)).onSettled)==null||d.call(u,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(S(this,Ii))})})},$_),jT=m.createContext(void 0),_t=e=>{const t=m.useContext(jT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},bL=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(jT.Provider,{value:e,children:t})),ST=m.createContext(!1),jL=()=>m.useContext(ST);ST.Provider;function SL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var NL=m.createContext(SL()),CL=()=>m.useContext(NL);function NT(e,t){return typeof e=="function"?e(...t):!!e}function Ix(){}var _L=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},PL=e=>{m.useEffect(()=>{e.clearReset()},[e])},kL=({result:e,errorResetBoundary:t,throwOnError:n,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&NT(n,[e.error,s]),TL=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},EL=(e,t)=>e.isLoading&&e.isFetching&&!t,AL=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,HS=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function ML(e,t,n){var d,h,f,p,x;const s=_t(),r=jL(),i=CL(),a=s.defaultQueryOptions(e);(h=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,a),a._optimisticResults=r?"isRestoring":"optimistic",TL(a),_L(a,i),PL(i);const l=!s.getQueryCache().get(a.queryHash),[c]=m.useState(()=>new t(s,a)),u=c.getOptimisticResult(a);if(m.useSyncExternalStore(m.useCallback(g=>{const b=r?Ix:c.subscribe(Ot.batchCalls(g));return c.updateResult(),b},[c,r]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),AL(a,u))throw HS(a,c,i);if(kL({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash)}))throw u.error;if((p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,a,u),a.experimental_prefetchInRender&&!vo&&EL(u,r)){const g=l?HS(a,c,i):(x=s.getQueryCache().get(a.queryHash))==null?void 0:x.promise;g==null||g.catch(Ix).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function We(e,t){return ML(e,yL)}function Ne(e,t){const n=_t(),[s]=m.useState(()=>new wL(n,e));m.useEffect(()=>{s.setOptions(e)},[s,e]);const r=m.useSyncExternalStore(m.useCallback(a=>s.subscribe(Ot.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=m.useCallback((a,l)=>{s.mutate(a,l).catch(Ix)},[s]);if(r.error&&NT(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}async function CT(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Ae(e,t,n){const s=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await CT(s),s}const RL=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await CT(n),await n.json())},Kp=new gL({defaultOptions:{queries:{queryFn:RL({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),DL=1,FL=1e6;let Py=0;function OL(){return Py=(Py+1)%Number.MAX_SAFE_INTEGER,Py.toString()}const ky=new Map,qS=e=>{if(ky.has(e))return;const t=setTimeout(()=>{ky.delete(e),Vu({type:"REMOVE_TOAST",toastId:e})},FL);ky.set(e,t)},IL=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,DL)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?qS(n):e.toasts.forEach(s=>{qS(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},np=[];let sp={toasts:[]};function Vu(e){sp=IL(sp,e),np.forEach(t=>{t(sp)})}function LL({...e}){const t=OL(),n=r=>Vu({type:"UPDATE_TOAST",toast:{...r,id:t}}),s=()=>Vu({type:"DISMISS_TOAST",toastId:t});return Vu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:r=>{r||s()}}}),{id:t,dismiss:s,update:n}}function at(){const[e,t]=m.useState(sp);return m.useEffect(()=>(np.push(t),()=>{const n=np.indexOf(t);n>-1&&np.splice(n,1)}),[e]),{...e,toast:LL,dismiss:n=>Vu({type:"DISMISS_TOAST",toastId:n})}}function fe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function KS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _T(...e){return t=>{let n=!1;const s=e.map(r=>{const i=KS(r,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():KS(e[r],null)}}}}function Me(...e){return m.useCallback(_T(...e),e)}function $L(e,t){const n=m.createContext(t),s=i=>{const{children:a,...l}=i,c=m.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};s.displayName=e+"Provider";function r(i){const a=m.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,r]}function es(e,t=[]){let n=[];function s(i,a){const l=m.createContext(a),c=n.length;n=[...n,a];const u=h=>{var v;const{scope:f,children:p,...x}=h,g=((v=f==null?void 0:f[e])==null?void 0:v[c])||l,b=m.useMemo(()=>x,Object.values(x));return o.jsx(g.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,x=m.useContext(p);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return r.scopeName=e,[s,UL(r,...t)]}function UL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const a=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function wo(e){const t=BL(e),n=m.forwardRef((s,r)=>{const{children:i,...a}=s,l=m.Children.toArray(i),c=l.find(VL);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:r,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:r,children:i})});return n.displayName=`${e}.Slot`,n}var PT=wo("Slot");function BL(e){const t=m.forwardRef((n,s)=>{const{children:r,...i}=n;if(m.isValidElement(r)){const a=WL(r),l=zL(i,r.props);return r.type!==m.Fragment&&(l.ref=s?_T(s,a):a),m.cloneElement(r,l)}return m.Children.count(r)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kT=Symbol("radix.slottable");function TT(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=kT,t}function VL(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kT}function zL(e,t){const n={...t};for(const s in t){const r=e[s],i=t[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{i(...l),r(...l)}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...e,...n}}function WL(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ET(e){const t=e+"CollectionProvider",[n,s]=es(t),[r,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:b,children:v}=g,y=je.useRef(null),w=je.useRef(new Map).current;return o.jsx(r,{scope:b,itemMap:w,collectionRef:y,children:v})};a.displayName=t;const l=e+"CollectionSlot",c=wo(l),u=je.forwardRef((g,b)=>{const{scope:v,children:y}=g,w=i(l,v),j=Me(b,w.collectionRef);return o.jsx(c,{ref:j,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=wo(d),p=je.forwardRef((g,b)=>{const{scope:v,children:y,...w}=g,j=je.useRef(null),N=Me(b,j),k=i(d,v);return je.useEffect(()=>(k.itemMap.set(j,{ref:j,...w}),()=>void k.itemMap.delete(j))),o.jsx(f,{[h]:"",ref:N,children:y})});p.displayName=d;function x(g){const b=i(e+"CollectionConsumer",g);return je.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((k,C)=>w.indexOf(k.ref.current)-w.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},x,s]}var HL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ge=HL.reduce((e,t)=>{const n=wo(`Primitive.${t}`),s=m.forwardRef((r,i)=>{const{asChild:a,...l}=r,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function AT(e,t){e&&Bo.flushSync(()=>e.dispatchEvent(t))}function bt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function qL(e,t=globalThis==null?void 0:globalThis.document){const n=bt(e);m.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var KL="DismissableLayer",Lx="dismissableLayer.update",GL="dismissableLayer.pointerDownOutside",YL="dismissableLayer.focusOutside",GS,MT=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wc=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=m.useContext(MT),[d,h]=m.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),x=Me(t,C=>h(C)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),y=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=v,N=ZL(C=>{const T=C.target,M=[...u.branches].some(E=>E.contains(T));!j||M||(r==null||r(C),a==null||a(C),C.defaultPrevented||l==null||l())},f),k=XL(C=>{const T=C.target;[...u.branches].some(E=>E.contains(T))||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},f);return qL(C=>{y===u.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(GS=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),YS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=GS)}},[d,f,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),YS())},[d,u]),m.useEffect(()=>{const C=()=>p({});return document.addEventListener(Lx,C),()=>document.removeEventListener(Lx,C)},[]),o.jsx(ge.div,{...c,ref:x,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:fe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:fe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:fe(e.onPointerDownCapture,N.onPointerDownCapture)})});Wc.displayName=KL;var QL="DismissableLayerBranch",RT=m.forwardRef((e,t)=>{const n=m.useContext(MT),s=m.useRef(null),r=Me(t,s);return m.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(ge.div,{...e,ref:r})});RT.displayName=QL;function ZL(e,t=globalThis==null?void 0:globalThis.document){const n=bt(e),s=m.useRef(!1),r=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){DT(GL,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=c,t.addEventListener("click",r.current,{once:!0})):c()}else t.removeEventListener("click",r.current);s.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function XL(e,t=globalThis==null?void 0:globalThis.document){const n=bt(e),s=m.useRef(!1);return m.useEffect(()=>{const r=i=>{i.target&&!s.current&&DT(YL,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function YS(){const e=new CustomEvent(Lx);document.dispatchEvent(e)}function DT(e,t,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?AT(r,i):r.dispatchEvent(i)}var JL=Wc,e6=RT,Ct=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},t6="Portal",Ph=m.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[r,i]=m.useState(!1);Ct(()=>i(!0),[]);const a=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?CI.createPortal(o.jsx(ge.div,{...s,ref:t}),a):null});Ph.displayName=t6;function n6(e,t){return m.useReducer((n,s)=>t[n][s]??n,e)}var $n=e=>{const{present:t,children:n}=e,s=s6(t),r=typeof n=="function"?n({present:s.isPresent}):m.Children.only(n),i=Me(s.ref,r6(r));return typeof n=="function"||s.isPresent?m.cloneElement(r,{ref:i}):null};$n.displayName="Presence";function s6(e){const[t,n]=m.useState(),s=m.useRef({}),r=m.useRef(e),i=m.useRef("none"),a=e?"mounted":"unmounted",[l,c]=n6(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=xf(s.current);i.current=l==="mounted"?u:"none"},[l]),Ct(()=>{const u=s.current,d=r.current;if(d!==e){const f=i.current,p=xf(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,c]),Ct(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const g=xf(s.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!r.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=p=>{p.target===t&&(i.current=xf(s.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(s.current=getComputedStyle(u)),n(u)},[])}}function xf(e){return(e==null?void 0:e.animationName)||"none"}function r6(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function bo({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,r]=i6({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:s,l=bt(n),c=m.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else r(u)},[i,e,r,l]);return[a,c]}function i6({defaultProp:e,onChange:t}){const n=m.useState(e),[s]=n,r=m.useRef(s),i=bt(t);return m.useEffect(()=>{r.current!==s&&(i(s),r.current=s)},[s,r,i]),n}var a6="VisuallyHidden",kh=m.forwardRef((e,t)=>o.jsx(ge.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));kh.displayName=a6;var o6=kh,d1="ToastProvider",[h1,l6,c6]=ET("Toast"),[FT,Dre]=es("Toast",[c6]),[u6,fg]=FT(d1),OT=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:a}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${d1}\`. Expected non-empty \`string\`.`),o.jsx(h1.Provider,{scope:t,children:o.jsx(u6,{scope:t,label:n,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};OT.displayName=d1;var IT="ToastViewport",d6=["F8"],$x="toast.viewportPause",Ux="toast.viewportResume",LT=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=d6,label:r="Notifications ({hotkey})",...i}=e,a=fg(IT,n),l=l6(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),h=m.useRef(null),f=Me(t,h,a.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=a.toastCount>0;m.useEffect(()=>{const b=v=>{var w;s.length!==0&&s.every(j=>v[j]||v.code===j)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[s]),m.useEffect(()=>{const b=c.current,v=h.current;if(x&&b&&v){const y=()=>{if(!a.isClosePausedRef.current){const k=new CustomEvent($x);v.dispatchEvent(k),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const k=new CustomEvent(Ux);v.dispatchEvent(k),a.isClosePausedRef.current=!1}},j=k=>{!b.contains(k.relatedTarget)&&w()},N=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",y),b.addEventListener("focusout",j),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[x,a.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:b})=>{const y=l().map(w=>{const j=w.ref.current,N=[j,...N6(j)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?y.reverse():y).flat()},[l]);return m.useEffect(()=>{const b=h.current;if(b){const v=y=>{var N,k,C;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const T=document.activeElement,M=y.shiftKey;if(y.target===b&&M){(N=u.current)==null||N.focus();return}const D=g({tabbingDirection:M?"backwards":"forwards"}),q=D.findIndex(W=>W===T);Ty(D.slice(q+1))?y.preventDefault():M?(k=u.current)==null||k.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[l,g]),o.jsxs(e6,{ref:c,role:"region","aria-label":r.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&o.jsx(Bx,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});Ty(b)}}),o.jsx(h1.Slot,{scope:n,children:o.jsx(ge.ol,{tabIndex:-1,...i,ref:f})}),x&&o.jsx(Bx,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});Ty(b)}})]})});LT.displayName=IT;var $T="ToastFocusProxy",Bx=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=e,i=fg($T,n);return o.jsx(kh,{"aria-hidden":!0,tabIndex:0,...r,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&s()}})});Bx.displayName=$T;var pg="Toast",h6="toast.swipeStart",f6="toast.swipeMove",p6="toast.swipeCancel",m6="toast.swipeEnd",UT=m.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:i,...a}=e,[l=!0,c]=bo({prop:s,defaultProp:r,onChange:i});return o.jsx($n,{present:n||l,children:o.jsx(v6,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:bt(e.onPause),onResume:bt(e.onResume),onSwipeStart:fe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:fe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});UT.displayName=pg;var[g6,y6]=FT(pg,{onClose(){}}),v6=m.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...x}=e,g=fg(pg,n),[b,v]=m.useState(null),y=Me(t,W=>v(W)),w=m.useRef(null),j=m.useRef(null),N=r||g.duration,k=m.useRef(0),C=m.useRef(N),T=m.useRef(0),{onToastAdd:M,onToastRemove:E}=g,O=bt(()=>{var R;(b==null?void 0:b.contains(document.activeElement))&&((R=g.viewport)==null||R.focus()),a()}),D=m.useCallback(W=>{!W||W===1/0||(window.clearTimeout(T.current),k.current=new Date().getTime(),T.current=window.setTimeout(O,W))},[O]);m.useEffect(()=>{const W=g.viewport;if(W){const R=()=>{D(C.current),u==null||u()},K=()=>{const I=new Date().getTime()-k.current;C.current=C.current-I,window.clearTimeout(T.current),c==null||c()};return W.addEventListener($x,K),W.addEventListener(Ux,R),()=>{W.removeEventListener($x,K),W.removeEventListener(Ux,R)}}},[g.viewport,N,c,u,D]),m.useEffect(()=>{i&&!g.isClosePausedRef.current&&D(N)},[i,N,g.isClosePausedRef,D]),m.useEffect(()=>(M(),()=>E()),[M,E]);const q=m.useMemo(()=>b?KT(b):null,[b]);return g.viewport?o.jsxs(o.Fragment,{children:[q&&o.jsx(x6,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),o.jsx(g6,{scope:n,onClose:O,children:Bo.createPortal(o.jsx(h1.ItemSlot,{scope:n,children:o.jsx(JL,{asChild:!0,onEscapeKeyDown:fe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:fe(e.onKeyDown,W=>{W.key==="Escape"&&(l==null||l(W.nativeEvent),W.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:fe(e.onPointerDown,W=>{W.button===0&&(w.current={x:W.clientX,y:W.clientY})}),onPointerMove:fe(e.onPointerMove,W=>{if(!w.current)return;const R=W.clientX-w.current.x,K=W.clientY-w.current.y,I=!!j.current,_=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Q=_?B(0,R):0,se=_?0:B(0,K),Ee=W.pointerType==="touch"?10:2,ft={x:Q,y:se},X={originalEvent:W,delta:ft};I?(j.current=ft,wf(f6,h,X,{discrete:!1})):QS(ft,g.swipeDirection,Ee)?(j.current=ft,wf(h6,d,X,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(R)>Ee||Math.abs(K)>Ee)&&(w.current=null)}),onPointerUp:fe(e.onPointerUp,W=>{const R=j.current,K=W.target;if(K.hasPointerCapture(W.pointerId)&&K.releasePointerCapture(W.pointerId),j.current=null,w.current=null,R){const I=W.currentTarget,_={originalEvent:W,delta:R};QS(R,g.swipeDirection,g.swipeThreshold)?wf(m6,p,_,{discrete:!0}):wf(p6,f,_,{discrete:!0}),I.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),x6=e=>{const{__scopeToast:t,children:n,...s}=e,r=fg(pg,t),[i,a]=m.useState(!1),[l,c]=m.useState(!1);return j6(()=>a(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Ph,{asChild:!0,children:o.jsx(kh,{...s,children:i&&o.jsxs(o.Fragment,{children:[r.label," ",n]})})})},w6="ToastTitle",BT=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return o.jsx(ge.div,{...s,ref:t})});BT.displayName=w6;var b6="ToastDescription",VT=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return o.jsx(ge.div,{...s,ref:t})});VT.displayName=b6;var zT="ToastAction",WT=m.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?o.jsx(qT,{altText:n,asChild:!0,children:o.jsx(f1,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${zT}\`. Expected non-empty \`string\`.`),null)});WT.displayName=zT;var HT="ToastClose",f1=m.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,r=y6(HT,n);return o.jsx(qT,{asChild:!0,children:o.jsx(ge.button,{type:"button",...s,ref:t,onClick:fe(e.onClick,r.onClose)})})});f1.displayName=HT;var qT=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...r}=e;return o.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:t})});function KT(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),S6(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const a=s.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...KT(s))}}),t}function wf(e,t,n,{discrete:s}){const r=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?AT(r,i):r.dispatchEvent(i)}var QS=(e,t,n=0)=>{const s=Math.abs(e.x),r=Math.abs(e.y),i=s>r;return t==="left"||t==="right"?i&&s>n:!i&&r>n};function j6(e=()=>{}){const t=bt(e);Ct(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function S6(e){return e.nodeType===e.ELEMENT_NODE}function N6(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ty(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var C6=OT,GT=LT,YT=UT,QT=BT,ZT=VT,XT=WT,JT=f1;function eE(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=eE(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function tE(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=eE(e))&&(s&&(s+=" "),s+=t);return s}const ZS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,XS=tE,Th=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return XS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=t,a=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=ZS(d)||ZS(h);return r[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(x=>{let[g,b]=x;return Array.isArray(b)?b.includes({...i,...l}[g]):{...i,...l}[g]===b})?[...u,h,f]:u},[]);return XS(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nE=(...e)=>e.filter((t,n,s)=>!!t&&s.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...l},c)=>m.createElement("svg",{ref:c,...P6,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:nE("lucide",r),...l},[...a.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const n=m.forwardRef(({className:s,...r},i)=>m.createElement(k6,{ref:i,iconNode:t,className:nE(`lucide-${_6(e)}`,s),...r}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ie("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=ie("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=ie("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=ie("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=ie("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=ie("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=ie("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=ie("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ie("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=ie("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=ie("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=ie("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=ie("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=ie("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=ie("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ie("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=ie("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=ie("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=ie("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=ie("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=ie("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=ie("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=ie("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=ie("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=ie("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=ie("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=ie("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=ie("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=ie("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),m1="-",G6=e=>{const t=Q6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:a=>{const l=a.split(m1);return l[0]===""&&l.length!==1&&l.shift(),cE(l,t)||Y6(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&s[a]?[...c,...s[a]]:c}}},cE=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),r=s?cE(e.slice(1),s):void 0;if(r)return r;if(t.validators.length===0)return;const i=e.join(m1);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},rN=/^\[(.+)\]$/,Y6=e=>{if(rN.test(e)){const t=rN.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Q6=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return X6(Object.entries(e.classGroups),n).forEach(([i,a])=>{qx(a,s,i,t)}),s},qx=(e,t,n,s)=>{e.forEach(r=>{if(typeof r=="string"){const i=r===""?t:iN(t,r);i.classGroupId=n;return}if(typeof r=="function"){if(Z6(r)){qx(r(s),t,n,s);return}t.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,a])=>{qx(a,iN(t,i),n,s)})})},iN=(e,t)=>{let n=e;return t.split(m1).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Z6=e=>e.isThemeGetter,X6=(e,t)=>t?e.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[n,r]}):e,J6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const r=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return r(i,a),a},set(i,a){n.has(i)?n.set(i,a):r(i,a)}}},uE="!",e8=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,r=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let v=l[b];if(u===0){if(v===r&&(s||l.slice(b,b+i)===t)){c.push(l.slice(d,b)),d=b+i;continue}if(v==="/"){h=b;continue}}v==="["?u++:v==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(uE),x=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:a}):a},t8=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},n8=e=>({cache:J6(e.cacheSize),parseClassName:e8(e),...G6(e)}),s8=/\s+/,r8=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=t,i=[],a=e.trim().split(s8);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let x=!!p,g=s(x?f.substring(0,p):f);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=s(f),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const b=t8(d).join(":"),v=h?b+uE:b,y=v+g;if(i.includes(y))continue;i.push(y);const w=r(g,x);for(let j=0;j<w.length;++j){const N=w[j];i.push(v+N)}l=u+(l.length>0?" "+l:l)}return l};function i8(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=dE(t))&&(s&&(s+=" "),s+=n);return s}const dE=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=dE(e[s]))&&(n&&(n+=" "),n+=t);return n};function a8(e,...t){let n,s,r,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return n=n8(u),s=n.cache.get,r=n.cache.set,i=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=r8(c,n);return r(c,d),d}return function(){return i(i8.apply(null,arguments))}}const st=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},hE=/^\[(?:([a-z-]+):)?(.+)\]$/i,o8=/^\d+\/\d+$/,l8=new Set(["px","full","screen"]),c8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,d8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,h8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,f8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rr=e=>Pl(e)||l8.has(e)||o8.test(e),yi=e=>qc(e,"length",b8),Pl=e=>!!e&&!Number.isNaN(Number(e)),Ay=e=>qc(e,"number",Pl),ou=e=>!!e&&Number.isInteger(Number(e)),p8=e=>e.endsWith("%")&&Pl(e.slice(0,-1)),_e=e=>hE.test(e),vi=e=>c8.test(e),m8=new Set(["length","size","percentage"]),g8=e=>qc(e,m8,fE),y8=e=>qc(e,"position",fE),v8=new Set(["image","url"]),x8=e=>qc(e,v8,S8),w8=e=>qc(e,"",j8),lu=()=>!0,qc=(e,t,n)=>{const s=hE.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},b8=e=>u8.test(e)&&!d8.test(e),fE=()=>!1,j8=e=>h8.test(e),S8=e=>f8.test(e),N8=()=>{const e=st("colors"),t=st("spacing"),n=st("blur"),s=st("brightness"),r=st("borderColor"),i=st("borderRadius"),a=st("borderSpacing"),l=st("borderWidth"),c=st("contrast"),u=st("grayscale"),d=st("hueRotate"),h=st("invert"),f=st("gap"),p=st("gradientColorStops"),x=st("gradientColorStopPositions"),g=st("inset"),b=st("margin"),v=st("opacity"),y=st("padding"),w=st("saturate"),j=st("scale"),N=st("sepia"),k=st("skew"),C=st("space"),T=st("translate"),M=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",_e,t],D=()=>[_e,t],q=()=>["",Rr,yi],W=()=>["auto",Pl,_e],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",_e],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[Pl,_e];return{cacheSize:500,separator:":",theme:{colors:[lu],spacing:[Rr,yi],blur:["none","",vi,_e],brightness:se(),borderColor:[e],borderRadius:["none","","full",vi,_e],borderSpacing:D(),borderWidth:q(),contrast:se(),grayscale:B(),hueRotate:se(),invert:B(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[p8,yi],inset:O(),margin:O(),opacity:se(),padding:D(),saturate:se(),scale:se(),sepia:B(),skew:se(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[vi]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),_e]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ou,_e]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",ou,_e]}],"grid-cols":[{"grid-cols":[lu]}],"col-start-end":[{col:["auto",{span:["full",ou,_e]},_e]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[lu]}],"row-start-end":[{row:["auto",{span:[ou,_e]},_e]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,t]}],"min-w":[{"min-w":[_e,t,"min","max","fit"]}],"max-w":[{"max-w":[_e,t,"none","full","min","max","fit","prose",{screen:[vi]},vi]}],h:[{h:[_e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vi,yi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ay]}],"font-family":[{font:[lu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Pl,Ay]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rr,yi]}],"underline-offset":[{"underline-offset":["auto",Rr,_e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),y8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",g8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},x8]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:K()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Rr,_e]}],"outline-w":[{outline:[Rr,yi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Rr,yi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vi,w8]}],"shadow-color":[{shadow:[lu]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vi,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ou,_e]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Rr,yi,Ay]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},C8=a8(N8);function ue(...e){return C8(tE(e))}const _8=C6,pE=m.forwardRef(({className:e,...t},n)=>o.jsx(GT,{ref:n,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pE.displayName=GT.displayName;const P8=Th("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mE=m.forwardRef(({className:e,variant:t,...n},s)=>o.jsx(YT,{ref:s,className:ue(P8({variant:t}),e),...n}));mE.displayName=YT.displayName;const k8=m.forwardRef(({className:e,...t},n)=>o.jsx(XT,{ref:n,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));k8.displayName=XT.displayName;const gE=m.forwardRef(({className:e,...t},n)=>o.jsx(JT,{ref:n,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(So,{className:"h-4 w-4"})}));gE.displayName=JT.displayName;const yE=m.forwardRef(({className:e,...t},n)=>o.jsx(QT,{ref:n,className:ue("text-sm font-semibold",e),...t}));yE.displayName=QT.displayName;const vE=m.forwardRef(({className:e,...t},n)=>o.jsx(ZT,{ref:n,className:ue("text-sm opacity-90",e),...t}));vE.displayName=ZT.displayName;function T8(){const{toasts:e}=at();return o.jsxs(_8,{children:[e.map(function({id:t,title:n,description:s,action:r,...i}){return o.jsxs(mE,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(yE,{children:n}),s&&o.jsx(vE,{children:s})]}),r,o.jsx(gE,{})]},t)}),o.jsx(pE,{})]})}var E8=Q_[" useId ".trim().toString()]||(()=>{}),A8=0;function ea(e){const[t,n]=m.useState(E8());return Ct(()=>{n(s=>s??String(A8++))},[e]),t?`radix-${t}`:""}const M8=["top","right","bottom","left"],aa=Math.min,Wn=Math.max,em=Math.round,bf=Math.floor,jr=e=>({x:e,y:e}),R8={left:"right",right:"left",bottom:"top",top:"bottom"},D8={start:"end",end:"start"};function Kx(e,t,n){return Wn(e,aa(t,n))}function oi(e,t){return typeof e=="function"?e(t):e}function li(e){return e.split("-")[0]}function Kc(e){return e.split("-")[1]}function g1(e){return e==="x"?"y":"x"}function y1(e){return e==="y"?"height":"width"}function oa(e){return["top","bottom"].includes(li(e))?"y":"x"}function v1(e){return g1(oa(e))}function F8(e,t,n){n===void 0&&(n=!1);const s=Kc(e),r=v1(e),i=y1(r);let a=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=tm(a)),[a,tm(a)]}function O8(e){const t=tm(e);return[Gx(e),t,Gx(t)]}function Gx(e){return e.replace(/start|end/g,t=>D8[t])}function I8(e,t,n){const s=["left","right"],r=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:s:t?s:r;case"left":case"right":return t?i:a;default:return[]}}function L8(e,t,n,s){const r=Kc(e);let i=I8(li(e),n==="start",s);return r&&(i=i.map(a=>a+"-"+r),t&&(i=i.concat(i.map(Gx)))),i}function tm(e){return e.replace(/left|right|bottom|top/g,t=>R8[t])}function $8(e){return{top:0,right:0,bottom:0,left:0,...e}}function xE(e){return typeof e!="number"?$8(e):{top:e,right:e,bottom:e,left:e}}function nm(e){const{x:t,y:n,width:s,height:r}=e;return{width:s,height:r,top:n,left:t,right:t+s,bottom:n+r,x:t,y:n}}function aN(e,t,n){let{reference:s,floating:r}=e;const i=oa(t),a=v1(t),l=y1(a),c=li(t),u=i==="y",d=s.x+s.width/2-r.width/2,h=s.y+s.height/2-r.height/2,f=s[l]/2-r[l]/2;let p;switch(c){case"top":p={x:d,y:s.y-r.height};break;case"bottom":p={x:d,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:h};break;case"left":p={x:s.x-r.width,y:h};break;default:p={x:s.x,y:s.y}}switch(Kc(t)){case"start":p[a]-=f*(n&&u?-1:1);break;case"end":p[a]+=f*(n&&u?-1:1);break}return p}const U8=async(e,t,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:h}=aN(u,s,c),f=s,p={},x=0;for(let g=0;g<l.length;g++){const{name:b,fn:v}=l[g],{x:y,y:w,data:j,reset:N}=await v({x:d,y:h,initialPlacement:s,placement:f,strategy:r,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=y??d,h=w??h,p={...p,[b]:{...p[b],...j}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:r}):N.rects),{x:d,y:h}=aN(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:r,middlewareData:p}};async function bd(e,t){var n;t===void 0&&(t={});const{x:s,y:r,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=oi(t,e),x=xE(p),b=l[f?h==="floating"?"reference":"floating":h],v=nm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=h==="floating"?{x:s,y:r,width:a.floating.width,height:a.floating.height}:a.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=nm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(v.top-N.top+x.top)/j.y,bottom:(N.bottom-v.bottom+x.bottom)/j.y,left:(v.left-N.left+x.left)/j.x,right:(N.right-v.right+x.right)/j.x}}const B8=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:r,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=oi(e,t)||{};if(u==null)return{};const h=xE(d),f={x:n,y:s},p=v1(r),x=y1(p),g=await a.getDimensions(u),b=p==="y",v=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",j=i.reference[x]+i.reference[p]-f[p]-i.floating[x],N=f[p]-i.reference[p],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=k?k[w]:0;(!C||!await(a.isElement==null?void 0:a.isElement(k)))&&(C=l.floating[w]||i.floating[x]);const T=j/2-N/2,M=C/2-g[x]/2-1,E=aa(h[v],M),O=aa(h[y],M),D=E,q=C-g[x]-O,W=C/2-g[x]/2+T,R=Kx(D,W,q),K=!c.arrow&&Kc(r)!=null&&W!==R&&i.reference[x]/2-(W<D?E:O)-g[x]/2<0,I=K?W<D?W-D:W-q:0;return{[p]:f[p]+I,data:{[p]:R,centerOffset:W-R-I,...K&&{alignmentOffset:I}},reset:K}}}),V8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:r,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...b}=oi(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=li(r),y=oa(l),w=li(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=f||(w||!g?[tm(l)]:O8(l)),k=x!=="none";!f&&k&&N.push(...L8(l,g,x,j));const C=[l,...N],T=await bd(t,b),M=[];let E=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&M.push(T[v]),h){const W=F8(r,a,j);M.push(T[W[0]],T[W[1]])}if(E=[...E,{placement:r,overflows:M}],!M.every(W=>W<=0)){var O,D;const W=(((O=i.flip)==null?void 0:O.index)||0)+1,R=C[W];if(R)return{data:{index:W,overflows:E},reset:{placement:R}};let K=(D=E.filter(I=>I.overflows[0]<=0).sort((I,_)=>I.overflows[1]-_.overflows[1])[0])==null?void 0:D.placement;if(!K)switch(p){case"bestFit":{var q;const I=(q=E.filter(_=>{if(k){const B=oa(_.placement);return B===y||B==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(B=>B>0).reduce((B,Q)=>B+Q,0)]).sort((_,B)=>_[1]-B[1])[0])==null?void 0:q[0];I&&(K=I);break}case"initialPlacement":K=l;break}if(r!==K)return{reset:{placement:K}}}return{}}}};function oN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lN(e){return M8.some(t=>e[t]>=0)}const z8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...r}=oi(e,t);switch(s){case"referenceHidden":{const i=await bd(t,{...r,elementContext:"reference"}),a=oN(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:lN(a)}}}case"escaped":{const i=await bd(t,{...r,altBoundary:!0}),a=oN(i,n.floating);return{data:{escapedOffsets:a,escaped:lN(a)}}}default:return{}}}}};async function W8(e,t){const{placement:n,platform:s,elements:r}=e,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),a=li(n),l=Kc(n),c=oa(n)==="y",u=["left","top"].includes(a)?-1:1,d=i&&c?-1:1,h=oi(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const H8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:r,y:i,placement:a,middlewareData:l}=t,c=await W8(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:a}}}}},q8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:r}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:v,y}=b;return{x:v,y}}},...c}=oi(e,t),u={x:n,y:s},d=await bd(t,c),h=oa(li(r)),f=g1(h);let p=u[f],x=u[h];if(i){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=p+d[b],w=p-d[v];p=Kx(y,p,w)}if(a){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=x+d[b],w=x-d[v];x=Kx(y,x,w)}const g=l.fn({...t,[f]:p,[h]:x});return{...g,data:{x:g.x-n,y:g.y-s,enabled:{[f]:i,[h]:a}}}}}},K8=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:r,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=oi(e,t),d={x:n,y:s},h=oa(r),f=g1(h);let p=d[f],x=d[h];const g=oi(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=f==="y"?"height":"width",j=i.reference[f]-i.floating[w]+b.mainAxis,N=i.reference[f]+i.reference[w]-b.mainAxis;p<j?p=j:p>N&&(p=N)}if(u){var v,y;const w=f==="y"?"width":"height",j=["top","left"].includes(li(r)),N=i.reference[h]-i.floating[w]+(j&&((v=a.offset)==null?void 0:v[h])||0)+(j?0:b.crossAxis),k=i.reference[h]+i.reference[w]+(j?0:((y=a.offset)==null?void 0:y[h])||0)-(j?b.crossAxis:0);x<N?x=N:x>k&&(x=k)}return{[f]:p,[h]:x}}}},G8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:r,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=oi(e,t),d=await bd(t,u),h=li(r),f=Kc(r),p=oa(r)==="y",{width:x,height:g}=i.floating;let b,v;h==="top"||h==="bottom"?(b=h,v=f===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,b=f==="end"?"top":"bottom");const y=g-d.top-d.bottom,w=x-d.left-d.right,j=aa(g-d[b],y),N=aa(x-d[v],w),k=!t.middlewareData.shift;let C=j,T=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(C=y),k&&!f){const E=Wn(d.left,0),O=Wn(d.right,0),D=Wn(d.top,0),q=Wn(d.bottom,0);p?T=x-2*(E!==0||O!==0?E+O:Wn(d.left,d.right)):C=g-2*(D!==0||q!==0?D+q:Wn(d.top,d.bottom))}await c({...t,availableWidth:T,availableHeight:C});const M=await a.getDimensions(l.floating);return x!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function vg(){return typeof window<"u"}function Gc(e){return wE(e)?(e.nodeName||"").toLowerCase():"#document"}function Kn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Er(e){var t;return(t=(wE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wE(e){return vg()?e instanceof Node||e instanceof Kn(e).Node:!1}function Gs(e){return vg()?e instanceof Element||e instanceof Kn(e).Element:!1}function Pr(e){return vg()?e instanceof HTMLElement||e instanceof Kn(e).HTMLElement:!1}function cN(e){return!vg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kn(e).ShadowRoot}function Mh(e){const{overflow:t,overflowX:n,overflowY:s,display:r}=Ys(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(r)}function Y8(e){return["table","td","th"].includes(Gc(e))}function xg(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function x1(e){const t=w1(),n=Gs(e)?Ys(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function Q8(e){let t=la(e);for(;Pr(t)&&!bc(t);){if(x1(t))return t;if(xg(t))return null;t=la(t)}return null}function w1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bc(e){return["html","body","#document"].includes(Gc(e))}function Ys(e){return Kn(e).getComputedStyle(e)}function wg(e){return Gs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function la(e){if(Gc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cN(e)&&e.host||Er(e);return cN(t)?t.host:t}function bE(e){const t=la(e);return bc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pr(t)&&Mh(t)?t:bE(t)}function jd(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=bE(e),i=r===((s=e.ownerDocument)==null?void 0:s.body),a=Kn(r);if(i){const l=Yx(a);return t.concat(a,a.visualViewport||[],Mh(r)?r:[],l&&n?jd(l):[])}return t.concat(r,jd(r,[],n))}function Yx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jE(e){const t=Ys(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const r=Pr(e),i=r?e.offsetWidth:n,a=r?e.offsetHeight:s,l=em(n)!==i||em(s)!==a;return l&&(n=i,s=a),{width:n,height:s,$:l}}function b1(e){return Gs(e)?e:e.contextElement}function kl(e){const t=b1(e);if(!Pr(t))return jr(1);const n=t.getBoundingClientRect(),{width:s,height:r,$:i}=jE(t);let a=(i?em(n.width):n.width)/s,l=(i?em(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Z8=jr(0);function SE(e){const t=Kn(e);return!w1()||!t.visualViewport?Z8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function X8(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Kn(e)?!1:t}function No(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=b1(e);let a=jr(1);t&&(s?Gs(s)&&(a=kl(s)):a=kl(e));const l=X8(i,n,s)?SE(i):jr(0);let c=(r.left+l.x)/a.x,u=(r.top+l.y)/a.y,d=r.width/a.x,h=r.height/a.y;if(i){const f=Kn(i),p=s&&Gs(s)?Kn(s):s;let x=f,g=Yx(x);for(;g&&s&&p!==x;){const b=kl(g),v=g.getBoundingClientRect(),y=Ys(g),w=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*b.x,j=v.top+(g.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=w,u+=j,x=Kn(g),g=Yx(x)}}return nm({width:d,height:h,x:c,y:u})}function j1(e,t){const n=wg(e).scrollLeft;return t?t.left+n:No(Er(e)).left+n}function NE(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),r=s.left+t.scrollLeft-(n?0:j1(e,s)),i=s.top+t.scrollTop;return{x:r,y:i}}function J8(e){let{elements:t,rect:n,offsetParent:s,strategy:r}=e;const i=r==="fixed",a=Er(s),l=t?xg(t.floating):!1;if(s===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=jr(1);const d=jr(0),h=Pr(s);if((h||!h&&!i)&&((Gc(s)!=="body"||Mh(a))&&(c=wg(s)),Pr(s))){const p=No(s);u=kl(s),d.x=p.x+s.clientLeft,d.y=p.y+s.clientTop}const f=a&&!h&&!i?NE(a,c,!0):jr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function e$(e){return Array.from(e.getClientRects())}function t$(e){const t=Er(e),n=wg(e),s=e.ownerDocument.body,r=Wn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Wn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+j1(e);const l=-n.scrollTop;return Ys(s).direction==="rtl"&&(a+=Wn(t.clientWidth,s.clientWidth)-r),{width:r,height:i,x:a,y:l}}function n$(e,t){const n=Kn(e),s=Er(e),r=n.visualViewport;let i=s.clientWidth,a=s.clientHeight,l=0,c=0;if(r){i=r.width,a=r.height;const u=w1();(!u||u&&t==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:a,x:l,y:c}}function s$(e,t){const n=No(e,!0,t==="fixed"),s=n.top+e.clientTop,r=n.left+e.clientLeft,i=Pr(e)?kl(e):jr(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=r*i.x,u=s*i.y;return{width:a,height:l,x:c,y:u}}function uN(e,t,n){let s;if(t==="viewport")s=n$(e,n);else if(t==="document")s=t$(Er(e));else if(Gs(t))s=s$(t,n);else{const r=SE(e);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return nm(s)}function CE(e,t){const n=la(e);return n===t||!Gs(n)||bc(n)?!1:Ys(n).position==="fixed"||CE(n,t)}function r$(e,t){const n=t.get(e);if(n)return n;let s=jd(e,[],!1).filter(l=>Gs(l)&&Gc(l)!=="body"),r=null;const i=Ys(e).position==="fixed";let a=i?la(e):e;for(;Gs(a)&&!bc(a);){const l=Ys(a),c=x1(a);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Mh(a)&&!c&&CE(e,a))?s=s.filter(d=>d!==a):r=l,a=la(a)}return t.set(e,s),s}function i$(e){let{element:t,boundary:n,rootBoundary:s,strategy:r}=e;const a=[...n==="clippingAncestors"?xg(t)?[]:r$(t,this._c):[].concat(n),s],l=a[0],c=a.reduce((u,d)=>{const h=uN(t,d,r);return u.top=Wn(h.top,u.top),u.right=aa(h.right,u.right),u.bottom=aa(h.bottom,u.bottom),u.left=Wn(h.left,u.left),u},uN(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function a$(e){const{width:t,height:n}=jE(e);return{width:t,height:n}}function o$(e,t,n){const s=Pr(t),r=Er(t),i=n==="fixed",a=No(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=jr(0);if(s||!s&&!i)if((Gc(t)!=="body"||Mh(r))&&(l=wg(t)),s){const f=No(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else r&&(c.x=j1(r));const u=r&&!s&&!i?NE(r,l):jr(0),d=a.left+l.scrollLeft-c.x-u.x,h=a.top+l.scrollTop-c.y-u.y;return{x:d,y:h,width:a.width,height:a.height}}function My(e){return Ys(e).position==="static"}function dN(e,t){if(!Pr(e)||Ys(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Er(e)===n&&(n=n.ownerDocument.body),n}function _E(e,t){const n=Kn(e);if(xg(e))return n;if(!Pr(e)){let r=la(e);for(;r&&!bc(r);){if(Gs(r)&&!My(r))return r;r=la(r)}return n}let s=dN(e,t);for(;s&&Y8(s)&&My(s);)s=dN(s,t);return s&&bc(s)&&My(s)&&!x1(s)?n:s||Q8(e)||n}const l$=async function(e){const t=this.getOffsetParent||_E,n=this.getDimensions,s=await n(e.floating);return{reference:o$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function c$(e){return Ys(e).direction==="rtl"}const u$={convertOffsetParentRelativeRectToViewportRelativeRect:J8,getDocumentElement:Er,getClippingRect:i$,getOffsetParent:_E,getElementRects:l$,getClientRects:e$,getDimensions:a$,getScale:kl,isElement:Gs,isRTL:c$};function PE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function d$(e,t){let n=null,s;const r=Er(e);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||t(),!f||!p)return;const x=bf(h),g=bf(r.clientWidth-(d+f)),b=bf(r.clientHeight-(h+p)),v=bf(d),w={rootMargin:-x+"px "+-g+"px "+-b+"px "+-v+"px",threshold:Wn(0,aa(1,c))||1};let j=!0;function N(k){const C=k[0].intersectionRatio;if(C!==c){if(!j)return a();C?a(!1,C):s=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!PE(u,e.getBoundingClientRect())&&a(),j=!1}try{n=new IntersectionObserver(N,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(e)}return a(!0),i}function h$(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=b1(e),d=r||i?[...u?jd(u):[],...jd(t)]:[];d.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=u&&l?d$(u,n):null;let f=-1,p=null;a&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let x,g=c?No(e):null;c&&b();function b(){const v=No(e);g&&!PE(g,v)&&n(),g=v,x=requestAnimationFrame(b)}return n(),()=>{var v;d.forEach(y=>{r&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const f$=H8,p$=q8,m$=V8,g$=G8,y$=z8,hN=B8,v$=K8,x$=(e,t,n)=>{const s=new Map,r={platform:u$,...n},i={...r.platform,_c:s};return U8(e,t,{...r,platform:i})};var ap=typeof document<"u"?m.useLayoutEffect:m.useEffect;function sm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!sm(e[s],t[s]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&e.$$typeof)&&!sm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function kE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fN(e,t){const n=kE(e);return Math.round(t*n)/n}function Ry(e){const t=m.useRef(e);return ap(()=>{t.current=e}),t}function w$(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(s);sm(f,s)||p(s);const[x,g]=m.useState(null),[b,v]=m.useState(null),y=m.useCallback(_=>{_!==k.current&&(k.current=_,g(_))},[]),w=m.useCallback(_=>{_!==C.current&&(C.current=_,v(_))},[]),j=i||x,N=a||b,k=m.useRef(null),C=m.useRef(null),T=m.useRef(d),M=c!=null,E=Ry(c),O=Ry(r),D=Ry(u),q=m.useCallback(()=>{if(!k.current||!C.current)return;const _={placement:t,strategy:n,middleware:f};O.current&&(_.platform=O.current),x$(k.current,C.current,_).then(B=>{const Q={...B,isPositioned:D.current!==!1};W.current&&!sm(T.current,Q)&&(T.current=Q,Bo.flushSync(()=>{h(Q)}))})},[f,t,n,O,D]);ap(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(_=>({..._,isPositioned:!1})))},[u]);const W=m.useRef(!1);ap(()=>(W.current=!0,()=>{W.current=!1}),[]),ap(()=>{if(j&&(k.current=j),N&&(C.current=N),j&&N){if(E.current)return E.current(j,N,q);q()}},[j,N,q,E,M]);const R=m.useMemo(()=>({reference:k,floating:C,setReference:y,setFloating:w}),[y,w]),K=m.useMemo(()=>({reference:j,floating:N}),[j,N]),I=m.useMemo(()=>{const _={position:n,left:0,top:0};if(!K.floating)return _;const B=fN(K.floating,d.x),Q=fN(K.floating,d.y);return l?{..._,transform:"translate("+B+"px, "+Q+"px)",...kE(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Q}},[n,l,K.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:q,refs:R,elements:K,floatingStyles:I}),[d,q,R,K,I])}const b$=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:r}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?hN({element:s.current,padding:r}).fn(n):{}:s?hN({element:s,padding:r}).fn(n):{}}}},j$=(e,t)=>({...f$(e),options:[e,t]}),S$=(e,t)=>({...p$(e),options:[e,t]}),N$=(e,t)=>({...v$(e),options:[e,t]}),C$=(e,t)=>({...m$(e),options:[e,t]}),_$=(e,t)=>({...g$(e),options:[e,t]}),P$=(e,t)=>({...y$(e),options:[e,t]}),k$=(e,t)=>({...b$(e),options:[e,t]});var T$="Arrow",TE=m.forwardRef((e,t)=>{const{children:n,width:s=10,height:r=5,...i}=e;return o.jsx(ge.svg,{...i,ref:t,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});TE.displayName=T$;var E$=TE;function EE(e){const[t,n]=m.useState(void 0);return Ct(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var S1="Popper",[AE,Yc]=es(S1),[A$,ME]=AE(S1),RE=e=>{const{__scopePopper:t,children:n}=e,[s,r]=m.useState(null);return o.jsx(A$,{scope:t,anchor:s,onAnchorChange:r,children:n})};RE.displayName=S1;var DE="PopperAnchor",FE=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...r}=e,i=ME(DE,n),a=m.useRef(null),l=Me(t,a);return m.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||a.current)}),s?null:o.jsx(ge.div,{...r,ref:l})});FE.displayName=DE;var N1="PopperContent",[M$,R$]=AE(N1),OE=m.forwardRef((e,t)=>{var me,Ue,Pt,Ge,Be,ze;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,b=ME(N1,n),[v,y]=m.useState(null),w=Me(t,pn=>y(pn)),[j,N]=m.useState(null),k=EE(j),C=(k==null?void 0:k.width)??0,T=(k==null?void 0:k.height)??0,M=s+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],D=O.length>0,q={padding:E,boundary:O.filter(F$),altBoundary:D},{refs:W,floatingStyles:R,placement:K,isPositioned:I,middlewareData:_}=w$({strategy:"fixed",placement:M,whileElementsMounted:(...pn)=>h$(...pn,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[j$({mainAxis:r+T,alignmentAxis:a}),c&&S$({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?N$():void 0,...q}),c&&C$({...q}),_$({...q,apply:({elements:pn,rects:Un,availableWidth:_a,availableHeight:pi})=>{const{width:mi,height:Yg}=Un.reference,zo=pn.floating.style;zo.setProperty("--radix-popper-available-width",`${_a}px`),zo.setProperty("--radix-popper-available-height",`${pi}px`),zo.setProperty("--radix-popper-anchor-width",`${mi}px`),zo.setProperty("--radix-popper-anchor-height",`${Yg}px`)}}),j&&k$({element:j,padding:l}),O$({arrowWidth:C,arrowHeight:T}),f&&P$({strategy:"referenceHidden",...q})]}),[B,Q]=$E(K),se=bt(x);Ct(()=>{I&&(se==null||se())},[I,se]);const Ee=(me=_.arrow)==null?void 0:me.x,ft=(Ue=_.arrow)==null?void 0:Ue.y,X=((Pt=_.arrow)==null?void 0:Pt.centerOffset)!==0,[Xe,nt]=m.useState();return Ct(()=>{v&&nt(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:I?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xe,"--radix-popper-transform-origin":[(Ge=_.transformOrigin)==null?void 0:Ge.x,(Be=_.transformOrigin)==null?void 0:Be.y].join(" "),...((ze=_.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(M$,{scope:n,placedSide:B,onArrowChange:N,arrowX:Ee,arrowY:ft,shouldHideArrow:X,children:o.jsx(ge.div,{"data-side":B,"data-align":Q,...g,ref:w,style:{...g.style,animation:I?void 0:"none"}})})})});OE.displayName=N1;var IE="PopperArrow",D$={top:"bottom",right:"left",bottom:"top",left:"right"},LE=m.forwardRef(function(t,n){const{__scopePopper:s,...r}=t,i=R$(IE,s),a=D$[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(E$,{...r,ref:n,style:{...r.style,display:"block"}})})});LE.displayName=IE;function F$(e){return e!==null}var O$=e=>({name:"transformOrigin",options:e,fn(t){var b,v,y;const{placement:n,rects:s,middlewareData:r}=t,a=((b=r.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=$E(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((v=r.arrow)==null?void 0:v.x)??0)+l/2,p=(((y=r.arrow)==null?void 0:y.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=a?h:`${f}px`,g=`${-c}px`):u==="top"?(x=a?h:`${f}px`,g=`${s.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=a?h:`${p}px`):u==="left"&&(x=`${s.floating.width+c}px`,g=a?h:`${p}px`),{data:{x,y:g}}}});function $E(e){const[t,n="center"]=e.split("-");return[t,n]}var UE=RE,bg=FE,C1=OE,_1=LE,[jg,Fre]=es("Tooltip",[Yc]),P1=Yc(),BE="TooltipProvider",I$=700,pN="tooltip.open",[L$,VE]=jg(BE),zE=e=>{const{__scopeTooltip:t,delayDuration:n=I$,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=e,a=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(L$,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:r,children:i})};zE.displayName=BE;var WE="Tooltip",[Ore,Sg]=jg(WE),Qx="TooltipTrigger",$$=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=Sg(Qx,n),i=VE(Qx,n),a=P1(n),l=m.useRef(null),c=Me(t,l,r.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),h=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(bg,{asChild:!0,...a,children:o.jsx(ge.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:fe(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:fe(e.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:fe(e.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:fe(e.onFocus,()=>{u.current||r.onOpen()}),onBlur:fe(e.onBlur,r.onClose),onClick:fe(e.onClick,r.onClose)})})});$$.displayName=Qx;var U$="TooltipPortal",[Ire,B$]=jg(U$,{forceMount:void 0}),jc="TooltipContent",HE=m.forwardRef((e,t)=>{const n=B$(jc,e.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=e,a=Sg(jc,e.__scopeTooltip);return o.jsx($n,{present:s||a.open,children:a.disableHoverableContent?o.jsx(qE,{side:r,...i,ref:t}):o.jsx(V$,{side:r,...i,ref:t})})}),V$=m.forwardRef((e,t)=>{const n=Sg(jc,e.__scopeTooltip),s=VE(jc,e.__scopeTooltip),r=m.useRef(null),i=Me(t,r),[a,l]=m.useState(null),{trigger:c,onClose:u}=n,d=r.current,{onPointerInTransitChange:h}=s,f=m.useCallback(()=>{l(null),h(!1)},[h]),p=m.useCallback((x,g)=>{const b=x.currentTarget,v={x:x.clientX,y:x.clientY},y=K$(v,b.getBoundingClientRect()),w=G$(v,y),j=Y$(g.getBoundingClientRect()),N=Z$([...w,...j]);l(N),h(!0)},[h]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(c&&d){const x=b=>p(b,d),g=b=>p(b,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[c,d,p,f]),m.useEffect(()=>{if(a){const x=g=>{const b=g.target,v={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!Q$(v,a);y?f():w&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,a,u,f]),o.jsx(qE,{...e,ref:i})}),[z$,W$]=jg(WE,{isInside:!1}),H$=TT("TooltipContent"),qE=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Sg(jc,n),u=P1(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(pN,d),()=>document.removeEventListener(pN,d)),[d]),m.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(C1,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(H$,{children:s}),o.jsx(z$,{scope:n,isInside:!0,children:o.jsx(o6,{id:c.contentId,role:"tooltip",children:r||s})})]})})});HE.displayName=jc;var KE="TooltipArrow",q$=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=P1(n);return W$(KE,n).isInside?null:o.jsx(_1,{...r,...s,ref:t})});q$.displayName=KE;function K$(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function G$(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Y$(e){const{top:t,right:n,bottom:s,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:s},{x:r,y:s}]}function Q$(e,t){const{x:n,y:s}=e;let r=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,u=t[a].x,d=t[a].y;c>s!=d>s&&n<(u-l)*(s-c)/(d-c)+l&&(r=!r)}return r}function Z$(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),X$(t)}function X$(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(r.y-a.y)>=(i.y-a.y)*(r.x-a.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const r=e[s];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(r.y-a.y)>=(i.y-a.y)*(r.x-a.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var J$=zE,GE=HE;const eU=J$,tU=m.forwardRef(({className:e,sideOffset:t=4,...n},s)=>o.jsx(GE,{ref:s,sideOffset:t,className:ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));tU.displayName=GE.displayName;const Sd=Th("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=m.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...r},i)=>{const a=s?PT:"button";return o.jsx(a,{className:ue(Sd({variant:t,size:n,className:e})),ref:i,...r})});V.displayName="Button";const nU=Th("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Te({className:e,variant:t,...n}){return o.jsx("div",{className:ue(nU({variant:t}),e),...n})}var k1="Avatar",[sU,Lre]=es(k1),[rU,YE]=sU(k1),QE=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[r,i]=m.useState("idle");return o.jsx(rU,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:i,children:o.jsx(ge.span,{...s,ref:t})})});QE.displayName=k1;var ZE="AvatarImage",XE=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:r=()=>{},...i}=e,a=YE(ZE,n),l=iU(s,i),c=bt(u=>{r(u),a.onImageLoadingStatusChange(u)});return Ct(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ge.img,{...i,ref:t,src:s}):null});XE.displayName=ZE;var JE="AvatarFallback",eA=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...r}=e,i=YE(JE,n),[a,l]=m.useState(s===void 0);return m.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(ge.span,{...r,ref:t}):null});eA.displayName=JE;function mN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function iU(e,{referrerPolicy:t,crossOrigin:n}){const s=oU(),r=m.useRef(null),i=s?(r.current||(r.current=new window.Image),r.current):null,[a,l]=m.useState(()=>mN(i,e));return Ct(()=>{l(mN(i,e))},[i,e]),Ct(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,t]),a}function aU(){return()=>{}}function oU(){return m.useSyncExternalStore(aU,()=>!0,()=>!1)}var tA=QE,nA=XE,sA=eA;const Ng=m.forwardRef(({className:e,...t},n)=>o.jsx(tA,{ref:n,className:ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ng.displayName=tA.displayName;const T1=m.forwardRef(({className:e,...t},n)=>o.jsx(nA,{ref:n,className:ue("aspect-square h-full w-full",e),...t}));T1.displayName=nA.displayName;const Cg=m.forwardRef(({className:e,...t},n)=>o.jsx(sA,{ref:n,className:ue("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Cg.displayName=sA.displayName;const rA=m.createContext(void 0),lU={en:{"nav.dashboard":"Dashboard","nav.tasks":"Tasks","nav.myTasks":"My Tasks","nav.team":"Team","nav.customers":"Customers","nav.profile":"Profile","nav.admin":"Admin","dashboard.title":"Dashboard","dashboard.welcome":"Welcome to TaskFlow","dashboard.quickActions":"Quick Actions","dashboard.createTask":"Create Task","dashboard.addMember":"Add Member","dashboard.admin":"Admin","dashboard.weeklySchedule":"Weekly Schedule","dashboard.upcomingSchedule":"Upcoming Schedule","dashboard.recentTasks":"Recent Tasks","task.title":"Title","task.description":"Description","task.customer":"Customer","task.phone":"Phone","task.address":"Address","task.time":"Time","task.notes":"Notes","task.priority":"Priority","task.status":"Status","task.assignees":"Assignees","task.dueDate":"Due Date","task.progress":"Progress","status.pending":"Pending","status.start":"Started","status.complete":"Complete","priority.low":"Low","priority.medium":"Medium","priority.high":"High","action.create":"Create","action.edit":"Edit","action.delete":"Delete","action.save":"Save","action.cancel":"Cancel","action.close":"Close","action.submit":"Submit","action.startTask":"Start Task","action.completeTask":"Complete Task","action.resetTask":"Reset to Pending","common.viewAll":"View All","msg.noTasks":"No tasks found","msg.noTeamMembers":"No team members found","msg.noUpcomingTasks":"No upcoming tasks in the next 7 days","msg.taskCreated":"Task created successfully","msg.taskUpdated":"Task updated successfully","msg.loading":"Loading...","msg.saving":"Saving...","msg.updating":"Updating...","myTasks.title":"My Tasks","myTasks.subtitle":"Personal task overview with priorities and reminders","myTasks.highPriority":"High Priority Tasks","myTasks.overdue":"Overdue Tasks","myTasks.upcoming":"Upcoming This Week","myTasks.withComments":"Tasks with Comments","admin.logs":"System Logs","admin.access":"Administrator Access","error.generic":"An error occurred. Please try again.","error.network":"Network connection error. Please check your internet connection.","error.unauthorized":"You are not authorized to access this resource.","error.forbidden":"Access denied. Insufficient permissions.","error.notFound":"The requested resource was not found.","error.validation":"Please check your input and try again.","error.server":"Server error. Please try again later.","error.timeout":"Request timed out. Please try again.","error.database":"Database error. Please contact support.","error.session":"Your session has expired. Please log in again.","error.fileUpload":"File upload failed. Please check file size and format.","error.invalidFormat":"Invalid format. Please check your input.","error.tooManyRequests":"Too many requests. Please wait before trying again.","validation.required":"This field is required","validation.email":"Please enter a valid email address","validation.phone":"Please enter a valid phone number","validation.minLength":"Minimum {min} characters required","validation.maxLength":"Maximum {max} characters allowed","validation.password":"Password must be at least 6 characters","validation.passwordMatch":"Passwords do not match","validation.future":"Date must be in the future","validation.past":"Date must be in the past","guidance.loading":"Loading data, please wait...","guidance.saving":"Saving your changes...","guidance.deleting":"Deleting item...","guidance.uploading":"Uploading file...","guidance.connecting":"Establishing connection...","guidance.processing":"Processing your request...","guidance.retry":"Click to retry","guidance.refresh":"Refresh the page","guidance.contactSupport":"Contact support if the problem persists","whatsapp.connecting":"Connecting to WhatsApp...","whatsapp.connected":"WhatsApp connected successfully","whatsapp.disconnected":"WhatsApp disconnected","whatsapp.qrCode":"Scan QR code with WhatsApp","whatsapp.reconnecting":"Reconnecting to WhatsApp...","whatsapp.messageSent":"Message sent successfully","whatsapp.messageFailed":"Failed to send message","whatsapp.settingsUpdated":"WhatsApp settings updated","success.taskCreated":"Task created successfully","success.taskUpdated":"Task updated successfully","success.taskDeleted":"Task deleted successfully","success.userCreated":"User created successfully","success.userUpdated":"User updated successfully","success.profileUpdated":"Profile updated successfully","success.passwordChanged":"Password changed successfully","success.settingsSaved":"Settings saved successfully","admin.password":"Enter admin password","admin.login":"Access Admin Panel","admin.userManagement":"User Management","admin.addUser":"Add User","admin.approveUsers":"Approve Users","team.title":"Team","team.addMember":"Add Member","team.memberName":"Member Name","team.memberRole":"Member Role","team.memberEmail":"Member Email","team.memberStatus":"Member Status","team.available":"Available","team.busy":"Busy","team.offline":"Offline","user.username":"Username","user.password":"Password","user.role":"Role","user.admin":"Administrator","user.regular":"Regular User","user.approve":"Approve","user.reject":"Reject","user.pending":"Pending","user.approved":"Approved","user.rejected":"Rejected","auth.login":"Login","auth.logout":"Logout","auth.username":"Username","auth.password":"Password","auth.loginBtn":"Login","auth.logoutConfirm":"Are you sure you want to logout?","lang.english":"English","lang.arabic":"العربية","lang.switch":"Switch Language","chat.title":"Team Chat","chat.taskChat":"Task Chat","chat.typeMessage":"Type a message...","chat.send":"Send","chat.close":"Close","profile.title":"Profile","profile.settings":"Settings","profile.helpSupport":"Help & Support","profile.adminOptions":"Admin Options","stats.activeTasks":"Active Tasks","stats.completed":"Completed","stats.overdue":"Overdue","stats.total":"Total"},ar:{"nav.dashboard":"لوحة التحكم","nav.tasks":"المهام","nav.myTasks":"مهامي","nav.team":"الفريق","nav.customers":"العملاء","nav.profile":"الملف الشخصي","nav.admin":"المدير","dashboard.title":"لوحة التحكم","dashboard.welcome":"أهلاً بك في نظام إدارة المهام","dashboard.quickActions":"إجراءات سريعة","dashboard.createTask":"إنشاء مهمة","dashboard.addMember":"إضافة عضو","dashboard.admin":"المدير","dashboard.weeklySchedule":"الجدول الأسبوعي","dashboard.upcomingSchedule":"الجدول القادم","dashboard.recentTasks":"المهام الحديثة","task.title":"العنوان","task.description":"الوصف","task.customer":"العميل","task.phone":"الهاتف","task.address":"العنوان","task.time":"الوقت","task.notes":"ملاحظات","task.priority":"الأولوية","task.status":"الحالة","task.assignees":"المكلفون","task.dueDate":"تاريخ الاستحقاق","task.progress":"التقدم","status.pending":"في الانتظار","status.todo":"في الانتظار","status.start":"بدأ","status.complete":"مكتمل","priority.low":"منخفض","priority.medium":"متوسط","priority.متوسطة":"متوسط","priority.high":"عالي","action.create":"إنشاء","action.edit":"تحرير","action.delete":"حذف","action.save":"حفظ","action.cancel":"إلغاء","action.close":"إغلاق","action.submit":"إرسال","action.startTask":"بدء المهمة","action.completeTask":"إكمال المهمة","action.resetTask":"إعادة تعيين للانتظار","common.viewAll":"عرض الكل","msg.noTasks":"لا توجد مهام","msg.noTeamMembers":"لا يوجد أعضاء في الفريق","msg.noUpcomingTasks":"لا توجد مهام قادمة في الأيام السبعة القادمة","msg.taskCreated":"تم إنشاء المهمة بنجاح","msg.taskUpdated":"تم تحديث المهمة بنجاح","msg.loading":"جاري التحميل...","msg.saving":"جاري الحفظ...","msg.updating":"جاري التحديث...","myTasks.title":"مهامي","myTasks.subtitle":"نظرة عامة على المهام الشخصية مع الأولويات والتذكيرات","myTasks.highPriority":"المهام عالية الأولوية","myTasks.overdue":"المهام المتأخرة","myTasks.upcoming":"القادمة هذا الأسبوع","myTasks.withComments":"المهام مع التعليقات","admin.logs":"سجلات النظام","admin.access":"وصول المدير","admin.password":"أدخل كلمة مرور المدير","admin.login":"الوصول إلى لوحة المدير","admin.userManagement":"إدارة المستخدمين","admin.addUser":"إضافة مستخدم","admin.approveUsers":"موافقة المستخدمين","team.title":"الفريق","team.addMember":"إضافة عضو","team.memberName":"اسم العضو","team.memberRole":"دور العضو","team.memberEmail":"بريد العضو الإلكتروني","team.memberStatus":"حالة العضو","team.available":"متوفر","team.busy":"مشغول","team.offline":"غير متصل","user.username":"اسم المستخدم","user.password":"كلمة المرور","user.role":"الدور","user.admin":"مدير","user.regular":"مستخدم عادي","user.approve":"موافقة","user.reject":"رفض","user.pending":"في الانتظار","user.approved":"مقبول","user.rejected":"مرفوض","auth.login":"تسجيل الدخول","auth.logout":"تسجيل الخروج","auth.username":"اسم المستخدم","auth.password":"كلمة المرور","auth.loginBtn":"دخول","auth.logoutConfirm":"هل أنت متأكد من تسجيل الخروج؟","lang.english":"English","lang.arabic":"العربية","lang.switch":"تبديل اللغة","chat.title":"دردشة الفريق","chat.taskChat":"دردشة المهمة","chat.typeMessage":"اكتب رسالة...","chat.send":"إرسال","chat.close":"إغلاق","profile.title":"الملف الشخصي","profile.settings":"الإعدادات","profile.helpSupport":"المساعدة والدعم","profile.adminOptions":"خيارات المدير","stats.activeTasks":"المهام الفعالة","stats.completed":"المهام المكتملة","stats.overdue":"في الانتظار","stats.total":"الإجمالي","error.generic":"حدث خطأ. يرجى المحاولة مرة أخرى.","error.network":"خطأ في الاتصال بالشبكة. يرجى التحقق من اتصالك بالإنترنت.","error.unauthorized":"غير مصرح لك بالوصول لهذا المورد.","error.forbidden":"تم رفض الوصول. صلاحيات غير كافية.","error.notFound":"المورد المطلوب غير موجود.","error.validation":"يرجى التحقق من البيانات المدخلة والمحاولة مرة أخرى.","error.server":"خطأ في الخادم. يرجى المحاولة لاحقاً.","error.timeout":"انتهت مهلة الطلب. يرجى المحاولة مرة أخرى.","error.database":"خطأ في قاعدة البيانات. يرجى التواصل مع الدعم الفني.","error.session":"انتهت صلاحية جلستك. يرجى تسجيل الدخول مرة أخرى.","error.fileUpload":"فشل في رفع الملف. يرجى التحقق من حجم ونوع الملف.","error.invalidFormat":"تنسيق غير صحيح. يرجى التحقق من البيانات المدخلة.","error.tooManyRequests":"طلبات كثيرة جداً. يرجى الانتظار قبل المحاولة مرة أخرى.","validation.required":"هذا الحقل مطلوب","validation.email":"يرجى إدخال عنوان بريد إلكتروني صحيح","validation.phone":"يرجى إدخال رقم هاتف صحيح","validation.minLength":"يجب أن يكون {min} أحرف على الأقل","validation.maxLength":"الحد الأقصى {max} حرف","validation.password":"كلمة المرور يجب أن تكون 6 أحرف على الأقل","validation.passwordMatch":"كلمات المرور غير متطابقة","validation.future":"التاريخ يجب أن يكون في المستقبل","validation.past":"التاريخ يجب أن يكون في الماضي","guidance.loading":"جاري تحميل البيانات، يرجى الانتظار...","guidance.saving":"جاري حفظ التغييرات...","guidance.deleting":"جاري حذف العنصر...","guidance.uploading":"جاري رفع الملف...","guidance.connecting":"جاري تأسيس الاتصال...","guidance.processing":"جاري معالجة طلبك...","guidance.retry":"اضغط للمحاولة مرة أخرى","guidance.refresh":"أعد تحميل الصفحة","guidance.contactSupport":"تواصل مع الدعم الفني إذا استمرت المشكلة","whatsapp.connecting":"جاري الاتصال بالواتساب...","whatsapp.connected":"تم الاتصال بالواتساب بنجاح","whatsapp.disconnected":"تم قطع الاتصال مع الواتساب","whatsapp.qrCode":"امسح رمز QR بالواتساب","whatsapp.reconnecting":"جاري إعادة الاتصال بالواتساب...","whatsapp.messageSent":"تم إرسال الرسالة بنجاح","whatsapp.messageFailed":"فشل في إرسال الرسالة","whatsapp.settingsUpdated":"تم تحديث إعدادات الواتساب","success.taskCreated":"تم إنشاء المهمة بنجاح","success.taskUpdated":"تم تحديث المهمة بنجاح","success.taskDeleted":"تم حذف المهمة بنجاح","success.userCreated":"تم إنشاء المستخدم بنجاح","success.userUpdated":"تم تحديث المستخدم بنجاح","success.profileUpdated":"تم تحديث الملف الشخصي بنجاح","success.passwordChanged":"تم تغيير كلمة المرور بنجاح","success.settingsSaved":"تم حفظ الإعدادات بنجاح"}};function gN({children:e}){const[t,n]=m.useState("ar");m.useEffect(()=>{n("ar")},[]),m.useEffect(()=>{document.documentElement.dir=t==="ar"?"rtl":"ltr",document.documentElement.lang=t,localStorage.setItem("language",t)},[t]);const s=a=>{console.log("Setting language to:",a),n(a)},r=a=>{const l=lU[t][a];return l||(console.warn(`Missing translation for key: ${a} in language: ${t}`),a)},i=t==="ar";return o.jsx(rA.Provider,{value:{language:t,setLanguage:s,t:r,isRTL:i},children:e})}function Jt(){const e=m.useContext(rA);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}function wa(){const{data:e,isLoading:t}=We({queryKey:["/api/auth/user"],retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e}}function cU(){Jt();const{toast:e}=at(),{user:t}=wa(),n=_t(),{data:s=0}=We({queryKey:["/api/notifications/unread-count"],enabled:!!t,refetchInterval:3e4}),r=typeof s=="object"&&s!==null?s.count:0,i=Ne({mutationFn:async()=>{await Ae("POST","/api/auth/logout")},onSuccess:()=>{n.clear(),window.location.reload()},onError:()=>{e({title:"خطأ في تسجيل الخروج",description:"حدث خطأ أثناء تسجيل الخروج",variant:"destructive"})}}),a=()=>{i.mutate()};return o.jsx("header",{className:"bg-primary text-primary-foreground px-3 sm:px-4 lg:px-6 py-2 sm:py-3 shadow-md",children:o.jsxs("div",{className:"flex items-center justify-between max-w-full",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 rtl:space-x-reverse min-w-0 flex-shrink",children:[o.jsx("img",{src:"/attached_assets/319159472_2787094371424406_3593723820726937846_n_1755704545593.jpg",alt:"TaskFlow Logo",className:"w-7 h-7 sm:w-8 sm:h-8 lg:w-10 lg:h-10 rounded-full object-cover shadow-sm border-2 border-white/20 flex-shrink-0"}),o.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-medium truncate responsive-text","data-testid":"text-app-title",children:"TaskFlow"})]}),o.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 rtl:space-x-reverse flex-shrink-0",children:[o.jsxs(V,{variant:"ghost",size:"icon",className:"text-primary-foreground hover:bg-primary-dark rounded-full relative touch-target w-9 h-9 sm:w-10 sm:h-10 lg:w-11 lg:h-11","data-testid":"button-notifications",children:[o.jsx(hl,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6"}),r>0&&o.jsx(Te,{variant:"destructive",className:"absolute -top-0.5 -right-0.5 sm:-top-1 sm:-right-1 h-4 w-4 sm:h-5 sm:w-5 rounded-full p-0 flex items-center justify-center text-[10px] sm:text-xs font-bold min-w-[16px] sm:min-w-[20px]",children:r>99?"99+":r})]}),o.jsx(V,{variant:"ghost",size:"icon",className:"text-primary-foreground hover:bg-primary-dark rounded-full touch-target w-9 h-9 sm:w-10 sm:h-10 lg:w-11 lg:h-11 p-1","data-testid":"button-profile-menu",children:o.jsxs(Ng,{className:"h-7 w-7 sm:h-8 sm:w-8 lg:h-9 lg:w-9",children:[o.jsx(T1,{src:(t==null?void 0:t.profileImageUrl)||"",alt:(t==null?void 0:t.firstName)||"المستخدم",className:"object-cover"}),o.jsx(Cg,{className:"bg-primary-dark text-primary-foreground text-xs sm:text-sm font-medium",children:t!=null&&t.firstName?t.firstName.charAt(0):o.jsx(D6,{className:"h-4 w-4"})})]})}),o.jsx(V,{variant:"ghost",size:"icon",className:"text-primary-foreground hover:bg-red-600/20 rounded-full touch-target w-9 h-9 sm:w-10 sm:h-10 lg:w-11 lg:h-11",onClick:a,disabled:i.isPending,"data-testid":"button-logout",title:"تسجيل الخروج",children:o.jsx(oE,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6"})})]})]})})}function uU(){const[e,t]=_h();Jt();const n=[{path:"/",icon:aE,label:"الرئيسية",testId:"nav-dashboard"},{path:"/tasks",icon:V6,label:"المهام",testId:"nav-tasks"},{path:"/customers",icon:Ah,label:"العملاء",testId:"nav-customers"},{path:"/messages",icon:Xr,label:"الرسائل",testId:"nav-messages"},{path:"/team-members",icon:Jr,label:"أعضاء الفريق",testId:"nav-team-members"},{path:"/profile",icon:_r,label:"الملف الشخصي",testId:"nav-profile"}];return o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 w-full bg-gradient-to-r from-white/95 to-white/90 backdrop-blur-lg border-t border-border/50 z-50 safe-area-bottom shadow-2xl",children:o.jsx("div",{className:"grid grid-cols-6 h-14 sm:h-16 lg:h-18 max-w-full mx-auto",children:n.map(({path:s,icon:r,label:i,testId:a})=>o.jsxs(V,{variant:"ghost",className:`flex flex-col items-center justify-center space-y-0.5 sm:space-y-1 h-full rounded-none touch-manipulation touch-target px-1 transition-all duration-200 ${e===s?"text-primary bg-primary/10 scale-110":"text-gray-400 hover:text-on-surface hover:bg-muted/30 hover:scale-105"}`,onClick:()=>t(s),"data-testid":a,children:[o.jsx(r,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 flex-shrink-0"}),o.jsx("span",{className:"text-[10px] sm:text-xs lg:text-sm font-medium truncate max-w-full text-center leading-tight",children:i})]},s))})})}const Se=m.forwardRef(({className:e,type:t,...n},s)=>o.jsx("input",{type:t,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));Se.displayName="Input";var dU="Label",iA=m.forwardRef((e,t)=>o.jsx(ge.label,{...e,ref:t,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=e.onMouseDown)==null||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));iA.displayName=dU;var aA=iA;const hU=Th("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=m.forwardRef(({className:e,...t},n)=>o.jsx(aA,{ref:n,className:ue(hU(),e),...t}));ne.displayName=aA.displayName;const Qn=m.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Qn.displayName="Textarea";function Zx(e,[t,n]){return Math.min(n,Math.max(t,e))}var fU=m.createContext(void 0);function oA(e){const t=m.useContext(fU);return e||t||"ltr"}var Dy=0;function E1(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yN()),document.body.insertAdjacentElement("beforeend",e[1]??yN()),Dy++,()=>{Dy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Dy--}},[])}function yN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fy="focusScope.autoFocusOnMount",Oy="focusScope.autoFocusOnUnmount",vN={bubbles:!1,cancelable:!0},pU="FocusScope",_g=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...a}=e,[l,c]=m.useState(null),u=bt(r),d=bt(i),h=m.useRef(null),f=Me(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let g=function(w){if(p.paused||!l)return;const j=w.target;l.contains(j)?h.current=j:bi(h.current,{select:!0})},b=function(w){if(p.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||bi(h.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&bi(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),y.disconnect()}}},[s,l,p.paused]),m.useEffect(()=>{if(l){wN.add(p);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(Fy,vN);l.addEventListener(Fy,u),l.dispatchEvent(v),v.defaultPrevented||(mU(wU(lA(l)),{select:!0}),document.activeElement===g&&bi(l))}return()=>{l.removeEventListener(Fy,u),setTimeout(()=>{const v=new CustomEvent(Oy,vN);l.addEventListener(Oy,d),l.dispatchEvent(v),v.defaultPrevented||bi(g??document.body,{select:!0}),l.removeEventListener(Oy,d),wN.remove(p)},0)}}},[l,u,d,p]);const x=m.useCallback(g=>{if(!n&&!s||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const y=g.currentTarget,[w,j]=gU(y);w&&j?!g.shiftKey&&v===j?(g.preventDefault(),n&&bi(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),n&&bi(j,{select:!0})):v===y&&g.preventDefault()}},[n,s,p.paused]);return o.jsx(ge.div,{tabIndex:-1,...a,ref:f,onKeyDown:x})});_g.displayName=pU;function mU(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(bi(s,{select:t}),document.activeElement!==n)return}function gU(e){const t=lA(e),n=xN(t,e),s=xN(t.reverse(),e);return[n,s]}function lA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xN(e,t){for(const n of e)if(!yU(n,{upTo:t}))return n}function yU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function vU(e){return e instanceof HTMLInputElement&&"select"in e}function bi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&vU(e)&&t&&e.select()}}var wN=xU();function xU(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=bN(e,t),e.unshift(t)},remove(t){var n;e=bN(e,t),(n=e[0])==null||n.resume()}}}function bN(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function wU(e){return e.filter(t=>t.tagName!=="A")}function cA(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var bU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qo=new WeakMap,jf=new WeakMap,Sf={},Iy=0,uA=function(e){return e&&(e.host||uA(e.parentNode))},jU=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=uA(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},SU=function(e,t,n,s){var r=jU(t,Array.isArray(e)?e:[e]);Sf[n]||(Sf[n]=new WeakMap);var i=Sf[n],a=[],l=new Set,c=new Set(r),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};r.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(s),x=p!==null&&p!=="false",g=(qo.get(f)||0)+1,b=(i.get(f)||0)+1;qo.set(f,g),i.set(f,b),a.push(f),g===1&&x&&jf.set(f,!0),b===1&&f.setAttribute(n,"true"),x||f.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(t),l.clear(),Iy++,function(){a.forEach(function(h){var f=qo.get(h)-1,p=i.get(h)-1;qo.set(h,f),i.set(h,p),f||(jf.has(h)||h.removeAttribute(s),jf.delete(h)),p||h.removeAttribute(n)}),Iy--,Iy||(qo=new WeakMap,qo=new WeakMap,jf=new WeakMap,Sf={})}},A1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),r=bU(e);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live]"))),SU(s,r,n,"aria-hidden")):function(){return null}},gr=function(){return gr=Object.assign||function(t){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gr.apply(this,arguments)};function dA(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}function NU(e,t,n){if(n||arguments.length===2)for(var s=0,r=t.length,i;s<r;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var op="right-scroll-bar-position",lp="width-before-scroll-bar",CU="with-scroll-bars-hidden",_U="--removed-body-scroll-bar-size";function Ly(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function PU(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=t,n.facade}var kU=typeof window<"u"?m.useLayoutEffect:m.useEffect,jN=new WeakMap;function TU(e,t){var n=PU(null,function(s){return e.forEach(function(r){return Ly(r,s)})});return kU(function(){var s=jN.get(n);if(s){var r=new Set(s),i=new Set(e),a=n.current;r.forEach(function(l){i.has(l)||Ly(l,null)}),i.forEach(function(l){r.has(l)||Ly(l,a)})}jN.set(n,e)},[e]),n}function EU(e){return e}function AU(e,t){t===void 0&&(t=EU);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,s);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(s=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return r}function MU(e){e===void 0&&(e={});var t=AU(null);return t.options=gr({async:!0,ssr:!1},e),t}var hA=function(e){var t=e.sideCar,n=dA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,gr({},n))};hA.isSideCarExport=!0;function RU(e,t){return e.useMedium(t),hA}var fA=MU(),$y=function(){},Pg=m.forwardRef(function(e,t){var n=m.useRef(null),s=m.useState({onScrollCapture:$y,onWheelCapture:$y,onTouchMoveCapture:$y}),r=s[0],i=s[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noIsolation,x=e.inert,g=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,y=e.gapMode,w=dA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,N=TU([n,t]),k=gr(gr({},w),r);return m.createElement(m.Fragment,null,d&&m.createElement(j,{sideCar:fA,removeScrollBar:u,shards:h,noIsolation:p,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:y}),a?m.cloneElement(m.Children.only(l),gr(gr({},k),{ref:N})):m.createElement(v,gr({},k,{className:c,ref:N}),l))});Pg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pg.classNames={fullWidth:lp,zeroRight:op};var DU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function FU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=DU();return t&&e.setAttribute("nonce",t),e}function OU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function IU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var LU=function(){var e=0,t=null;return{add:function(n){e==0&&(t=FU())&&(OU(t,n),IU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$U=function(){var e=LU();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},pA=function(){var e=$U(),t=function(n){var s=n.styles,r=n.dynamic;return e(s,r),null};return t},UU={left:0,top:0,right:0,gap:0},Uy=function(e){return parseInt(e||"",10)||0},BU=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[Uy(n),Uy(s),Uy(r)]},VU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return UU;var t=BU(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},zU=pA(),Tl="data-scroll-locked",WU=function(e,t,n,s){var r=e.left,i=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(CU,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Tl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(op,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(lp,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(op," .").concat(op,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(lp," .").concat(lp,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Tl,`] {
    `).concat(_U,": ").concat(l,`px;
  }
`)},SN=function(){var e=parseInt(document.body.getAttribute(Tl)||"0",10);return isFinite(e)?e:0},HU=function(){m.useEffect(function(){return document.body.setAttribute(Tl,(SN()+1).toString()),function(){var e=SN()-1;e<=0?document.body.removeAttribute(Tl):document.body.setAttribute(Tl,e.toString())}},[])},qU=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,r=s===void 0?"margin":s;HU();var i=m.useMemo(function(){return VU(r)},[r]);return m.createElement(zU,{styles:WU(i,!t,r,n?"":"!important")})},Xx=!1;if(typeof window<"u")try{var Nf=Object.defineProperty({},"passive",{get:function(){return Xx=!0,!0}});window.addEventListener("test",Nf,Nf),window.removeEventListener("test",Nf,Nf)}catch{Xx=!1}var Ko=Xx?{passive:!1}:!1,KU=function(e){return e.tagName==="TEXTAREA"},mA=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!KU(e)&&n[t]==="visible")},GU=function(e){return mA(e,"overflowY")},YU=function(e){return mA(e,"overflowX")},NN=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=gA(e,s);if(r){var i=yA(e,s),a=i[1],l=i[2];if(a>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},QU=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},ZU=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},gA=function(e,t){return e==="v"?GU(t):YU(t)},yA=function(e,t){return e==="v"?QU(t):ZU(t)},XU=function(e,t){return e==="h"&&t==="rtl"?-1:1},JU=function(e,t,n,s,r){var i=XU(e,window.getComputedStyle(t).direction),a=i*s,l=n.target,c=t.contains(l),u=!1,d=a>0,h=0,f=0;do{var p=yA(e,l),x=p[0],g=p[1],b=p[2],v=g-b-i*x;(x||v)&&gA(e,l)&&(h+=v,f+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!r)||!d&&(Math.abs(f)<1||!r))&&(u=!0),u},Cf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},CN=function(e){return[e.deltaX,e.deltaY]},_N=function(e){return e&&"current"in e?e.current:e},e7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},n7=0,Go=[];function s7(e){var t=m.useRef([]),n=m.useRef([0,0]),s=m.useRef(),r=m.useState(n7++)[0],i=m.useState(pA)[0],a=m.useRef(e);m.useEffect(function(){a.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var g=NU([e.lockRef.current],(e.shards||[]).map(_N),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var v=Cf(g),y=n.current,w="deltaX"in g?g.deltaX:y[0]-v[0],j="deltaY"in g?g.deltaY:y[1]-v[1],N,k=g.target,C=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&C==="h"&&k.type==="range")return!1;var T=NN(C,k);if(!T)return!0;if(T?N=C:(N=C==="v"?"h":"v",T=NN(C,k)),!T)return!1;if(!s.current&&"changedTouches"in g&&(w||j)&&(s.current=N),!N)return!0;var M=s.current||N;return JU(M,b,g,M==="h"?w:j,!0)},[]),c=m.useCallback(function(g){var b=g;if(!(!Go.length||Go[Go.length-1]!==i)){var v="deltaY"in b?CN(b):Cf(b),y=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&e7(N.delta,v)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(a.current.shards||[]).map(_N).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=w.length>0?l(b,w[0]):!a.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(g,b,v,y){var w={name:g,delta:b,target:v,should:y,shadowParent:r7(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=m.useCallback(function(g){n.current=Cf(g),s.current=void 0},[]),h=m.useCallback(function(g){u(g.type,CN(g),g.target,l(g,e.lockRef.current))},[]),f=m.useCallback(function(g){u(g.type,Cf(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return Go.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ko),document.addEventListener("touchmove",c,Ko),document.addEventListener("touchstart",d,Ko),function(){Go=Go.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Ko),document.removeEventListener("touchmove",c,Ko),document.removeEventListener("touchstart",d,Ko)}},[]);var p=e.removeScrollBar,x=e.inert;return m.createElement(m.Fragment,null,x?m.createElement(i,{styles:t7(r)}):null,p?m.createElement(qU,{gapMode:e.gapMode}):null)}function r7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const i7=RU(fA,s7);var kg=m.forwardRef(function(e,t){return m.createElement(Pg,gr({},e,{ref:t,sideCar:i7}))});kg.classNames=Pg.classNames;var a7=[" ","Enter","ArrowUp","ArrowDown"],o7=[" ","Enter"],Rh="Select",[Tg,Eg,l7]=ET(Rh),[Qc,$re]=es(Rh,[l7,Yc]),Ag=Yc(),[c7,ba]=Qc(Rh),[u7,d7]=Qc(Rh),vA=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:r,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:x}=e,g=Ag(t),[b,v]=m.useState(null),[y,w]=m.useState(null),[j,N]=m.useState(!1),k=oA(u),[C=!1,T]=bo({prop:s,defaultProp:r,onChange:i}),[M,E]=bo({prop:a,defaultProp:l,onChange:c}),O=m.useRef(null),D=b?x||!!b.closest("form"):!0,[q,W]=m.useState(new Set),R=Array.from(q).map(K=>K.props.value).join(";");return o.jsx(UE,{...g,children:o.jsxs(c7,{required:p,scope:t,trigger:b,onTriggerChange:v,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:ea(),value:M,onValueChange:E,open:C,onOpenChange:T,dir:k,triggerPointerDownPosRef:O,disabled:f,children:[o.jsx(Tg.Provider,{scope:t,children:o.jsx(u7,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(K=>{W(I=>new Set(I).add(K))},[]),onNativeOptionRemove:m.useCallback(K=>{W(I=>{const _=new Set(I);return _.delete(K),_})},[]),children:n})}),D?o.jsxs(zA,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:M,onChange:K=>E(K.target.value),disabled:f,form:x,children:[M===void 0?o.jsx("option",{value:""}):null,Array.from(q)]},R):null]})})};vA.displayName=Rh;var xA="SelectTrigger",wA=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...r}=e,i=Ag(n),a=ba(xA,n),l=a.disabled||s,c=Me(t,a.onTriggerChange),u=Eg(n),d=m.useRef("touch"),[h,f,p]=WA(g=>{const b=u().filter(w=>!w.disabled),v=b.find(w=>w.value===a.value),y=HA(b,g,v);y!==void 0&&a.onValueChange(y.value)}),x=g=>{l||(a.onOpenChange(!0),p()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(bg,{asChild:!0,...i,children:o.jsx(ge.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":VA(a.value)?"":void 0,...r,ref:c,onClick:fe(r.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:fe(r.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:fe(r.onKeyDown,g=>{const b=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(b&&g.key===" ")&&a7.includes(g.key)&&(x(),g.preventDefault())})})})});wA.displayName=xA;var bA="SelectValue",jA=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:r,children:i,placeholder:a="",...l}=e,c=ba(bA,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Me(t,c.onValueNodeChange);return Ct(()=>{u(d)},[u,d]),o.jsx(ge.span,{...l,ref:h,style:{pointerEvents:"none"},children:VA(c.value)?o.jsx(o.Fragment,{children:a}):i})});jA.displayName=bA;var h7="SelectIcon",SA=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...r}=e;return o.jsx(ge.span,{"aria-hidden":!0,...r,ref:t,children:s||"▼"})});SA.displayName=h7;var f7="SelectPortal",NA=e=>o.jsx(Ph,{asChild:!0,...e});NA.displayName=f7;var Co="SelectContent",CA=m.forwardRef((e,t)=>{const n=ba(Co,e.__scopeSelect),[s,r]=m.useState();if(Ct(()=>{r(new DocumentFragment)},[]),!n.open){const i=s;return i?Bo.createPortal(o.jsx(_A,{scope:e.__scopeSelect,children:o.jsx(Tg.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(PA,{...e,ref:t})});CA.displayName=Co;var ws=10,[_A,ja]=Qc(Co),p7="SelectContentImpl",m7=wo("SelectContent.RemoveScroll"),PA=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:b,...v}=e,y=ba(Co,n),[w,j]=m.useState(null),[N,k]=m.useState(null),C=Me(t,me=>j(me)),[T,M]=m.useState(null),[E,O]=m.useState(null),D=Eg(n),[q,W]=m.useState(!1),R=m.useRef(!1);m.useEffect(()=>{if(w)return A1(w)},[w]),E1();const K=m.useCallback(me=>{const[Ue,...Pt]=D().map(ze=>ze.ref.current),[Ge]=Pt.slice(-1),Be=document.activeElement;for(const ze of me)if(ze===Be||(ze==null||ze.scrollIntoView({block:"nearest"}),ze===Ue&&N&&(N.scrollTop=0),ze===Ge&&N&&(N.scrollTop=N.scrollHeight),ze==null||ze.focus(),document.activeElement!==Be))return},[D,N]),I=m.useCallback(()=>K([T,w]),[K,T,w]);m.useEffect(()=>{q&&I()},[q,I]);const{onOpenChange:_,triggerPointerDownPosRef:B}=y;m.useEffect(()=>{if(w){let me={x:0,y:0};const Ue=Ge=>{var Be,ze;me={x:Math.abs(Math.round(Ge.pageX)-(((Be=B.current)==null?void 0:Be.x)??0)),y:Math.abs(Math.round(Ge.pageY)-(((ze=B.current)==null?void 0:ze.y)??0))}},Pt=Ge=>{me.x<=10&&me.y<=10?Ge.preventDefault():w.contains(Ge.target)||_(!1),document.removeEventListener("pointermove",Ue),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",Pt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",Pt,{capture:!0})}}},[w,_,B]),m.useEffect(()=>{const me=()=>_(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[_]);const[Q,se]=WA(me=>{const Ue=D().filter(Be=>!Be.disabled),Pt=Ue.find(Be=>Be.ref.current===document.activeElement),Ge=HA(Ue,me,Pt);Ge&&setTimeout(()=>Ge.ref.current.focus())}),Ee=m.useCallback((me,Ue,Pt)=>{const Ge=!R.current&&!Pt;(y.value!==void 0&&y.value===Ue||Ge)&&(M(me),Ge&&(R.current=!0))},[y.value]),ft=m.useCallback(()=>w==null?void 0:w.focus(),[w]),X=m.useCallback((me,Ue,Pt)=>{const Ge=!R.current&&!Pt;(y.value!==void 0&&y.value===Ue||Ge)&&O(me)},[y.value]),Xe=s==="popper"?Jx:kA,nt=Xe===Jx?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:b}:{};return o.jsx(_A,{scope:n,content:w,viewport:N,onViewportChange:k,itemRefCallback:Ee,selectedItem:T,onItemLeave:ft,itemTextRefCallback:X,focusSelectedItem:I,selectedItemText:E,position:s,isPositioned:q,searchRef:Q,children:o.jsx(kg,{as:m7,allowPinchZoom:!0,children:o.jsx(_g,{asChild:!0,trapped:y.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:fe(r,me=>{var Ue;(Ue=y.trigger)==null||Ue.focus({preventScroll:!0}),me.preventDefault()}),children:o.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:o.jsx(Xe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:me=>me.preventDefault(),...v,...nt,onPlaced:()=>W(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:fe(v.onKeyDown,me=>{const Ue=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Ue&&me.key.length===1&&se(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let Ge=D().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(me.key)&&(Ge=Ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Be=me.target,ze=Ge.indexOf(Be);Ge=Ge.slice(ze+1)}setTimeout(()=>K(Ge)),me.preventDefault()}})})})})})})});PA.displayName=p7;var g7="SelectItemAlignedPosition",kA=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...r}=e,i=ba(Co,n),a=ja(Co,n),[l,c]=m.useState(null),[u,d]=m.useState(null),h=Me(t,C=>d(C)),f=Eg(n),p=m.useRef(!1),x=m.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:v,focusSelectedItem:y}=a,w=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&b&&v){const C=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),E=v.getBoundingClientRect();if(i.dir!=="rtl"){const Be=E.left-T.left,ze=M.left-Be,pn=C.left-ze,Un=C.width+pn,_a=Math.max(Un,T.width),pi=window.innerWidth-ws,mi=Zx(ze,[ws,Math.max(ws,pi-_a)]);l.style.minWidth=Un+"px",l.style.left=mi+"px"}else{const Be=T.right-E.right,ze=window.innerWidth-M.right-Be,pn=window.innerWidth-C.right-ze,Un=C.width+pn,_a=Math.max(Un,T.width),pi=window.innerWidth-ws,mi=Zx(ze,[ws,Math.max(ws,pi-_a)]);l.style.minWidth=Un+"px",l.style.right=mi+"px"}const O=f(),D=window.innerHeight-ws*2,q=g.scrollHeight,W=window.getComputedStyle(u),R=parseInt(W.borderTopWidth,10),K=parseInt(W.paddingTop,10),I=parseInt(W.borderBottomWidth,10),_=parseInt(W.paddingBottom,10),B=R+K+q+_+I,Q=Math.min(b.offsetHeight*5,B),se=window.getComputedStyle(g),Ee=parseInt(se.paddingTop,10),ft=parseInt(se.paddingBottom,10),X=C.top+C.height/2-ws,Xe=D-X,nt=b.offsetHeight/2,me=b.offsetTop+nt,Ue=R+K+me,Pt=B-Ue;if(Ue<=X){const Be=O.length>0&&b===O[O.length-1].ref.current;l.style.bottom="0px";const ze=u.clientHeight-g.offsetTop-g.offsetHeight,pn=Math.max(Xe,nt+(Be?ft:0)+ze+I),Un=Ue+pn;l.style.height=Un+"px"}else{const Be=O.length>0&&b===O[0].ref.current;l.style.top="0px";const pn=Math.max(X,R+g.offsetTop+(Be?Ee:0)+nt)+Pt;l.style.height=pn+"px",g.scrollTop=Ue-X+g.offsetTop}l.style.margin=`${ws}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=D+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,l,u,g,b,v,i.dir,s]);Ct(()=>w(),[w]);const[j,N]=m.useState();Ct(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const k=m.useCallback(C=>{C&&x.current===!0&&(w(),y==null||y(),x.current=!1)},[w,y]);return o.jsx(v7,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(ge.div,{...r,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});kA.displayName=g7;var y7="SelectPopperPosition",Jx=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=ws,...i}=e,a=Ag(n);return o.jsx(C1,{...a,...i,ref:t,align:s,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jx.displayName=y7;var[v7,M1]=Qc(Co,{}),e0="SelectViewport",TA=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...r}=e,i=ja(e0,n),a=M1(e0,n),l=Me(t,i.onViewportChange),c=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Tg.Slot,{scope:n,children:o.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:fe(r.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-ws*2,g=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),v=Math.max(g,b);if(v<x){const y=v+p,w=Math.min(x,y),j=y-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});TA.displayName=e0;var EA="SelectGroup",[x7,w7]=Qc(EA),b7=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,r=ea();return o.jsx(x7,{scope:n,id:r,children:o.jsx(ge.div,{role:"group","aria-labelledby":r,...s,ref:t})})});b7.displayName=EA;var AA="SelectLabel",MA=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,r=w7(AA,n);return o.jsx(ge.div,{id:r.id,...s,ref:t})});MA.displayName=AA;var rm="SelectItem",[j7,RA]=Qc(rm),DA=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:i,...a}=e,l=ba(rm,n),c=ja(rm,n),u=l.value===s,[d,h]=m.useState(i??""),[f,p]=m.useState(!1),x=Me(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,s,r)}),g=ea(),b=m.useRef("touch"),v=()=>{r||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(j7,{scope:n,value:s,disabled:r,textId:g,isSelected:u,onItemTextChange:m.useCallback(y=>{h(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:o.jsx(Tg.ItemSlot,{scope:n,value:s,disabled:r,textValue:d,children:o.jsx(ge.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:x,onFocus:fe(a.onFocus,()=>p(!0)),onBlur:fe(a.onBlur,()=>p(!1)),onClick:fe(a.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:fe(a.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:fe(a.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:fe(a.onPointerMove,y=>{var w;b.current=y.pointerType,r?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(a.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:fe(a.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(o7.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});DA.displayName=rm;var Su="SelectItemText",FA=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:r,...i}=e,a=ba(Su,n),l=ja(Su,n),c=RA(Su,n),u=d7(Su,n),[d,h]=m.useState(null),f=Me(t,v=>h(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,x=m.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return Ct(()=>(g(x),()=>b(x)),[g,b,x]),o.jsxs(o.Fragment,{children:[o.jsx(ge.span,{id:c.textId,...i,ref:f}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Bo.createPortal(i.children,a.valueNode):null]})});FA.displayName=Su;var OA="SelectItemIndicator",IA=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return RA(OA,n).isSelected?o.jsx(ge.span,{"aria-hidden":!0,...s,ref:t}):null});IA.displayName=OA;var t0="SelectScrollUpButton",LA=m.forwardRef((e,t)=>{const n=ja(t0,e.__scopeSelect),s=M1(t0,e.__scopeSelect),[r,i]=m.useState(!1),a=Me(t,s.onScrollButtonChange);return Ct(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?o.jsx(UA,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});LA.displayName=t0;var n0="SelectScrollDownButton",$A=m.forwardRef((e,t)=>{const n=ja(n0,e.__scopeSelect),s=M1(n0,e.__scopeSelect),[r,i]=m.useState(!1),a=Me(t,s.onScrollButtonChange);return Ct(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?o.jsx(UA,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$A.displayName=n0;var UA=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=e,i=ja("SelectScrollButton",n),a=m.useRef(null),l=Eg(n),c=m.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Ct(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ge.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:fe(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:fe(r.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:fe(r.onPointerLeave,()=>{c()})})}),S7="SelectSeparator",BA=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return o.jsx(ge.div,{"aria-hidden":!0,...s,ref:t})});BA.displayName=S7;var s0="SelectArrow",N7=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,r=Ag(n),i=ba(s0,n),a=ja(s0,n);return i.open&&a.position==="popper"?o.jsx(_1,{...r,...s,ref:t}):null});N7.displayName=s0;function VA(e){return e===""||e===void 0}var zA=m.forwardRef((e,t)=>{const{value:n,...s}=e,r=m.useRef(null),i=Me(t,r),a=cA(n);return m.useEffect(()=>{const l=r.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[a,n]),o.jsx(kh,{asChild:!0,children:o.jsx("select",{...s,ref:i,defaultValue:n})})});zA.displayName="BubbleSelect";function WA(e){const t=bt(e),n=m.useRef(""),s=m.useRef(0),r=m.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,i]}function HA(e,t,n){const r=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=C7(e,Math.max(i,0));r.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function C7(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var _7=vA,qA=wA,P7=jA,k7=SA,T7=NA,KA=CA,E7=TA,GA=MA,YA=DA,A7=FA,M7=IA,QA=LA,ZA=$A,XA=BA;const At=_7,Mt=P7,jt=m.forwardRef(({className:e,children:t,...n},s)=>o.jsxs(qA,{ref:s,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(k7,{asChild:!0,children:o.jsx(Gp,{className:"h-4 w-4 opacity-50"})})]}));jt.displayName=qA.displayName;const JA=m.forwardRef(({className:e,...t},n)=>o.jsx(QA,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Vx,{className:"h-4 w-4"})}));JA.displayName=QA.displayName;const e4=m.forwardRef(({className:e,...t},n)=>o.jsx(ZA,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Gp,{className:"h-4 w-4"})}));e4.displayName=ZA.displayName;const St=m.forwardRef(({className:e,children:t,position:n="popper",...s},r)=>o.jsx(T7,{children:o.jsxs(KA,{ref:r,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[o.jsx(JA,{}),o.jsx(E7,{className:ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(e4,{})]})}));St.displayName=KA.displayName;const R7=m.forwardRef(({className:e,...t},n)=>o.jsx(GA,{ref:n,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));R7.displayName=GA.displayName;const ve=m.forwardRef(({className:e,children:t,...n},s)=>o.jsxs(YA,{ref:s,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(M7,{children:o.jsx(gg,{className:"h-4 w-4"})})}),o.jsx(A7,{children:t})]}));ve.displayName=YA.displayName;const D7=m.forwardRef(({className:e,...t},n)=>o.jsx(XA,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",e),...t}));D7.displayName=XA.displayName;var R1="Checkbox",[F7,Ure]=es(R1),[O7,I7]=F7(R1),t4=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:r,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,p]=m.useState(null),x=Me(t,j=>p(j)),g=m.useRef(!1),b=f?d||!!f.closest("form"):!0,[v=!1,y]=bo({prop:r,defaultProp:i,onChange:u}),w=m.useRef(v);return m.useEffect(()=>{const j=f==null?void 0:f.form;if(j){const N=()=>y(w.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[f,y]),o.jsxs(O7,{scope:n,state:v,disabled:l,children:[o.jsx(ge.button,{type:"button",role:"checkbox","aria-checked":ta(v)?"mixed":v,"aria-required":a,"data-state":r4(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onKeyDown:fe(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:fe(e.onClick,j=>{y(N=>ta(N)?!0:!N),b&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),b&&o.jsx(L7,{control:f,bubbles:!g.current,name:s,value:c,checked:v,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:ta(i)?!1:i})]})});t4.displayName=R1;var n4="CheckboxIndicator",s4=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...r}=e,i=I7(n4,n);return o.jsx($n,{present:s||ta(i.state)||i.state===!0,children:o.jsx(ge.span,{"data-state":r4(i.state),"data-disabled":i.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});s4.displayName=n4;var L7=e=>{const{control:t,checked:n,bubbles:s=!0,defaultChecked:r,...i}=e,a=m.useRef(null),l=cA(n),c=EE(t);m.useEffect(()=>{const d=a.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&p){const x=new Event("click",{bubbles:s});d.indeterminate=ta(n),p.call(d,ta(n)?!1:n),d.dispatchEvent(x)}},[l,n,s]);const u=m.useRef(ta(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r??u.current,...i,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ta(e){return e==="indeterminate"}function r4(e){return ta(e)?"indeterminate":e?"checked":"unchecked"}var i4=t4,$7=s4;const D1=m.forwardRef(({className:e,...t},n)=>o.jsx(i4,{ref:n,className:ue("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx($7,{className:ue("flex items-center justify-center text-current"),children:o.jsx(gg,{className:"h-4 w-4"})})}));D1.displayName=i4.displayName;function De(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ln(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Gt(e,t){const n=De(e);return isNaN(t)?Ln(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Qs(e,t){const n=De(e);if(isNaN(t))return Ln(e,NaN);if(!t)return n;const s=n.getDate(),r=Ln(e,n.getTime());r.setMonth(n.getMonth()+t+1,0);const i=r.getDate();return s>=i?r:(n.setFullYear(r.getFullYear(),r.getMonth(),s),n)}const F1=6048e5,U7=864e5;let B7={};function Dh(){return B7}function Zs(e,t){var l,c,u,d;const n=Dh(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=De(e),i=r.getDay(),a=(i<s?7:0)+i-s;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function _o(e){return Zs(e,{weekStartsOn:1})}function a4(e){const t=De(e),n=t.getFullYear(),s=Ln(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const r=_o(s),i=Ln(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=_o(i);return t.getTime()>=r.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Sc(e){const t=De(e);return t.setHours(0,0,0,0),t}function im(e){const t=De(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function yr(e,t){const n=Sc(e),s=Sc(t),r=+n-im(n),i=+s-im(s);return Math.round((r-i)/U7)}function V7(e){const t=a4(e),n=Ln(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),_o(n)}function Nd(e,t){const n=t*7;return Gt(e,n)}function z7(e,t){return Qs(e,t*12)}function W7(e){let t;return e.forEach(function(n){const s=De(n);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function H7(e){let t;return e.forEach(n=>{const s=De(n);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function o4(e){return Ln(e,Date.now())}function Yt(e,t){const n=Sc(e),s=Sc(t);return+n==+s}function O1(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function q7(e){if(!O1(e)&&typeof e!="number")return!1;const t=De(e);return!isNaN(Number(t))}function Cd(e,t){const n=De(e),s=De(t),r=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return r*12+i}function K7(e,t,n){const s=Zs(e,n),r=Zs(t,n),i=+s-im(s),a=+r-im(r);return Math.round((i-a)/F1)}function I1(e){const t=De(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function G7(e,t){const n=De(e.start),s=De(e.end);let r=+n>+s;const i=r?+n:+s,a=r?s:n;a.setHours(0,0,0,0);let l=1;const c=[];for(;+a<=i;)c.push(De(a)),a.setDate(a.getDate()+l),a.setHours(0,0,0,0);return r?c.reverse():c}function On(e){const t=De(e);return t.setDate(1),t.setHours(0,0,0,0),t}function l4(e){const t=De(e),n=Ln(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Mg(e,t){var l,c,u,d;const n=Dh(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=De(e),i=r.getDay(),a=(i<s?-7:0)+6-(i-s);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}function c4(e){return Mg(e,{weekStartsOn:1})}const Y7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Q7=(e,t,n)=>{let s;const r=Y7[e];return typeof r=="string"?s=r:t===1?s=r.one:s=r.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function By(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Z7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},X7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},J7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eB={date:By({formats:Z7,defaultWidth:"full"}),time:By({formats:X7,defaultWidth:"full"}),dateTime:By({formats:J7,defaultWidth:"full"})},tB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nB=(e,t,n,s)=>tB[e];function cu(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;r=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return r[i]}}const sB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cB=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},uB={ordinalNumber:cB,era:cu({values:sB,defaultWidth:"wide"}),quarter:cu({values:rB,defaultWidth:"wide",argumentCallback:e=>e-1}),month:cu({values:iB,defaultWidth:"wide"}),day:cu({values:aB,defaultWidth:"wide"}),dayPeriod:cu({values:oB,defaultWidth:"wide",formattingValues:lB,defaultFormattingWidth:"wide"})};function uu(e){return(t,n={})=>{const s=n.width,r=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;const a=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?hB(l,h=>h.test(a)):dB(l,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function dB(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function hB(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function fB(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const r=s[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(r.length);return{value:a,rest:l}}}const pB=/^(\d+)(th|st|nd|rd)?/i,mB=/\d+/i,gB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yB={any:[/^b/i,/^(a|c)/i]},vB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xB={any:[/1/i,/2/i,/3/i,/4/i]},wB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_B={ordinalNumber:fB({matchPattern:pB,parsePattern:mB,valueCallback:e=>parseInt(e,10)}),era:uu({matchPatterns:gB,defaultMatchWidth:"wide",parsePatterns:yB,defaultParseWidth:"any"}),quarter:uu({matchPatterns:vB,defaultMatchWidth:"wide",parsePatterns:xB,defaultParseWidth:"any",valueCallback:e=>e+1}),month:uu({matchPatterns:wB,defaultMatchWidth:"wide",parsePatterns:bB,defaultParseWidth:"any"}),day:uu({matchPatterns:jB,defaultMatchWidth:"wide",parsePatterns:SB,defaultParseWidth:"any"}),dayPeriod:uu({matchPatterns:NB,defaultMatchWidth:"any",parsePatterns:CB,defaultParseWidth:"any"})},u4={code:"en-US",formatDistance:Q7,formatLong:eB,formatRelative:nB,localize:uB,match:_B,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PB(e){const t=De(e);return yr(t,l4(t))+1}function d4(e){const t=De(e),n=+_o(t)-+V7(t);return Math.round(n/F1)+1}function h4(e,t){var d,h,f,p;const n=De(e),s=n.getFullYear(),r=Dh(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=Ln(e,0);a.setFullYear(s+1,0,i),a.setHours(0,0,0,0);const l=Zs(a,t),c=Ln(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const u=Zs(c,t);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function kB(e,t){var l,c,u,d;const n=Dh(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,r=h4(e,t),i=Ln(e,0);return i.setFullYear(r,0,s),i.setHours(0,0,0,0),Zs(i,t)}function f4(e,t){const n=De(e),s=+Zs(n,t)-+kB(n,t);return Math.round(s/F1)+1}function Ye(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const xi={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return Ye(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ye(n+1,2)},d(e,t){return Ye(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ye(e.getHours()%12||12,t.length)},H(e,t){return Ye(e.getHours(),t.length)},m(e,t){return Ye(e.getMinutes(),t.length)},s(e,t){return Ye(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return Ye(r,t.length)}},Yo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PN={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return xi.y(e,t)},Y:function(e,t,n,s){const r=h4(e,s),i=r>0?r:1-r;if(t==="YY"){const a=i%100;return Ye(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ye(i,t.length)},R:function(e,t){const n=a4(e);return Ye(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ye(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Ye(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Ye(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return xi.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Ye(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const r=f4(e,s);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):Ye(r,t.length)},I:function(e,t,n){const s=d4(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Ye(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):xi.d(e,t)},D:function(e,t,n){const s=PB(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ye(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const r=e.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ye(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const r=e.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ye(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),r=s===0?7:s;switch(t){case"i":return String(r);case"ii":return Ye(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let r;switch(s===12?r=Yo.noon:s===0?r=Yo.midnight:r=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let r;switch(s>=17?r=Yo.evening:s>=12?r=Yo.afternoon:s>=4?r=Yo.morning:r=Yo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return xi.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):xi.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ye(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ye(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):xi.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):xi.s(e,t)},S:function(e,t){return xi.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return TN(s);case"XXXX":case"XX":return Ea(s);case"XXXXX":case"XXX":default:return Ea(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return TN(s);case"xxxx":case"xx":return Ea(s);case"xxxxx":case"xxx":default:return Ea(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kN(s,":");case"OOOO":default:return"GMT"+Ea(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kN(s,":");case"zzzz":default:return"GMT"+Ea(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return Ye(s,t.length)},T:function(e,t,n){const s=e.getTime();return Ye(s,t.length)}};function kN(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),r=Math.trunc(s/60),i=s%60;return i===0?n+String(r):n+String(r)+t+Ye(i,2)}function TN(e,t){return e%60===0?(e>0?"-":"+")+Ye(Math.abs(e)/60,2):Ea(e,t)}function Ea(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),r=Ye(Math.trunc(s/60),2),i=Ye(s%60,2);return n+r+t+i}const EN=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},p4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},TB=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return EN(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",EN(s,t)).replace("{{time}}",p4(r,t))},EB={p:p4,P:TB},AB=/^D+$/,MB=/^Y+$/,RB=["D","DD","YY","YYYY"];function DB(e){return AB.test(e)}function FB(e){return MB.test(e)}function OB(e,t,n){const s=IB(e,t,n);if(console.warn(s),RB.includes(e))throw new RangeError(s)}function IB(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const LB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$B=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UB=/^'([^]*?)'?$/,BB=/''/g,VB=/[a-zA-Z]/;function Je(e,t,n){var d,h,f,p,x,g,b,v;const s=Dh(),r=(n==null?void 0:n.locale)??s.locale??u4,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((g=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((v=(b=s.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??0,l=De(e);if(!q7(l))throw new RangeError("Invalid time value");let c=t.match($B).map(y=>{const w=y[0];if(w==="p"||w==="P"){const j=EB[w];return j(y,r.formatLong)}return y}).join("").match(LB).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:zB(y)};if(PN[w])return{isToken:!0,value:y};if(w.match(VB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});r.localize.preprocessor&&(c=r.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:r};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&FB(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&DB(w))&&OB(w,t,String(e));const j=PN[w[0]];return j(l,w,r.localize,u)}).join("")}function zB(e){const t=e.match(UB);return t?t[1].replace(BB,"'"):e}function WB(e){const t=De(e),n=t.getFullYear(),s=t.getMonth(),r=Ln(e,0);return r.setFullYear(n,s+1,0),r.setHours(0,0,0,0),r.getDate()}function HB(e){return Math.trunc(+De(e)/1e3)}function qB(e){const t=De(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function KB(e,t){return K7(qB(e),On(e),t)+1}function r0(e,t){const n=De(e),s=De(t);return n.getTime()>s.getTime()}function m4(e,t){const n=De(e),s=De(t);return+n<+s}function L1(e,t){const n=De(e),s=De(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function GB(e,t){const n=De(e),s=De(t);return n.getFullYear()===s.getFullYear()}function Fa(e){return Yt(e,o4(e))}function AN(e){return Yt(e,Gt(o4(e),1))}function Vy(e,t){return Gt(e,-t)}function zy(e,t){const n=De(e),s=n.getFullYear(),r=n.getDate(),i=Ln(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const a=WB(i);return n.setMonth(t,Math.min(r,a)),n}function MN(e,t){const n=De(e);return isNaN(+n)?Ln(e,NaN):(n.setFullYear(t),n)}function YB(e,t){return Nd(e,-t)}var we=function(){return we=Object.assign||function(t){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},we.apply(this,arguments)};function QB(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}function g4(e,t,n){for(var s=0,r=t.length,i;s<r;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function Fh(e){return e.mode==="multiple"}function Oh(e){return e.mode==="range"}function Rg(e){return e.mode==="single"}var ZB={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function XB(e,t){return Je(e,"LLLL y",t)}function JB(e,t){return Je(e,"d",t)}function e9(e,t){return Je(e,"LLLL",t)}function t9(e){return"".concat(e)}function n9(e,t){return Je(e,"cccccc",t)}function s9(e,t){return Je(e,"yyyy",t)}var r9=Object.freeze({__proto__:null,formatCaption:XB,formatDay:JB,formatMonthCaption:e9,formatWeekNumber:t9,formatWeekdayName:n9,formatYearCaption:s9}),i9=function(e,t,n){return Je(e,"do MMMM (EEEE)",n)},a9=function(){return"Month: "},o9=function(){return"Go to next month"},l9=function(){return"Go to previous month"},c9=function(e,t){return Je(e,"cccc",t)},u9=function(e){return"Week n. ".concat(e)},d9=function(){return"Year: "},h9=Object.freeze({__proto__:null,labelDay:i9,labelMonthDropdown:a9,labelNext:o9,labelPrevious:l9,labelWeekNumber:u9,labelWeekday:c9,labelYearDropdown:d9});function f9(){var e="buttons",t=ZB,n=u4,s={},r={},i=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:r9,labels:h9,locale:n,modifiersClassNames:s,modifiers:r,numberOfMonths:i,styles:a,today:l,mode:"default"}}function p9(e){var t=e.fromYear,n=e.toYear,s=e.fromMonth,r=e.toMonth,i=e.fromDate,a=e.toDate;return s?i=On(s):t&&(i=new Date(t,0,1)),r?a=I1(r):n&&(a=new Date(n,11,31)),{fromDate:i?Sc(i):void 0,toDate:a?Sc(a):void 0}}var y4=m.createContext(void 0);function m9(e){var t,n=e.initialProps,s=f9(),r=p9(n),i=r.fromDate,a=r.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var c;(Rg(n)||Fh(n)||Oh(n))&&(c=n.onSelect);var u=we(we(we({},s),n),{captionLayout:l,classNames:we(we({},s.classNames),n.classNames),components:we({},n.components),formatters:we(we({},s.formatters),n.formatters),fromDate:i,labels:we(we({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:we(we({},s.modifiers),n.modifiers),modifiersClassNames:we(we({},s.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:we(we({},s.styles),n.styles),toDate:a});return o.jsx(y4.Provider,{value:u,children:e.children})}function tt(){var e=m.useContext(y4);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function v4(e){var t=tt(),n=t.locale,s=t.classNames,r=t.styles,i=t.formatters.formatCaption;return o.jsx("div",{className:s.caption_label,style:r.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function g9(e){return o.jsx("svg",we({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function x4(e){var t,n,s=e.onChange,r=e.value,i=e.children,a=e.caption,l=e.className,c=e.style,u=tt(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:g9;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:r,onChange:s,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function y9(e){var t,n=tt(),s=n.fromDate,r=n.toDate,i=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!s)return o.jsx(o.Fragment,{});if(!r)return o.jsx(o.Fragment,{});var h=[];if(GB(s,r))for(var f=On(s),p=s.getMonth();p<=r.getMonth();p++)h.push(zy(f,p));else for(var f=On(new Date),p=0;p<=11;p++)h.push(zy(f,p));var x=function(b){var v=Number(b.target.value),y=zy(On(e.displayMonth),v);e.onChange(y)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:x4;return o.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:h.map(function(b){return o.jsx("option",{value:b.getMonth(),children:l(b,{locale:a})},b.getMonth())})})}function v9(e){var t,n=e.displayMonth,s=tt(),r=s.fromDate,i=s.toDate,a=s.locale,l=s.styles,c=s.classNames,u=s.components,d=s.formatters.formatYearCaption,h=s.labels.labelYearDropdown,f=[];if(!r)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var p=r.getFullYear(),x=i.getFullYear(),g=p;g<=x;g++)f.push(MN(l4(new Date),g));var b=function(y){var w=MN(On(n),Number(y.target.value));e.onChange(w)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:x4;return o.jsx(v,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:n.getFullYear(),caption:d(n,{locale:a}),children:f.map(function(y){return o.jsx("option",{value:y.getFullYear(),children:d(y,{locale:a})},y.getFullYear())})})}function x9(e,t){var n=m.useState(e),s=n[0],r=n[1],i=t===void 0?s:t;return[i,r]}function w9(e){var t=e.month,n=e.defaultMonth,s=e.today,r=t||n||s||new Date,i=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Cd(i,r)<0){var u=-1*(c-1);r=Qs(i,u)}return a&&Cd(r,a)<0&&(r=a),On(r)}function b9(){var e=tt(),t=w9(e),n=x9(t,e.month),s=n[0],r=n[1],i=function(a){var l;if(!e.disableNavigation){var c=On(a);r(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function j9(e,t){for(var n=t.reverseMonths,s=t.numberOfMonths,r=On(e),i=On(Qs(r,s)),a=Cd(i,r),l=[],c=0;c<a;c++){var u=Qs(r,c);l.push(u)}return n&&(l=l.reverse()),l}function S9(e,t){if(!t.disableNavigation){var n=t.toDate,s=t.pagedNavigation,r=t.numberOfMonths,i=r===void 0?1:r,a=s?i:1,l=On(e);if(!n)return Qs(l,a);var c=Cd(n,e);if(!(c<i))return Qs(l,a)}}function N9(e,t){if(!t.disableNavigation){var n=t.fromDate,s=t.pagedNavigation,r=t.numberOfMonths,i=r===void 0?1:r,a=s?i:1,l=On(e);if(!n)return Qs(l,-a);var c=Cd(l,n);if(!(c<=0))return Qs(l,-a)}}var w4=m.createContext(void 0);function C9(e){var t=tt(),n=b9(),s=n[0],r=n[1],i=j9(s,t),a=S9(s,t),l=N9(s,t),c=function(h){return i.some(function(f){return L1(h,f)})},u=function(h,f){c(h)||(f&&m4(h,f)?r(Qs(h,1+t.numberOfMonths*-1)):r(h))},d={currentMonth:s,displayMonths:i,goToMonth:r,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(w4.Provider,{value:d,children:e.children})}function Ih(){var e=m.useContext(w4);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function RN(e){var t,n=tt(),s=n.classNames,r=n.styles,i=n.components,a=Ih().goToMonth,l=function(d){a(Qs(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:v4,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:s.caption_dropdowns,style:r.caption_dropdowns,children:[o.jsx("div",{className:s.vhidden,children:u}),o.jsx(y9,{onChange:l,displayMonth:e.displayMonth}),o.jsx(v9,{onChange:l,displayMonth:e.displayMonth})]})}function _9(e){return o.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function P9(e){return o.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var am=m.forwardRef(function(e,t){var n=tt(),s=n.classNames,r=n.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var a=i.join(" "),l=we(we({},r.button_reset),r.button);return e.style&&Object.assign(l,e.style),o.jsx("button",we({},e,{ref:t,type:"button",className:a,style:l}))});function k9(e){var t,n,s=tt(),r=s.dir,i=s.locale,a=s.classNames,l=s.styles,c=s.labels,u=c.labelPrevious,d=c.labelNext,h=s.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var f=u(e.previousMonth,{locale:i}),p=[a.nav_button,a.nav_button_previous].join(" "),x=d(e.nextMonth,{locale:i}),g=[a.nav_button,a.nav_button_next].join(" "),b=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:P9,v=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:_9;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(am,{name:"previous-month","aria-label":f,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:r==="rtl"?o.jsx(b,{className:a.nav_icon,style:l.nav_icon}):o.jsx(v,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(am,{name:"next-month","aria-label":x,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:r==="rtl"?o.jsx(v,{className:a.nav_icon,style:l.nav_icon}):o.jsx(b,{className:a.nav_icon,style:l.nav_icon})})]})}function DN(e){var t=tt().numberOfMonths,n=Ih(),s=n.previousMonth,r=n.nextMonth,i=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(x){return L1(e.displayMonth,x)}),c=l===0,u=l===a.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),f=function(){s&&i(s)},p=function(){r&&i(r)};return o.jsx(k9,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:r,previousMonth:s,onPreviousClick:f,onNextClick:p})}function T9(e){var t,n=tt(),s=n.classNames,r=n.disableNavigation,i=n.styles,a=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:v4,u;return r?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?u=o.jsx(RN,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(RN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(DN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(DN,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:s.caption,style:i.caption,children:u})}function E9(e){var t=tt(),n=t.footer,s=t.styles,r=t.classNames.tfoot;return n?o.jsx("tfoot",{className:r,style:s.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function A9(e,t,n){for(var s=n?_o(new Date):Zs(new Date,{locale:e,weekStartsOn:t}),r=[],i=0;i<7;i++){var a=Gt(s,i);r.push(a)}return r}function M9(){var e=tt(),t=e.classNames,n=e.styles,s=e.showWeekNumber,r=e.locale,i=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=A9(r,i,a);return o.jsxs("tr",{style:n.head_row,className:t.head_row,children:[s&&o.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return o.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:r}),children:l(d,{locale:r})},h)})]})}function R9(){var e,t=tt(),n=t.classNames,s=t.styles,r=t.components,i=(e=r==null?void 0:r.HeadRow)!==null&&e!==void 0?e:M9;return o.jsx("thead",{style:s.head,className:n.head,children:o.jsx(i,{})})}function D9(e){var t=tt(),n=t.locale,s=t.formatters.formatDay;return o.jsx(o.Fragment,{children:s(e.date,{locale:n})})}var $1=m.createContext(void 0);function F9(e){if(!Fh(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx($1.Provider,{value:t,children:e.children})}return o.jsx(O9,{initialProps:e.initialProps,children:e.children})}function O9(e){var t=e.initialProps,n=e.children,s=t.selected,r=t.min,i=t.max,a=function(u,d,h){var f,p;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,h);var x=!!(d.selected&&r&&(s==null?void 0:s.length)===r);if(!x){var g=!!(!d.selected&&i&&(s==null?void 0:s.length)===i);if(!g){var b=s?g4([],s):[];if(d.selected){var v=b.findIndex(function(y){return Yt(u,y)});b.splice(v,1)}else b.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,b,u,d,h)}}},l={disabled:[]};s&&l.disabled.push(function(u){var d=i&&s.length>i-1,h=s.some(function(f){return Yt(f,u)});return!!(d&&!h)});var c={selected:s,onDayClick:a,modifiers:l};return o.jsx($1.Provider,{value:c,children:n})}function U1(){var e=m.useContext($1);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function I9(e,t){var n=t||{},s=n.from,r=n.to;return s&&r?Yt(r,e)&&Yt(s,e)?void 0:Yt(r,e)?{from:r,to:void 0}:Yt(s,e)?void 0:r0(s,e)?{from:e,to:r}:{from:s,to:e}:r?r0(e,r)?{from:r,to:e}:{from:e,to:r}:s?m4(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var B1=m.createContext(void 0);function L9(e){if(!Oh(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(B1.Provider,{value:t,children:e.children})}return o.jsx($9,{initialProps:e.initialProps,children:e.children})}function $9(e){var t=e.initialProps,n=e.children,s=t.selected,r=s||{},i=r.from,a=r.to,l=t.min,c=t.max,u=function(p,x,g){var b,v;(b=t.onDayClick)===null||b===void 0||b.call(t,p,x,g);var y=I9(p,s);(v=t.onSelect)===null||v===void 0||v.call(t,y,p,x,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],Yt(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),l&&(i&&!a&&d.disabled.push({after:Vy(i,l-1),before:Gt(i,l-1)}),i&&a&&d.disabled.push({after:i,before:Gt(i,l-1)}),!i&&a&&d.disabled.push({after:Vy(a,l-1),before:Gt(a,l-1)})),c){if(i&&!a&&(d.disabled.push({before:Gt(i,-c+1)}),d.disabled.push({after:Gt(i,c-1)})),i&&a){var h=yr(a,i)+1,f=c-h;d.disabled.push({before:Vy(i,f)}),d.disabled.push({after:Gt(a,f)})}!i&&a&&(d.disabled.push({before:Gt(a,-c+1)}),d.disabled.push({after:Gt(a,c-1)}))}return o.jsx(B1.Provider,{value:{selected:s,onDayClick:u,modifiers:d},children:n})}function V1(){var e=m.useContext(B1);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function cp(e){return Array.isArray(e)?g4([],e):e!==void 0?[e]:[]}function U9(e){var t={};return Object.entries(e).forEach(function(n){var s=n[0],r=n[1];t[s]=cp(r)}),t}var Xs;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Xs||(Xs={}));var B9=Xs.Selected,Dr=Xs.Disabled,V9=Xs.Hidden,z9=Xs.Today,Wy=Xs.RangeEnd,Hy=Xs.RangeMiddle,qy=Xs.RangeStart,W9=Xs.Outside;function H9(e,t,n){var s,r=(s={},s[B9]=cp(e.selected),s[Dr]=cp(e.disabled),s[V9]=cp(e.hidden),s[z9]=[e.today],s[Wy]=[],s[Hy]=[],s[qy]=[],s[W9]=[],s);return e.fromDate&&r[Dr].push({before:e.fromDate}),e.toDate&&r[Dr].push({after:e.toDate}),Fh(e)?r[Dr]=r[Dr].concat(t.modifiers[Dr]):Oh(e)&&(r[Dr]=r[Dr].concat(n.modifiers[Dr]),r[qy]=n.modifiers[qy],r[Hy]=n.modifiers[Hy],r[Wy]=n.modifiers[Wy]),r}var b4=m.createContext(void 0);function q9(e){var t=tt(),n=U1(),s=V1(),r=H9(t,n,s),i=U9(t.modifiers),a=we(we({},r),i);return o.jsx(b4.Provider,{value:a,children:e.children})}function j4(){var e=m.useContext(b4);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function K9(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function G9(e){return!!(e&&typeof e=="object"&&"from"in e)}function Y9(e){return!!(e&&typeof e=="object"&&"after"in e)}function Q9(e){return!!(e&&typeof e=="object"&&"before"in e)}function Z9(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function X9(e,t){var n,s=t.from,r=t.to;if(s&&r){var i=yr(r,s)<0;i&&(n=[r,s],s=n[0],r=n[1]);var a=yr(e,s)>=0&&yr(r,e)>=0;return a}return r?Yt(r,e):s?Yt(s,e):!1}function J9(e){return O1(e)}function eV(e){return Array.isArray(e)&&e.every(O1)}function tV(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(J9(n))return Yt(e,n);if(eV(n))return n.includes(e);if(G9(n))return X9(e,n);if(Z9(n))return n.dayOfWeek.includes(e.getDay());if(K9(n)){var s=yr(n.before,e),r=yr(n.after,e),i=s>0,a=r<0,l=r0(n.before,n.after);return l?a&&i:i||a}return Y9(n)?yr(e,n.after)>0:Q9(n)?yr(n.before,e)>0:typeof n=="function"?n(e):!1})}function z1(e,t,n){var s=Object.keys(t).reduce(function(i,a){var l=t[a];return tV(e,l)&&i.push(a),i},[]),r={};return s.forEach(function(i){return r[i]=!0}),n&&!L1(e,n)&&(r.outside=!0),r}function nV(e,t){for(var n=On(e[0]),s=I1(e[e.length-1]),r,i,a=n;a<=s;){var l=z1(a,t),c=!l.disabled&&!l.hidden;if(!c){a=Gt(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),r||(r=a),a=Gt(a,1)}return i||r}var sV=365;function S4(e,t){var n=t.moveBy,s=t.direction,r=t.context,i=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=r.weekStartsOn,u=r.fromDate,d=r.toDate,h=r.locale,f={day:Gt,week:Nd,month:Qs,year:z7,startOfWeek:function(b){return r.ISOWeek?_o(b):Zs(b,{locale:h,weekStartsOn:c})},endOfWeek:function(b){return r.ISOWeek?c4(b):Mg(b,{locale:h,weekStartsOn:c})}},p=f[n](e,s==="after"?1:-1);s==="before"&&u?p=W7([u,p]):s==="after"&&d&&(p=H7([d,p]));var x=!0;if(i){var g=z1(p,i);x=!g.disabled&&!g.hidden}return x?p:l.count>sV?l.lastFocused:S4(p,{moveBy:n,direction:s,context:r,modifiers:i,retry:we(we({},l),{count:l.count+1})})}var N4=m.createContext(void 0);function rV(e){var t=Ih(),n=j4(),s=m.useState(),r=s[0],i=s[1],a=m.useState(),l=a[0],c=a[1],u=nV(t.displayMonths,n),d=r??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(r),i(void 0)},f=function(b){i(b)},p=tt(),x=function(b,v){if(r){var y=S4(r,{moveBy:b,direction:v,context:p,modifiers:n});Yt(r,y)||(t.goToDate(y,r),f(y))}},g={focusedDay:r,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return o.jsx(N4.Provider,{value:g,children:e.children})}function W1(){var e=m.useContext(N4);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function iV(e,t){var n=j4(),s=z1(e,n,t);return s}var H1=m.createContext(void 0);function aV(e){if(!Rg(e.initialProps)){var t={selected:void 0};return o.jsx(H1.Provider,{value:t,children:e.children})}return o.jsx(oV,{initialProps:e.initialProps,children:e.children})}function oV(e){var t=e.initialProps,n=e.children,s=function(i,a,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,a,l),a.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,a,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,a,l)},r={selected:t.selected,onDayClick:s};return o.jsx(H1.Provider,{value:r,children:n})}function C4(){var e=m.useContext(H1);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function lV(e,t){var n=tt(),s=C4(),r=U1(),i=V1(),a=W1(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,h=a.blur,f=a.focus,p=a.focusMonthBefore,x=a.focusMonthAfter,g=a.focusYearBefore,b=a.focusYearAfter,v=a.focusStartOfWeek,y=a.focusEndOfWeek,w=function(I){var _,B,Q,se;Rg(n)?(_=s.onDayClick)===null||_===void 0||_.call(s,e,t,I):Fh(n)?(B=r.onDayClick)===null||B===void 0||B.call(r,e,t,I):Oh(n)?(Q=i.onDayClick)===null||Q===void 0||Q.call(i,e,t,I):(se=n.onDayClick)===null||se===void 0||se.call(n,e,t,I)},j=function(I){var _;f(e),(_=n.onDayFocus)===null||_===void 0||_.call(n,e,t,I)},N=function(I){var _;h(),(_=n.onDayBlur)===null||_===void 0||_.call(n,e,t,I)},k=function(I){var _;(_=n.onDayMouseEnter)===null||_===void 0||_.call(n,e,t,I)},C=function(I){var _;(_=n.onDayMouseLeave)===null||_===void 0||_.call(n,e,t,I)},T=function(I){var _;(_=n.onDayPointerEnter)===null||_===void 0||_.call(n,e,t,I)},M=function(I){var _;(_=n.onDayPointerLeave)===null||_===void 0||_.call(n,e,t,I)},E=function(I){var _;(_=n.onDayTouchCancel)===null||_===void 0||_.call(n,e,t,I)},O=function(I){var _;(_=n.onDayTouchEnd)===null||_===void 0||_.call(n,e,t,I)},D=function(I){var _;(_=n.onDayTouchMove)===null||_===void 0||_.call(n,e,t,I)},q=function(I){var _;(_=n.onDayTouchStart)===null||_===void 0||_.call(n,e,t,I)},W=function(I){var _;(_=n.onDayKeyUp)===null||_===void 0||_.call(n,e,t,I)},R=function(I){var _;switch(I.key){case"ArrowLeft":I.preventDefault(),I.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":I.preventDefault(),I.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":I.preventDefault(),I.stopPropagation(),u();break;case"ArrowUp":I.preventDefault(),I.stopPropagation(),d();break;case"PageUp":I.preventDefault(),I.stopPropagation(),I.shiftKey?g():p();break;case"PageDown":I.preventDefault(),I.stopPropagation(),I.shiftKey?b():x();break;case"Home":I.preventDefault(),I.stopPropagation(),v();break;case"End":I.preventDefault(),I.stopPropagation(),y();break}(_=n.onDayKeyDown)===null||_===void 0||_.call(n,e,t,I)},K={onClick:w,onFocus:j,onBlur:N,onKeyDown:R,onKeyUp:W,onMouseEnter:k,onMouseLeave:C,onPointerEnter:T,onPointerLeave:M,onTouchCancel:E,onTouchEnd:O,onTouchMove:D,onTouchStart:q};return K}function cV(){var e=tt(),t=C4(),n=U1(),s=V1(),r=Rg(e)?t.selected:Fh(e)?n.selected:Oh(e)?s.selected:void 0;return r}function uV(e){return Object.values(Xs).includes(e)}function dV(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(s){var r=e.modifiersClassNames[s];if(r)n.push(r);else if(uV(s)){var i=e.classNames["day_".concat(s)];i&&n.push(i)}}),n}function hV(e,t){var n=we({},e.styles.day);return Object.keys(t).forEach(function(s){var r;n=we(we({},n),(r=e.modifiersStyles)===null||r===void 0?void 0:r[s])}),n}function fV(e,t,n){var s,r,i,a=tt(),l=W1(),c=iV(e,t),u=lV(e,c),d=cV(),h=!!(a.onDayClick||a.mode!=="default");m.useEffect(function(){var k;c.outside||l.focusedDay&&h&&Yt(l.focusedDay,e)&&((k=n.current)===null||k===void 0||k.focus())},[l.focusedDay,e,n,h,c.outside]);var f=dV(a,c).join(" "),p=hV(a,c),x=!!(c.outside&&!a.showOutsideDays||c.hidden),g=(i=(r=a.components)===null||r===void 0?void 0:r.DayContent)!==null&&i!==void 0?i:D9,b=o.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),v={style:p,className:f,children:b,role:"gridcell"},y=l.focusTarget&&Yt(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Yt(l.focusedDay,e),j=we(we(we({},v),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=w||y?0:-1,s)),u),N={isButton:h,isHidden:x,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:v};return N}function pV(e){var t=m.useRef(null),n=fV(e.date,e.displayMonth,t);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(am,we({name:"day",ref:t},n.buttonProps)):o.jsx("div",we({},n.divProps))}function mV(e){var t=e.number,n=e.dates,s=tt(),r=s.onWeekNumberClick,i=s.styles,a=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,u=s.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!r)return o.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var h=c(Number(t),{locale:l}),f=function(p){r(t,n,p)};return o.jsx(am,{name:"week-number","aria-label":h,className:a.weeknumber,style:i.weeknumber,onClick:f,children:d})}function gV(e){var t,n,s=tt(),r=s.styles,i=s.classNames,a=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:pV,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:mV,d;return a&&(d=o.jsx("td",{className:i.cell,style:r.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:i.row,style:r.row,children:[d,e.dates.map(function(h){return o.jsx("td",{className:i.cell,style:r.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:h})},HB(h))})]})}function FN(e,t,n){for(var s=n!=null&&n.ISOWeek?c4(t):Mg(t,n),r=n!=null&&n.ISOWeek?_o(e):Zs(e,n),i=yr(s,r),a=[],l=0;l<=i;l++)a.push(Gt(r,l));var c=a.reduce(function(u,d){var h=n!=null&&n.ISOWeek?d4(d):f4(d,n),f=u.find(function(p){return p.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function yV(e,t){var n=FN(On(e),I1(e),t);if(t!=null&&t.useFixedWeeks){var s=KB(e,t);if(s<6){var r=n[n.length-1],i=r.dates[r.dates.length-1],a=Nd(i,6-s),l=FN(Nd(i,1),a,t);n.push.apply(n,l)}}return n}function vV(e){var t,n,s,r=tt(),i=r.locale,a=r.classNames,l=r.styles,c=r.hideHead,u=r.fixedWeeks,d=r.components,h=r.weekStartsOn,f=r.firstWeekContainsDate,p=r.ISOWeek,x=yV(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:R9,b=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:gV,v=(s=d==null?void 0:d.Footer)!==null&&s!==void 0?s:E9;return o.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(g,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:x.map(function(y){return o.jsx(b,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),o.jsx(v,{displayMonth:e.displayMonth})]})}function xV(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var wV=xV()?m.useLayoutEffect:m.useEffect,Ky=!1,bV=0;function ON(){return"react-day-picker-".concat(++bV)}function jV(e){var t,n=e??(Ky?ON():null),s=m.useState(n),r=s[0],i=s[1];return wV(function(){r===null&&i(ON())},[]),m.useEffect(function(){Ky===!1&&(Ky=!0)},[]),(t=e??r)!==null&&t!==void 0?t:void 0}function SV(e){var t,n,s=tt(),r=s.dir,i=s.classNames,a=s.styles,l=s.components,c=Ih().displayMonths,u=jV(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),d=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=a.month,p=e.displayIndex===0,x=e.displayIndex===c.length-1,g=!p&&!x;r==="rtl"&&(t=[p,x],x=t[0],p=t[1]),p&&(h.push(i.caption_start),f=we(we({},f),a.caption_start)),x&&(h.push(i.caption_end),f=we(we({},f),a.caption_end)),g&&(h.push(i.caption_between),f=we(we({},f),a.caption_between));var b=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:T9;return o.jsxs("div",{className:h.join(" "),style:f,children:[o.jsx(b,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(vV,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function NV(e){var t=tt(),n=t.classNames,s=t.styles;return o.jsx("div",{className:n.months,style:s.months,children:e.children})}function CV(e){var t,n,s=e.initialProps,r=tt(),i=W1(),a=Ih(),l=m.useState(!1),c=l[0],u=l[1];m.useEffect(function(){r.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[r.initialFocus,c,i.focus,i.focusTarget,i]);var d=[r.classNames.root,r.className];r.numberOfMonths>1&&d.push(r.classNames.multiple_months),r.showWeekNumber&&d.push(r.classNames.with_weeknumber);var h=we(we({},r.styles.root),r.style),f=Object.keys(s).filter(function(x){return x.startsWith("data-")}).reduce(function(x,g){var b;return we(we({},x),(b={},b[g]=s[g],b))},{}),p=(n=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:NV;return o.jsx("div",we({className:d.join(" "),style:h,dir:r.dir,id:r.id,nonce:s.nonce,title:s.title,lang:s.lang},f,{children:o.jsx(p,{children:a.displayMonths.map(function(x,g){return o.jsx(SV,{displayIndex:g,displayMonth:x},g)})})}))}function _V(e){var t=e.children,n=QB(e,["children"]);return o.jsx(m9,{initialProps:n,children:o.jsx(C9,{children:o.jsx(aV,{initialProps:n,children:o.jsx(F9,{initialProps:n,children:o.jsx(L9,{initialProps:n,children:o.jsx(q9,{children:o.jsx(rV,{children:t})})})})})})})}function PV(e){return o.jsx(_V,we({},e,{children:o.jsx(CV,{initialProps:e})}))}function _4({className:e,classNames:t,showOutsideDays:n=!0,...s}){return o.jsx(PV,{showOutsideDays:n,className:ue("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ue(Sd({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ue(Sd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:r,...i})=>o.jsx(rE,{className:ue("h-4 w-4",r),...i}),IconRight:({className:r,...i})=>o.jsx(yg,{className:ue("h-4 w-4",r),...i})},...s})}_4.displayName="Calendar";var q1="Popover",[P4,Bre]=es(q1,[Yc]),Lh=Yc(),[kV,Sa]=P4(q1),k4=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:a=!1}=e,l=Lh(t),c=m.useRef(null),[u,d]=m.useState(!1),[h=!1,f]=bo({prop:s,defaultProp:r,onChange:i});return o.jsx(UE,{...l,children:o.jsx(kV,{scope:t,contentId:ea(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:a,children:n})})};k4.displayName=q1;var T4="PopoverAnchor",TV=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=Sa(T4,n),i=Lh(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=r;return m.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(bg,{...i,...s,ref:t})});TV.displayName=T4;var E4="PopoverTrigger",A4=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=Sa(E4,n),i=Lh(n),a=Me(t,r.triggerRef),l=o.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":O4(r.open),...s,ref:a,onClick:fe(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?l:o.jsx(bg,{asChild:!0,...i,children:l})});A4.displayName=E4;var K1="PopoverPortal",[EV,AV]=P4(K1,{forceMount:void 0}),M4=e=>{const{__scopePopover:t,forceMount:n,children:s,container:r}=e,i=Sa(K1,t);return o.jsx(EV,{scope:t,forceMount:n,children:o.jsx($n,{present:n||i.open,children:o.jsx(Ph,{asChild:!0,container:r,children:s})})})};M4.displayName=K1;var Nc="PopoverContent",R4=m.forwardRef((e,t)=>{const n=AV(Nc,e.__scopePopover),{forceMount:s=n.forceMount,...r}=e,i=Sa(Nc,e.__scopePopover);return o.jsx($n,{present:s||i.open,children:i.modal?o.jsx(RV,{...r,ref:t}):o.jsx(DV,{...r,ref:t})})});R4.displayName=Nc;var MV=wo("PopoverContent.RemoveScroll"),RV=m.forwardRef((e,t)=>{const n=Sa(Nc,e.__scopePopover),s=m.useRef(null),r=Me(t,s),i=m.useRef(!1);return m.useEffect(()=>{const a=s.current;if(a)return A1(a)},[]),o.jsx(kg,{as:MV,allowPinchZoom:!0,children:o.jsx(D4,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:fe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),DV=m.forwardRef((e,t)=>{const n=Sa(Nc,e.__scopePopover),s=m.useRef(!1),r=m.useRef(!1);return o.jsx(D4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),D4=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=Sa(Nc,n),p=Lh(n);return E1(),o.jsx(_g,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:o.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:o.jsx(C1,{"data-state":O4(f.open),role:"dialog",id:f.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),F4="PopoverClose",FV=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=Sa(F4,n);return o.jsx(ge.button,{type:"button",...s,ref:t,onClick:fe(e.onClick,()=>r.onOpenChange(!1))})});FV.displayName=F4;var OV="PopoverArrow",IV=m.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=Lh(n);return o.jsx(_1,{...r,...s,ref:t})});IV.displayName=OV;function O4(e){return e?"open":"closed"}var LV=k4,$V=A4,UV=M4,I4=R4;const BV=LV,VV=$V,L4=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},r)=>o.jsx(UV,{children:o.jsx(I4,{ref:r,align:t,sideOffset:n,className:ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...s})}));L4.displayName=I4.displayName;var G1="Dialog",[$4,U4]=es(G1),[zV,nr]=$4(G1),B4=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:a=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=bo({prop:s,defaultProp:r,onChange:i});return o.jsx(zV,{scope:t,triggerRef:l,contentRef:c,contentId:ea(),titleId:ea(),descriptionId:ea(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};B4.displayName=G1;var V4="DialogTrigger",z4=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=nr(V4,n),i=Me(t,r.triggerRef);return o.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Z1(r.open),...s,ref:i,onClick:fe(e.onClick,r.onOpenToggle)})});z4.displayName=V4;var Y1="DialogPortal",[WV,W4]=$4(Y1,{forceMount:void 0}),H4=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:r}=e,i=nr(Y1,t);return o.jsx(WV,{scope:t,forceMount:n,children:m.Children.map(s,a=>o.jsx($n,{present:n||i.open,children:o.jsx(Ph,{asChild:!0,container:r,children:a})}))})};H4.displayName=Y1;var om="DialogOverlay",q4=m.forwardRef((e,t)=>{const n=W4(om,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,i=nr(om,e.__scopeDialog);return i.modal?o.jsx($n,{present:s||i.open,children:o.jsx(qV,{...r,ref:t})}):null});q4.displayName=om;var HV=wo("DialogOverlay.RemoveScroll"),qV=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=nr(om,n);return o.jsx(kg,{as:HV,allowPinchZoom:!0,shards:[r.contentRef],children:o.jsx(ge.div,{"data-state":Z1(r.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Po="DialogContent",K4=m.forwardRef((e,t)=>{const n=W4(Po,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,i=nr(Po,e.__scopeDialog);return o.jsx($n,{present:s||i.open,children:i.modal?o.jsx(KV,{...r,ref:t}):o.jsx(GV,{...r,ref:t})})});K4.displayName=Po;var KV=m.forwardRef((e,t)=>{const n=nr(Po,e.__scopeDialog),s=m.useRef(null),r=Me(t,n.contentRef,s);return m.useEffect(()=>{const i=s.current;if(i)return A1(i)},[]),o.jsx(G4,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:fe(e.onFocusOutside,i=>i.preventDefault())})}),GV=m.forwardRef((e,t)=>{const n=nr(Po,e.__scopeDialog),s=m.useRef(!1),r=m.useRef(!1);return o.jsx(G4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),G4=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...a}=e,l=nr(Po,n),c=m.useRef(null),u=Me(t,c);return E1(),o.jsxs(o.Fragment,{children:[o.jsx(_g,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:o.jsx(Wc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Z1(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(QV,{titleId:l.titleId}),o.jsx(XV,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Q1="DialogTitle",Y4=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=nr(Q1,n);return o.jsx(ge.h2,{id:r.titleId,...s,ref:t})});Y4.displayName=Q1;var Q4="DialogDescription",Z4=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=nr(Q4,n);return o.jsx(ge.p,{id:r.descriptionId,...s,ref:t})});Z4.displayName=Q4;var X4="DialogClose",J4=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=nr(X4,n);return o.jsx(ge.button,{type:"button",...s,ref:t,onClick:fe(e.onClick,()=>r.onOpenChange(!1))})});J4.displayName=X4;function Z1(e){return e?"open":"closed"}var eM="DialogTitleWarning",[YV,tM]=$L(eM,{contentName:Po,titleName:Q1,docsSlug:"dialog"}),QV=({titleId:e})=>{const t=tM(eM),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ZV="DialogDescriptionWarning",XV=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tM(ZV).contentName}}.`;return m.useEffect(()=>{var i;const r=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},nM=B4,sM=z4,rM=H4,X1=q4,J1=K4,eb=Y4,tb=Z4,nb=J4;const Xt=nM,sb=sM,JV=rM,iM=m.forwardRef(({className:e,...t},n)=>o.jsx(X1,{ref:n,className:ue("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));iM.displayName=X1.displayName;const zt=m.forwardRef(({className:e,children:t,...n},s)=>o.jsxs(JV,{children:[o.jsx(iM,{}),o.jsxs(J1,{ref:s,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(nb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(So,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zt.displayName=J1.displayName;const Sn=({className:e,...t})=>o.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Sn.displayName="DialogHeader";const aM=({className:e,...t})=>o.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});aM.displayName="DialogFooter";const Nn=m.forwardRef(({className:e,...t},n)=>o.jsx(eb,{ref:n,className:ue("text-lg font-semibold leading-none tracking-tight",e),...t}));Nn.displayName=eb.displayName;const Cc=m.forwardRef(({className:e,...t},n)=>o.jsx(tb,{ref:n,className:ue("text-sm text-muted-foreground",e),...t}));Cc.displayName=tb.displayName;function ez({onCustomerAdded:e}){const[t,n]=m.useState(!1),[s,r]=m.useState(""),[i,a]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(""),{toast:h}=at(),f=_t(),p=Ne({mutationFn:async g=>(await Ae("POST","/api/customers",g)).json(),onSuccess:g=>{f.invalidateQueries({queryKey:["/api/customers"]}),h({title:"تم إضافة العميل بنجاح",description:`تم إضافة ${g.name} إلى قائمة العملاء.`}),r(""),a(""),c(""),d(""),n(!1),e&&e({name:g.name,phone:g.phone,email:g.email,address:g.address})},onError:()=>{h({title:"خطأ في إضافة العميل",description:"حدثت مشكلة في إضافة العميل. يرجى المحاولة مرة أخرى.",variant:"destructive"})}}),x=g=>{if(g.preventDefault(),!s.trim()){h({title:"الاسم مطلوب",description:"يرجى إدخال اسم العميل.",variant:"destructive"});return}const b={name:s.trim(),phone:i.trim()||"",email:l.trim()||void 0,address:u.trim()||void 0};p.mutate(b)};return o.jsxs(Xt,{open:t,onOpenChange:n,children:[o.jsx(sb,{asChild:!0,children:o.jsxs(V,{variant:"outline",size:"sm","data-testid":"button-add-customer",className:"h-8 px-2",children:[o.jsx(Hc,{className:"h-4 w-4 mr-1"}),"إضافة عميل"]})}),o.jsxs(zt,{className:"sm:max-w-md",children:[o.jsxs(Sn,{children:[o.jsx(Nn,{"data-testid":"modal-add-customer-title",children:"إضافة عميل جديد"}),o.jsx(Cc,{children:"أدخل معلومات العميل الجديد"})]}),o.jsxs("form",{onSubmit:x,className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"customer-name",children:"اسم العميل *"}),o.jsx(Se,{id:"customer-name",value:s,onChange:g=>r(g.target.value),placeholder:"أدخل اسم العميل","data-testid":"input-customer-name-new",required:!0})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"customer-phone",children:"رقم الهاتف"}),o.jsx(Se,{id:"customer-phone",type:"tel",value:i,onChange:g=>a(g.target.value),placeholder:"مثال: +9647812345678","data-testid":"input-customer-phone-new"}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"يرجى إدخال رقم الهاتف مع مفتاح الدولة (مثال: +964 للعراق)"})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"customer-email",children:"البريد الإلكتروني"}),o.jsx(Se,{id:"customer-email",type:"email",value:l,onChange:g=>c(g.target.value),placeholder:"أدخل البريد الإلكتروني","data-testid":"input-customer-email-new"})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"customer-address",children:"العنوان"}),o.jsx(Qn,{id:"customer-address",value:u,onChange:g=>d(g.target.value),placeholder:"أدخل عنوان العميل",rows:2,"data-testid":"textarea-customer-address-new"})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel-customer",children:"إلغاء"}),o.jsx(V,{type:"submit",disabled:p.isPending,"data-testid":"button-save-customer",children:p.isPending?"جاري الإضافة...":"إضافة العميل"})]})]})]})]})}var rb="Collapsible",[tz,Vre]=es(rb),[nz,ib]=tz(rb),oM=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:r,disabled:i,onOpenChange:a,...l}=e,[c=!1,u]=bo({prop:s,defaultProp:r,onChange:a});return o.jsx(nz,{scope:n,disabled:i,contentId:ea(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:o.jsx(ge.div,{"data-state":ob(c),"data-disabled":i?"":void 0,...l,ref:t})})});oM.displayName=rb;var lM="CollapsibleTrigger",cM=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,r=ib(lM,n);return o.jsx(ge.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":ob(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:t,onClick:fe(e.onClick,r.onOpenToggle)})});cM.displayName=lM;var ab="CollapsibleContent",uM=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=ib(ab,e.__scopeCollapsible);return o.jsx($n,{present:n||r.open,children:({present:i})=>o.jsx(sz,{...s,ref:t,present:i})})});uM.displayName=ab;var sz=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:r,...i}=e,a=ib(ab,n),[l,c]=m.useState(s),u=m.useRef(null),d=Me(t,u),h=m.useRef(0),f=h.current,p=m.useRef(0),x=p.current,g=a.open||l,b=m.useRef(g),v=m.useRef(void 0);return m.useEffect(()=>{const y=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(y)},[]),Ct(()=>{const y=u.current;if(y){v.current=v.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();h.current=w.height,p.current=w.width,b.current||(y.style.transitionDuration=v.current.transitionDuration,y.style.animationName=v.current.animationName),c(s)}},[a.open,s]),o.jsx(ge.div,{"data-state":ob(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&r})});function ob(e){return e?"open":"closed"}var rz=oM;const IN=rz,LN=cM,$N=uM;function iz(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function Dg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const i0=e=>Array.isArray(e);function dM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function _d(e){return typeof e=="string"||Array.isArray(e)}function UN(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function lb(e,t,n,s){if(typeof t=="function"){const[r,i]=UN(s);t=t(n!==void 0?n:e.custom,r,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,i]=UN(s);t=t(n!==void 0?n:e.custom,r,i)}return t}function Fg(e,t,n){const s=e.getProps();return lb(s,t,n!==void 0?n:s.custom,e)}const cb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ub=["initial",...cb],$h=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vo=new Set($h),ei=e=>e*1e3,ti=e=>e/1e3,az={type:"spring",stiffness:500,damping:25,restSpeed:10},oz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),lz={type:"keyframes",duration:.8},cz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uz=(e,{keyframes:t})=>t.length>2?lz:Vo.has(e)?e.startsWith("scale")?oz(t[1]):az:cz;function db(e,t){return e?e[t]||e.default||e:void 0}const dz={skipAnimations:!1,useManualTiming:!1},hz=e=>e!==null;function Og(e,{repeat:t,repeatType:n="loop"},s){const r=e.filter(hz),i=t&&n!=="loop"&&t%2===1?0:r.length-1;return!i||s===void 0?r[i]:s}const dn=e=>e;let a0=dn;function fz(e){let t=new Set,n=new Set,s=!1,r=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const p=h&&s?t:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(a=u,s){r=!0;return}s=!0,[t,n]=[n,t],n.clear(),t.forEach(l),s=!1,r&&(r=!1,c.process(u))}};return c}const _f=["read","resolveKeyframes","update","preRender","render","postRender"],pz=40;function hM(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=_f.reduce((v,y)=>(v[y]=fz(i),v),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=a,p=()=>{const v=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(v-r.timestamp,pz),1),r.timestamp=v,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),f.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(p))},x=()=>{n=!0,s=!0,r.isProcessing||e(p)};return{schedule:_f.reduce((v,y)=>{const w=a[y];return v[y]=(j,N=!1,k=!1)=>(n||x(),w.schedule(j,N,k)),v},{}),cancel:v=>{for(let y=0;y<_f.length;y++)a[_f[y]].cancel(v)},state:r,steps:a}}const{schedule:Ze,cancel:ca,state:Kt,steps:Gy}=hM(typeof requestAnimationFrame<"u"?requestAnimationFrame:dn,!0),fM=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,mz=1e-7,gz=12;function yz(e,t,n,s,r){let i,a,l=0;do a=t+(n-t)/2,i=fM(a,s,r)-e,i>0?n=a:t=a;while(Math.abs(i)>mz&&++l<gz);return a}function Uh(e,t,n,s){if(e===t&&n===s)return dn;const r=i=>yz(i,0,1,e,n);return i=>i===0||i===1?i:fM(r(i),t,s)}const pM=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mM=e=>t=>1-e(1-t),gM=Uh(.33,1.53,.69,.99),hb=mM(gM),yM=pM(hb),vM=e=>(e*=2)<1?.5*hb(e):.5*(2-Math.pow(2,-10*(e-1))),fb=e=>1-Math.sin(Math.acos(e)),xM=mM(fb),wM=pM(fb),bM=e=>/^0[^.\s]+$/u.test(e);function vz(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||bM(e):!0}const jM=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),SM=e=>t=>typeof t=="string"&&t.startsWith(e),NM=SM("--"),xz=SM("var(--"),pb=e=>xz(e)?wz.test(e.split("/*")[0].trim()):!1,wz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jz(e){const t=bz.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}function CM(e,t,n=1){const[s,r]=jz(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const a=i.trim();return jM(a)?parseFloat(a):a}return pb(r)?CM(r,t,n+1):r}const ci=(e,t,n)=>n>t?t:n<e?e:n,Zc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pd={...Zc,transform:e=>ci(0,1,e)},Pf={...Zc,default:1},Bh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ji=Bh("deg"),Sr=Bh("%"),ye=Bh("px"),Sz=Bh("vh"),Nz=Bh("vw"),BN={...Sr,parse:e=>Sr.parse(e)/100,transform:e=>Sr.transform(e*100)},Cz=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),VN=e=>e===Zc||e===ye,zN=(e,t)=>parseFloat(e.split(", ")[t]),WN=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/u);if(r)return zN(r[1],t);{const i=s.match(/^matrix\((.+)\)$/u);return i?zN(i[1],e):0}},_z=new Set(["x","y","z"]),Pz=$h.filter(e=>!_z.has(e));function kz(e){const t=[];return Pz.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const _c={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:WN(4,13),y:WN(5,14)};_c.translateX=_c.x;_c.translateY=_c.y;const _M=e=>t=>t.test(e),Tz={test:e=>e==="auto",parse:e=>e},PM=[Zc,ye,Sr,ji,Nz,Sz,Tz],HN=e=>PM.find(_M(e)),uo=new Set;let o0=!1,l0=!1;function kM(){if(l0){const e=Array.from(uo).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const r=kz(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,a])=>{var l;(l=s.getValue(i))===null||l===void 0||l.set(a)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}l0=!1,o0=!1,uo.forEach(e=>e.complete()),uo.clear()}function TM(){uo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(l0=!0)})}function Ez(){TM(),kM()}class mb{constructor(t,n,s,r,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(uo.add(this),o0||(o0=!0,Ze.read(TM),Ze.resolveKeyframes(kM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:r}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const a=r==null?void 0:r.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const c=s.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),r&&a===void 0&&r.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),uo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,uo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const qu=e=>Math.round(e*1e5)/1e5,gb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Az(e){return e==null}const Mz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yb=(e,t)=>n=>!!(typeof n=="string"&&Mz.test(n)&&n.startsWith(e)||t&&!Az(n)&&Object.prototype.hasOwnProperty.call(n,t)),EM=(e,t,n)=>s=>{if(typeof s!="string")return s;const[r,i,a,l]=s.match(gb);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},Rz=e=>ci(0,255,e),Yy={...Zc,transform:e=>Math.round(Rz(e))},Ba={test:yb("rgb","red"),parse:EM("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Yy.transform(e)+", "+Yy.transform(t)+", "+Yy.transform(n)+", "+qu(Pd.transform(s))+")"};function Dz(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const c0={test:yb("#"),parse:Dz,transform:Ba.transform},fl={test:yb("hsl","hue"),parse:EM("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Sr.transform(qu(t))+", "+Sr.transform(qu(n))+", "+qu(Pd.transform(s))+")"},an={test:e=>Ba.test(e)||c0.test(e)||fl.test(e),parse:e=>Ba.test(e)?Ba.parse(e):fl.test(e)?fl.parse(e):c0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ba.transform(e):fl.transform(e)},Fz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Oz(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(gb))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Fz))===null||n===void 0?void 0:n.length)||0)>0}const AM="number",MM="color",Iz="var",Lz="var(",qN="${}",$z=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kd(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const l=t.replace($z,c=>(an.test(c)?(s.color.push(i),r.push(MM),n.push(an.parse(c))):c.startsWith(Lz)?(s.var.push(i),r.push(Iz),n.push(c)):(s.number.push(i),r.push(AM),n.push(parseFloat(c))),++i,qN)).split(qN);return{values:n,split:l,indexes:s,types:r}}function RM(e){return kd(e).values}function DM(e){const{split:t,types:n}=kd(e),s=t.length;return r=>{let i="";for(let a=0;a<s;a++)if(i+=t[a],r[a]!==void 0){const l=n[a];l===AM?i+=qu(r[a]):l===MM?i+=an.transform(r[a]):i+=r[a]}return i}}const Uz=e=>typeof e=="number"?0:e;function Bz(e){const t=RM(e);return DM(e)(t.map(Uz))}const ua={test:Oz,parse:RM,createTransformer:DM,getAnimatableNone:Bz},Vz=new Set(["brightness","contrast","saturate","opacity"]);function zz(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(gb)||[];if(!s)return e;const r=n.replace(s,"");let i=Vz.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+r+")"}const Wz=/\b([a-z-]*)\(.*?\)/gu,u0={...ua,getAnimatableNone:e=>{const t=e.match(Wz);return t?t.map(zz).join(" "):e}},Hz={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye},qz={rotate:ji,rotateX:ji,rotateY:ji,rotateZ:ji,scale:Pf,scaleX:Pf,scaleY:Pf,scaleZ:Pf,skew:ji,skewX:ji,skewY:ji,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:Pd,originX:BN,originY:BN,originZ:ye},KN={...Zc,transform:Math.round},vb={...Hz,...qz,zIndex:KN,size:ye,fillOpacity:Pd,strokeOpacity:Pd,numOctaves:KN},Kz={...vb,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:u0,WebkitFilter:u0},xb=e=>Kz[e];function FM(e,t){let n=xb(e);return n!==u0&&(n=ua),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Gz=new Set(["auto","none","0"]);function Yz(e,t,n){let s=0,r;for(;s<e.length&&!r;){const i=e[s];typeof i=="string"&&!Gz.has(i)&&kd(i).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=FM(n,r)}class OM extends mb{constructor(t,n,s,r,i){super(t,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),pb(u))){const d=CM(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Cz.has(s)||t.length!==2)return;const[r,i]=t,a=HN(r),l=HN(i);if(a!==l)if(VN(a)&&VN(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let r=0;r<t.length;r++)vz(t[r])&&s.push(r);s.length&&Yz(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_c[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var t;const{element:n,name:s,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const i=n.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=_c[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function wb(e){return typeof e=="function"}let up;function Qz(){up=void 0}const Nr={now:()=>(up===void 0&&Nr.set(Kt.isProcessing||dz.useManualTiming?Kt.timestamp:performance.now()),up),set:e=>{up=e,queueMicrotask(Qz)}},GN=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ua.test(e)||e==="0")&&!e.startsWith("url("));function Zz(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Xz(e,t,n,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=GN(r,t),l=GN(i,t);return!a||!l?!1:Zz(e)||(n==="spring"||wb(n))&&s}const Jz=40;class IM{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Nr.now(),this.options={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Jz?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Ez(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Nr.now(),this.hasAttemptedResolve=!0;const{name:s,type:r,velocity:i,delay:a,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Xz(t,s,r,i))if(a)this.options.duration=0;else{c==null||c(Og(t,this.options,n)),l==null||l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Pc=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},LM=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let i=0;i<r;i++)s+=e(Pc(0,r-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function $M(e,t){return t?e*(1e3/t):0}const eW=5;function UM(e,t,n){const s=Math.max(t-eW,0);return $M(n-e(s),t-s)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qy=.001;function tW({duration:e=mt.duration,bounce:t=mt.bounce,velocity:n=mt.velocity,mass:s=mt.mass}){let r,i,a=1-t;a=ci(mt.minDamping,mt.maxDamping,a),e=ci(mt.minDuration,mt.maxDuration,ti(e)),a<1?(r=u=>{const d=u*a,h=d*e,f=d-n,p=d0(u,a),x=Math.exp(-h);return Qy-f/p*x},i=u=>{const h=u*a*e,f=h*n+n,p=Math.pow(a,2)*Math.pow(u,2)*e,x=Math.exp(-h),g=d0(Math.pow(u,2),a);return(-r(u)+Qy>0?-1:1)*((f-p)*x)/g}):(r=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Qy+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=sW(r,i,l);if(e=ei(e),isNaN(c))return{stiffness:mt.stiffness,damping:mt.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:e}}}const nW=12;function sW(e,t,n){let s=n;for(let r=1;r<nW;r++)s=s-e(s)/t(s);return s}function d0(e,t){return e*Math.sqrt(1-t*t)}const h0=2e4;function BM(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<h0;)t+=n,s=e.next(t);return t>=h0?1/0:t}const rW=["duration","bounce"],iW=["stiffness","damping","mass"];function YN(e,t){return t.some(n=>e[n]!==void 0)}function aW(e){let t={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...e};if(!YN(e,iW)&&YN(e,rW))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*ci(.05,1,1-e.bounce)*Math.sqrt(r);t={...t,mass:mt.mass,stiffness:r,damping:i}}else{const n=tW(e);t={...t,...n,mass:mt.mass},t.isResolvedFromDuration=!0}return t}function VM(e=mt.visualDuration,t=mt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=aW({...n,velocity:-ti(n.velocity||0)}),x=f||0,g=u/(2*Math.sqrt(c*d)),b=a-i,v=ti(Math.sqrt(c/d)),y=Math.abs(b)<5;s||(s=y?mt.restSpeed.granular:mt.restSpeed.default),r||(r=y?mt.restDelta.granular:mt.restDelta.default);let w;if(g<1){const N=d0(v,g);w=k=>{const C=Math.exp(-g*v*k);return a-C*((x+g*v*b)/N*Math.sin(N*k)+b*Math.cos(N*k))}}else if(g===1)w=N=>a-Math.exp(-v*N)*(b+(x+v*b)*N);else{const N=v*Math.sqrt(g*g-1);w=k=>{const C=Math.exp(-g*v*k),T=Math.min(N*k,300);return a-C*((x+g*v*b)*Math.sinh(T)+N*b*Math.cosh(T))/N}}const j={calculatedDuration:p&&h||null,next:N=>{const k=w(N);if(p)l.done=N>=h;else{let C=0;g<1&&(C=N===0?ei(x):UM(w,N,k));const T=Math.abs(C)<=s,M=Math.abs(a-k)<=r;l.done=T&&M}return l.value=l.done?a:k,l},toString:()=>{const N=Math.min(BM(j),h0),k=LM(C=>j.next(N*C).value,N,30);return N+"ms "+k}};return j}function QN({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=T=>l!==void 0&&T<l||c!==void 0&&T>c,x=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let g=n*t;const b=h+g,v=a===void 0?b:a(b);v!==b&&(g=v-h);const y=T=>-g*Math.exp(-T/s),w=T=>v+y(T),j=T=>{const M=y(T),E=w(T);f.done=Math.abs(M)<=u,f.value=f.done?v:E};let N,k;const C=T=>{p(f.value)&&(N=T,k=VM({keyframes:[f.value,x(f.value)],velocity:UM(w,T,f.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:T=>{let M=!1;return!k&&N===void 0&&(M=!0,j(T),C(T)),N!==void 0&&T>=N?k.next(T-N):(!M&&j(T),f)}}}const oW=Uh(.42,0,1,1),lW=Uh(0,0,.58,1),zM=Uh(.42,0,.58,1),cW=e=>Array.isArray(e)&&typeof e[0]!="number",bb=e=>Array.isArray(e)&&typeof e[0]=="number",ZN={linear:dn,easeIn:oW,easeInOut:zM,easeOut:lW,circIn:fb,circInOut:wM,circOut:xM,backIn:hb,backInOut:yM,backOut:gM,anticipate:vM},XN=e=>{if(bb(e)){a0(e.length===4);const[t,n,s,r]=e;return Uh(t,n,s,r)}else if(typeof e=="string")return a0(ZN[e]!==void 0),ZN[e];return e},uW=(e,t)=>n=>t(e(n)),na=(...e)=>e.reduce(uW),ut=(e,t,n)=>e+(t-e)*n;function Zy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function dW({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,i=0,a=0;if(!t)r=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=Zy(c,l,e+1/3),i=Zy(c,l,e),a=Zy(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}function lm(e,t){return n=>n>0?t:e}const Xy=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},hW=[c0,Ba,fl],fW=e=>hW.find(t=>t.test(e));function JN(e){const t=fW(e);if(!t)return!1;let n=t.parse(e);return t===fl&&(n=dW(n)),n}const eC=(e,t)=>{const n=JN(e),s=JN(t);if(!n||!s)return lm(e,t);const r={...n};return i=>(r.red=Xy(n.red,s.red,i),r.green=Xy(n.green,s.green,i),r.blue=Xy(n.blue,s.blue,i),r.alpha=ut(n.alpha,s.alpha,i),Ba.transform(r))},f0=new Set(["none","hidden"]);function pW(e,t){return f0.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function mW(e,t){return n=>ut(e,t,n)}function jb(e){return typeof e=="number"?mW:typeof e=="string"?pb(e)?lm:an.test(e)?eC:vW:Array.isArray(e)?WM:typeof e=="object"?an.test(e)?eC:gW:lm}function WM(e,t){const n=[...e],s=n.length,r=e.map((i,a)=>jb(i)(i,t[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}}function gW(e,t){const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=jb(e[r])(e[r],t[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function yW(e,t){var n;const s=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],l=e.indexes[a][r[a]],c=(n=e.values[l])!==null&&n!==void 0?n:0;s[i]=c,r[a]++}return s}const vW=(e,t)=>{const n=ua.createTransformer(t),s=kd(e),r=kd(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?f0.has(e)&&!r.values.length||f0.has(t)&&!s.values.length?pW(e,t):na(WM(yW(s,r),r.values),n):lm(e,t)};function HM(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ut(e,t,n):jb(e)(e,t)}function xW(e,t,n){const s=[],r=n||HM,i=e.length-1;for(let a=0;a<i;a++){let l=r(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||dn:t;l=na(c,l)}s.push(l)}return s}function wW(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const i=e.length;if(a0(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=xW(t,s,r),l=a.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Pc(e[d],e[d+1],u);return a[d](h)};return n?u=>c(ci(e[0],e[i-1],u)):c}function bW(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=Pc(0,t,s);e.push(ut(n,1,r))}}function jW(e){const t=[0];return bW(t,e.length-1),t}function SW(e,t){return e.map(n=>n*t)}function NW(e,t){return e.map(()=>t||zM).splice(0,e.length-1)}function cm({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=cW(s)?s.map(XN):XN(s),i={done:!1,value:t[0]},a=SW(n&&n.length===t.length?n:jW(t),e),l=wW(a,t,{ease:Array.isArray(r)?r:NW(t,r)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const CW=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ze.update(t,!0),stop:()=>ca(t),now:()=>Kt.isProcessing?Kt.timestamp:Nr.now()}},_W={decay:QN,inertia:QN,tween:cm,keyframes:cm,spring:VM},PW=e=>e/100;class Sb extends IM{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,element:r,keyframes:i}=this.options,a=(r==null?void 0:r.KeyframeResolver)||mb,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,l,n,s,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=this.options,l=wb(n)?n:_W[n]||cm;let c,u;l!==cm&&typeof t[0]!="number"&&(c=na(PW,HM(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=BM(d));const{calculatedDuration:h}=d,f=h+r,p=f*(s+1)-r;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=s;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:x,repeatDelay:g,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,j=i;if(p){const T=Math.min(this.currentTime,d)/h;let M=Math.floor(T),E=T%1;!E&&T>=1&&(E=1),E===1&&M--,M=Math.min(M,p+1),!!(M%2)&&(x==="reverse"?(E=1-E,g&&(E-=g/h)):x==="mirror"&&(j=a)),w=ci(0,1,E)*h}const N=y?{done:!1,value:c[0]}:j.next(w);l&&(N.value=l(N.value));let{done:k}=N;!y&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return C&&r!==void 0&&(N.value=Og(c,this.options,r)),b&&b(N.value),C&&this.finish(),N}get duration(){const{resolved:t}=this;return t?ti(t.calculatedDuration):0}get time(){return ti(this.currentTime)}set time(t){t=ei(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ti(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=CW,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const kW=new Set(["opacity","clipPath","filter","transform"]);function Nb(e){let t;return()=>(t===void 0&&(t=e()),t)}const TW={linearEasing:void 0};function EW(e,t){const n=Nb(e);return()=>{var s;return(s=TW[t])!==null&&s!==void 0?s:n()}}const um=EW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function qM(e){return!!(typeof e=="function"&&um()||!e||typeof e=="string"&&(e in p0||um())||bb(e)||Array.isArray(e)&&e.every(qM))}const Nu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,p0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nu([0,.65,.55,1]),circOut:Nu([.55,0,1,.45]),backIn:Nu([.31,.01,.66,-.59]),backOut:Nu([.33,1.53,.69,.99])};function KM(e,t){if(e)return typeof e=="function"&&um()?LM(e,t):bb(e)?Nu(e):Array.isArray(e)?e.map(n=>KM(n,t)||p0.easeOut):p0[e]}function AW(e,t,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=KM(l,r);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:s,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function tC(e,t){e.timeline=t,e.onfinish=null}const MW=Nb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),dm=10,RW=2e4;function DW(e){return wb(e.type)||e.type==="spring"||!qM(e.ease)}function FW(e,t){const n=new Sb({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const r=[];let i=0;for(;!s.done&&i<RW;)s=n.sample(i),r.push(s.value),i+=dm;return{times:void 0,keyframes:r,duration:i-dm,ease:"linear"}}const GM={anticipate:vM,backInOut:yM,circInOut:wM};function OW(e){return e in GM}class nC extends IM{constructor(t){super(t);const{name:n,motionValue:s,element:r,keyframes:i}=this.options;this.resolver=new OM(i,(a,l)=>this.onKeyframesResolved(a,l),n,s,r),this.resolver.scheduleResolve()}initPlayback(t,n){var s;let{duration:r=300,times:i,ease:a,type:l,motionValue:c,name:u,startTime:d}=this.options;if(!(!((s=c.owner)===null||s===void 0)&&s.current))return!1;if(typeof a=="string"&&um()&&OW(a)&&(a=GM[a]),DW(this.options)){const{onComplete:f,onUpdate:p,motionValue:x,element:g,...b}=this.options,v=FW(t,b);t=v.keyframes,t.length===1&&(t[1]=t[0]),r=v.duration,i=v.times,a=v.ease,l="keyframes"}const h=AW(c.owner.current,u,t,{...this.options,duration:r,times:i,ease:a});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(tC(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;c.set(Og(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:l,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return ti(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return ti(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=ei(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return dn;const{animation:s}=n;tC(s,t)}return dn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:s,duration:r,type:i,ease:a,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,x=new Sb({...p,keyframes:s,duration:r,type:i,ease:a,times:l,isGenerator:!0}),g=ei(this.time);u.setWithVelocity(x.sample(g-dm).value,x.sample(g).value,dm)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:s,repeatDelay:r,repeatType:i,damping:a,type:l}=t;return MW()&&s&&kW.has(s)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}}const IW=Nb(()=>window.ScrollTimeline!==void 0);class LW{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t,n){const s=this.animations.map(r=>IW()&&r.attachTimeline?r.attachTimeline(t):n(r));return()=>{s.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function $W({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Cb=(e,t,n,s={},r,i)=>a=>{const l=db(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-ei(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:r};$W(l)||(d={...d,...uz(e,d)}),d.duration&&(d.duration=ei(d.duration)),d.repeatDelay&&(d.repeatDelay=ei(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Og(d.keyframes,l);if(f!==void 0)return Ze.update(()=>{d.onUpdate(f),d.onComplete()}),new LW([])}return!i&&nC.supports(d)?new nC(d):new Sb(d)},UW=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),BW=e=>i0(e)?e[e.length-1]||0:e;function _b(e,t){e.indexOf(t)===-1&&e.push(t)}function Pb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class kb{constructor(){this.subscriptions=[]}add(t){return _b(this.subscriptions,t),()=>Pb(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sC=30,VW=e=>!isNaN(parseFloat(e));class zW{constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const i=Nr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Nr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=VW(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new kb);const s=this.events[t].add(n);return t==="change"?()=>{s(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Nr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>sC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sC);return $M(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Td(e,t){return new zW(e,t)}function WW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Td(n))}function HW(e,t){const n=Fg(e,t);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const a in i){const l=BW(i[a]);WW(e,a,l)}}const Tb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qW="framerAppearId",YM="data-"+Tb(qW);function QM(e){return e.props[YM]}const cn=e=>!!(e&&e.getVelocity);function KW(e){return!!(cn(e)&&e.add)}function m0(e,t){const n=e.getValue("willChange");if(KW(n))return n.add(t)}function GW({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function ZM(e,t,{delay:n=0,transitionOverride:s,type:r}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:l,...c}=t;s&&(a=s);const u=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const h in c){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),p=c[h];if(p===void 0||d&&GW(d,h))continue;const x={delay:n,...db(a||{},h)};let g=!1;if(window.MotionHandoffAnimation){const v=QM(e);if(v){const y=window.MotionHandoffAnimation(v,h,Ze);y!==null&&(x.startTime=y,g=!0)}}m0(e,h),f.start(Cb(h,f,p,e.shouldReduceMotion&&Vo.has(h)?{type:!1}:x,e,g));const b=f.animation;b&&u.push(b)}return l&&Promise.all(u).then(()=>{Ze.update(()=>{l&&HW(e,l)})}),u}function g0(e,t,n={}){var s;const r=Fg(e,t,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(ZM(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return YW(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,l]:[l,a];return u().then(()=>d())}else return Promise.all([a(),l(n.delay)])}function YW(e,t,n=0,s=0,r=1,i){const a=[],l=(e.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(e.variantChildren).sort(QW).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(g0(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function QW(e,t){return e.sortNodePosition(t)}function ZW(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(i=>g0(e,i,n));s=Promise.all(r)}else if(typeof t=="string")s=g0(e,t,n);else{const r=typeof t=="function"?Fg(e,t,n.custom):t;s=Promise.all(ZM(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const XW=ub.length;function XM(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?XM(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<XW;n++){const s=ub[n],r=e.props[s];(_d(r)||r===!1)&&(t[s]=r)}return t}const JW=[...cb].reverse(),eH=cb.length;function tH(e){return t=>Promise.all(t.map(({animation:n,options:s})=>ZW(e,n,s)))}function nH(e){let t=tH(e),n=rC(),s=!0;const r=c=>(u,d)=>{var h;const f=Fg(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:x,...g}=f;u={...u,...g,...x}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=XM(e.parent)||{},h=[],f=new Set;let p={},x=1/0;for(let b=0;b<eH;b++){const v=JW[b],y=n[v],w=u[v]!==void 0?u[v]:d[v],j=_d(w),N=v===c?y.isActive:null;N===!1&&(x=b);let k=w===d[v]&&w!==u[v]&&j;if(k&&s&&e.manuallyAnimateOnMount&&(k=!1),y.protectedKeys={...p},!y.isActive&&N===null||!w&&!y.prevProp||Dg(w)||typeof w=="boolean")continue;const C=sH(y.prevProp,w);let T=C||v===c&&y.isActive&&!k&&j||b>x&&j,M=!1;const E=Array.isArray(w)?w:[w];let O=E.reduce(r(v),{});N===!1&&(O={});const{prevResolvedValues:D={}}=y,q={...D,...O},W=I=>{T=!0,f.has(I)&&(M=!0,f.delete(I)),y.needsAnimating[I]=!0;const _=e.getValue(I);_&&(_.liveStyle=!1)};for(const I in q){const _=O[I],B=D[I];if(p.hasOwnProperty(I))continue;let Q=!1;i0(_)&&i0(B)?Q=!dM(_,B):Q=_!==B,Q?_!=null?W(I):f.add(I):_!==void 0&&f.has(I)?W(I):y.protectedKeys[I]=!0}y.prevProp=w,y.prevResolvedValues=O,y.isActive&&(p={...p,...O}),s&&e.blockInitialAnimation&&(T=!1),T&&(!(k&&C)||M)&&h.push(...E.map(I=>({animation:I,options:{type:v}})))}if(f.size){const b={};f.forEach(v=>{const y=e.getBaseTarget(v),w=e.getValue(v);w&&(w.liveStyle=!0),b[v]=y??null}),h.push({animation:b})}let g=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),s=!1,g?t(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const h=a(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=rC(),s=!0}}}function sH(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dM(t,e):!1}function Pa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rC(){return{animate:Pa(!0),whileInView:Pa(),whileHover:Pa(),whileTap:Pa(),whileDrag:Pa(),whileFocus:Pa(),exit:Pa()}}class Na{constructor(t){this.isMounted=!1,this.node=t}update(){}}class rH extends Na{constructor(t){super(t),t.animationState||(t.animationState=nH(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Dg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let iH=0;class aH extends Na{constructor(){super(...arguments),this.id=iH++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const oH={animation:{Feature:rH},exit:{Feature:aH}};function lH(e,t,n){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let r=document;const i=(s=void 0)!==null&&s!==void 0?s:r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const bs={x:!1,y:!1};function JM(){return bs.x||bs.y}function iC(e){return t=>{t.pointerType==="touch"||JM()||e(t)}}function cH(e,t,n={}){const s=new AbortController,r={passive:!0,...n,signal:s.signal},i=iC(a=>{const{target:l}=a,c=t(a);if(!c||!l)return;const u=iC(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,r)});return lH(e).forEach(a=>{a.addEventListener("pointerenter",i,r)}),()=>s.abort()}function uH(e){return e==="x"||e==="y"?bs[e]?null:(bs[e]=!0,()=>{bs[e]=!1}):bs.x||bs.y?null:(bs.x=bs.y=!0,()=>{bs.x=bs.y=!1})}const eR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Vh(e){return{point:{x:e.pageX,y:e.pageY}}}const dH=e=>t=>eR(t)&&e(t,Vh(t));function Qr(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function sa(e,t,n,s){return Qr(e,t,dH(n),s)}const aC=(e,t)=>Math.abs(e-t);function hH(e,t){const n=aC(e.x,t.x),s=aC(e.y,t.y);return Math.sqrt(n**2+s**2)}class tR{constructor(t,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ev(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=hH(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:x}=h,{timestamp:g}=Kt;this.history.push({...x,timestamp:g});const{onStart:b,onMove:v}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Jy(f,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=ev(h.type==="pointercancel"?this.lastMoveEventInfo:Jy(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,b),x&&x(h,b)},!eR(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const a=Vh(t),l=Jy(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Kt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,ev(l,this.history)),this.removeListeners=na(sa(this.contextWindow,"pointermove",this.handlePointerMove),sa(this.contextWindow,"pointerup",this.handlePointerUp),sa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ca(this.updatePoint)}}function Jy(e,t){return t?{point:t(e.point)}:e}function oC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ev({point:e},t){return{point:e,delta:oC(e,nR(t)),offset:oC(e,fH(t)),velocity:pH(t,.1)}}function fH(e){return e[0]}function nR(e){return e[e.length-1]}function pH(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=nR(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>ei(t)));)n--;if(!s)return{x:0,y:0};const i=ti(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function pl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const sR=1e-4,mH=1-sR,gH=1+sR,rR=.01,yH=0-rR,vH=0+rR;function Zn(e){return e.max-e.min}function xH(e,t,n){return Math.abs(e-t)<=n}function lC(e,t,n,s=.5){e.origin=s,e.originPoint=ut(t.min,t.max,e.origin),e.scale=Zn(n)/Zn(t),e.translate=ut(n.min,n.max,e.origin)-e.originPoint,(e.scale>=mH&&e.scale<=gH||isNaN(e.scale))&&(e.scale=1),(e.translate>=yH&&e.translate<=vH||isNaN(e.translate))&&(e.translate=0)}function Ku(e,t,n,s){lC(e.x,t.x,n.x,s?s.originX:void 0),lC(e.y,t.y,n.y,s?s.originY:void 0)}function cC(e,t,n){e.min=n.min+t.min,e.max=e.min+Zn(t)}function wH(e,t,n){cC(e.x,t.x,n.x),cC(e.y,t.y,n.y)}function uC(e,t,n){e.min=t.min-n.min,e.max=e.min+Zn(t)}function Gu(e,t,n){uC(e.x,t.x,n.x),uC(e.y,t.y,n.y)}function bH(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ut(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ut(n,e,s.max):Math.min(e,n)),e}function dC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function jH(e,{top:t,left:n,bottom:s,right:r}){return{x:dC(e.x,n,r),y:dC(e.y,t,s)}}function hC(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function SH(e,t){return{x:hC(e.x,t.x),y:hC(e.y,t.y)}}function NH(e,t){let n=.5;const s=Zn(e),r=Zn(t);return r>s?n=Pc(t.min,t.max-s,e.min):s>r&&(n=Pc(e.min,e.max-r,t.min)),ci(0,1,n)}function CH(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const y0=.35;function _H(e=y0){return e===!1?e=0:e===!0&&(e=y0),{x:fC(e,"left","right"),y:fC(e,"top","bottom")}}function fC(e,t,n){return{min:pC(e,t),max:pC(e,n)}}function pC(e,t){return typeof e=="number"?e:e[t]||0}const mC=()=>({translate:0,scale:1,origin:0,originPoint:0}),ml=()=>({x:mC(),y:mC()}),gC=()=>({min:0,max:0}),yt=()=>({x:gC(),y:gC()});function ss(e){return[e("x"),e("y")]}function iR({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function PH({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function kH(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function tv(e){return e===void 0||e===1}function v0({scale:e,scaleX:t,scaleY:n}){return!tv(e)||!tv(t)||!tv(n)}function Aa(e){return v0(e)||aR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function aR(e){return yC(e.x)||yC(e.y)}function yC(e){return e&&e!=="0%"}function hm(e,t,n){const s=e-n,r=t*s;return n+r}function vC(e,t,n,s,r){return r!==void 0&&(e=hm(e,r,s)),hm(e,n,s)+t}function x0(e,t=0,n=1,s,r){e.min=vC(e.min,t,n,s,r),e.max=vC(e.max,t,n,s,r)}function oR(e,{x:t,y:n}){x0(e.x,t.translate,t.scale,t.originPoint),x0(e.y,n.translate,n.scale,n.originPoint)}const xC=.999999999999,wC=1.0000000000001;function TH(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let i,a;for(let l=0;l<r;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&yl(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,oR(e,a)),s&&Aa(i.latestValues)&&yl(e,i.latestValues))}t.x<wC&&t.x>xC&&(t.x=1),t.y<wC&&t.y>xC&&(t.y=1)}function gl(e,t){e.min=e.min+t,e.max=e.max+t}function bC(e,t,n,s,r=.5){const i=ut(e.min,e.max,r);x0(e,t,n,i,s)}function yl(e,t){bC(e.x,t.x,t.scaleX,t.scale,t.originX),bC(e.y,t.y,t.scaleY,t.scale,t.originY)}function lR(e,t){return iR(kH(e.getBoundingClientRect(),t))}function EH(e,t,n){const s=lR(e,n),{scroll:r}=t;return r&&(gl(s.x,r.offset.x),gl(s.y,r.offset.y)),s}const cR=({current:e})=>e?e.ownerDocument.defaultView:null,AH=new WeakMap;class MH{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vh(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:x}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uH(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(b=>{let v=this.getAxisMotionValue(b).get()||0;if(Sr.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[b];w&&(v=Zn(w)*(parseFloat(v)/100))}}this.originPoint[b]=v}),x&&Ze.postRender(()=>x(d,h)),m0(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:x,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(p&&this.currentDirection===null){this.currentDirection=RH(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),g&&g(d,h)},l=(d,h)=>this.stop(d,h),c=()=>ss(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new tR(t,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:cR(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Ze.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!kf(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(a=bH(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&pl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=jH(r.layoutBox,n):this.constraints=!1,this.elastic=_H(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ss(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=CH(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!pl(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=EH(s,r.root,this.visualElement.getTransformPagePoint());let a=SH(r.layout.layoutBox,i);if(n){const l=n(PH(a));this.hasMutatedConstraints=!!l,l&&(a=iR(l))}return a}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ss(d=>{if(!kf(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=r?200:1e6,p=r?40:1e7,x={type:"inertia",velocity:s?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return m0(this.visualElement,t),s.start(Cb(t,s,0,n,this.visualElement,!1))}stopAnimation(){ss(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ss(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ss(n=>{const{drag:s}=this.getProps();if(!kf(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[n];i.set(t[n]-ut(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!pl(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ss(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();r[a]=NH({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ss(a=>{if(!kf(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(ut(c,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;AH.set(this.visualElement,this);const t=this.visualElement.current,n=sa(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();pl(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Ze.read(s);const a=Qr(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ss(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=y0,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function kf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function RH(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class DH extends Na{constructor(t){super(t),this.removeGroupControls=dn,this.removeListeners=dn,this.controls=new MH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dn}unmount(){this.removeGroupControls(),this.removeListeners()}}const jC=e=>(t,n)=>{e&&Ze.postRender(()=>e(t,n))};class FH extends Na{constructor(){super(...arguments),this.removePointerDownListener=dn}onPointerDown(t){this.session=new tR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:jC(t),onStart:jC(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&Ze.postRender(()=>r(i,a))}}}mount(){this.removePointerDownListener=sa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Eb=m.createContext(null);function OH(){const e=m.useContext(Eb);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,r=m.useId();m.useEffect(()=>s(r),[]);const i=m.useCallback(()=>n&&n(r),[r,n]);return!t&&n?[!1,i]:[!0]}const uR=m.createContext({}),dR=m.createContext({}),dp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function SC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const du={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ye.test(e))e=parseFloat(e);else return e;const n=SC(e,t.target.x),s=SC(e,t.target.y);return`${n}% ${s}%`}},IH={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=ua.parse(e);if(r.length>5)return s;const i=ua.createTransformer(e),a=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+a]/=l,r[1+a]/=c;const u=ut(l,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),i(r)}},fm={};function LH(e){Object.assign(fm,e)}const{schedule:Ab,cancel:zre}=hM(queueMicrotask,!1);class $H extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=t;LH(UH),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),dp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,a=s.projection;return a&&(a.isPresent=i,r||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Ze.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ab.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hR(e){const[t,n]=OH(),s=m.useContext(uR);return o.jsx($H,{...e,layoutGroup:s,switchLayoutGroup:m.useContext(dR),isPresent:t,safeToRemove:n})}const UH={borderRadius:{...du,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:du,borderTopRightRadius:du,borderBottomLeftRadius:du,borderBottomRightRadius:du,boxShadow:IH},fR=["TopLeft","TopRight","BottomLeft","BottomRight"],BH=fR.length,NC=e=>typeof e=="string"?parseFloat(e):e,CC=e=>typeof e=="number"||ye.test(e);function VH(e,t,n,s,r,i){r?(e.opacity=ut(0,n.opacity!==void 0?n.opacity:1,zH(s)),e.opacityExit=ut(t.opacity!==void 0?t.opacity:1,0,WH(s))):i&&(e.opacity=ut(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let a=0;a<BH;a++){const l=`border${fR[a]}Radius`;let c=_C(t,l),u=_C(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||CC(c)===CC(u)?(e[l]=Math.max(ut(NC(c),NC(u),s),0),(Sr.test(u)||Sr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=ut(t.rotate||0,n.rotate||0,s))}function _C(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zH=pR(0,.5,xM),WH=pR(.5,.95,dn);function pR(e,t,n){return s=>s<e?0:s>t?1:n(Pc(e,t,s))}function PC(e,t){e.min=t.min,e.max=t.max}function ns(e,t){PC(e.x,t.x),PC(e.y,t.y)}function kC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function TC(e,t,n,s,r){return e-=t,e=hm(e,1/n,s),r!==void 0&&(e=hm(e,1/r,s)),e}function HH(e,t=0,n=1,s=.5,r,i=e,a=e){if(Sr.test(t)&&(t=parseFloat(t),t=ut(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=ut(i.min,i.max,s);e===i&&(l-=t),e.min=TC(e.min,t,n,l,r),e.max=TC(e.max,t,n,l,r)}function EC(e,t,[n,s,r],i,a){HH(e,t[n],t[s],t[r],t.scale,i,a)}const qH=["x","scaleX","originX"],KH=["y","scaleY","originY"];function AC(e,t,n,s){EC(e.x,t,qH,n?n.x:void 0,s?s.x:void 0),EC(e.y,t,KH,n?n.y:void 0,s?s.y:void 0)}function MC(e){return e.translate===0&&e.scale===1}function mR(e){return MC(e.x)&&MC(e.y)}function RC(e,t){return e.min===t.min&&e.max===t.max}function GH(e,t){return RC(e.x,t.x)&&RC(e.y,t.y)}function DC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function gR(e,t){return DC(e.x,t.x)&&DC(e.y,t.y)}function FC(e){return Zn(e.x)/Zn(e.y)}function OC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class YH{constructor(){this.members=[]}add(t){_b(this.members,t),t.scheduleRender()}remove(t){if(Pb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QH(e,t,n){let s="";const r=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((r||i||a)&&(s=`translate3d(${r}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:x}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),p&&(s+=`skewX(${p}deg) `),x&&(s+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const ZH=(e,t)=>e.depth-t.depth;class XH{constructor(){this.children=[],this.isDirty=!1}add(t){_b(this.children,t),this.isDirty=!0}remove(t){Pb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ZH),this.isDirty=!1,this.children.forEach(t)}}function hp(e){const t=cn(e)?e.get():e;return UW(t)?t.toValue():t}function JH(e,t){const n=Nr.now(),s=({timestamp:r})=>{const i=r-n;i>=t&&(ca(s),e(i-t))};return Ze.read(s,!0),()=>ca(s)}function eq(e){return e instanceof SVGElement&&e.tagName!=="svg"}function tq(e,t,n){const s=cn(e)?e:Td(e);return s.start(Cb("",s,t,n)),s.animation}const Ma={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Cu=typeof window<"u"&&window.MotionDebug!==void 0,nv=["","X","Y","Z"],nq={visibility:"hidden"},IC=1e3;let sq=0;function sv(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function yR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=QM(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(r||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&yR(s)}function vR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},l=t==null?void 0:t()){this.id=sq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cu&&(Ma.totalNodes=Ma.resolvedTargetDeltas=Ma.recalculatedProjection=0),this.nodes.forEach(aq),this.nodes.forEach(dq),this.nodes.forEach(hq),this.nodes.forEach(oq),Cu&&window.MotionDebug.record(Ma)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new XH)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new kb),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=eq(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=JH(f,250),dp.hasAnimatedSinceResize&&(dp.hasAnimatedSinceResize=!1,this.nodes.forEach($C))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||yq,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=d.getProps(),y=!this.targetLayout||!gR(this.targetLayout,x)||p,w=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const j={...db(g,"layout"),onPlay:b,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||$C(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ca(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fq),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LC);return}this.isUpdating||this.nodes.forEach(cq),this.isUpdating=!1,this.nodes.forEach(uq),this.nodes.forEach(rq),this.nodes.forEach(iq),this.clearAllSnapshots();const l=Nr.now();Kt.delta=ci(0,1e3/60,l-Kt.timestamp),Kt.timestamp=l,Kt.isProcessing=!0,Gy.update.process(Kt),Gy.preRender.process(Kt),Gy.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ab.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lq),this.sharedNodes.forEach(pq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!mR(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Aa(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),vq(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return yt();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(xq))){const{scroll:d}=this.root;d&&(gl(c.x,d.offset.x),gl(c.y,d.offset.y))}return c}removeElementScroll(a){var l;const c=yt();if(ns(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ns(c,a),gl(c.x,h.offset.x),gl(c.y,h.offset.y))}return c}applyTransform(a,l=!1){const c=yt();ns(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&yl(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Aa(d.latestValues)&&yl(c,d.latestValues)}return Aa(this.latestValues)&&yl(c,this.latestValues),c}removeTransform(a){const l=yt();ns(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Aa(u.latestValues))continue;v0(u.latestValues)&&u.updateSnapshot();const d=yt(),h=u.measurePageBox();ns(d,h),AC(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Aa(this.latestValues)&&AC(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Kt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),Gu(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ns(this.target,this.layout.layoutBox),oR(this.target,this.targetDelta)):ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),Gu(this.relativeTargetOrigin,this.target,p.target),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cu&&Ma.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||v0(this.parent.latestValues)||aR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ns(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;TH(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=yt());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kC(this.prevProjectionDelta.x,this.projectionDelta.x),kC(this.prevProjectionDelta.y,this.projectionDelta.y)),Ku(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!OC(this.projectionDelta.x,this.prevProjectionDelta.x)||!OC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Cu&&Ma.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ml(),this.projectionDelta=ml(),this.projectionDeltaWithTransform=ml()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=yt(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=p!==x,b=this.getStack(),v=!b||b.members.length<=1,y=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(gq));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const N=j/1e3;UC(h.x,a.x,N),UC(h.y,a.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mq(this.relativeTarget,this.relativeTargetOrigin,f,N),w&&GH(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=yt()),ns(w,this.relativeTarget)),g&&(this.animationValues=d,VH(d,u,this.latestValues,N,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ca(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{dp.hasAnimatedSinceResize=!0,this.currentAnimation=tq(0,IC,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&xR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||yt();const h=Zn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Zn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}ns(l,c),yl(l,d),Ku(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new YH),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&sv("z",a,u,this.animationValues);for(let d=0;d<nv.length;d++)sv(`rotate${nv[d]}`,a,u,this.animationValues),sv(`skew${nv[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return nq;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=hp(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=hp(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Aa(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=QH(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:x}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in fm){if(f[g]===void 0)continue;const{correct:b,applyTo:v}=fm[g],y=u.transform==="none"?f[g]:b(f[g],h);if(v){const w=v.length;for(let j=0;j<w;j++)u[v[j]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=h===this?hp(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(LC),this.root.sharedNodes.clear()}}}function rq(e){e.updateLayout()}function iq(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?ss(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],p=Zn(f);f.min=s[h].min,f.max=f.min+p}):xR(i,n.layoutBox,s)&&ss(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],p=Zn(s[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=ml();Ku(l,s,n.layoutBox);const c=ml();a?Ku(c,e.applyTransform(r,!0),n.measuredBox):Ku(c,s,n.layoutBox);const u=!mR(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const x=yt();Gu(x,n.layoutBox,f.layoutBox);const g=yt();Gu(g,s,p.layoutBox),gR(x,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function aq(e){Cu&&Ma.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function lq(e){e.clearSnapshot()}function LC(e){e.clearMeasurements()}function cq(e){e.isLayoutDirty=!1}function uq(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $C(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function dq(e){e.resolveTargetDelta()}function hq(e){e.calcProjection()}function fq(e){e.resetSkewAndRotation()}function pq(e){e.removeLeadSnapshot()}function UC(e,t,n){e.translate=ut(t.translate,0,n),e.scale=ut(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function BC(e,t,n,s){e.min=ut(t.min,n.min,s),e.max=ut(t.max,n.max,s)}function mq(e,t,n,s){BC(e.x,t.x,n.x,s),BC(e.y,t.y,n.y,s)}function gq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const yq={duration:.45,ease:[.4,0,.1,1]},VC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),zC=VC("applewebkit/")&&!VC("chrome/")?Math.round:dn;function WC(e){e.min=zC(e.min),e.max=zC(e.max)}function vq(e){WC(e.x),WC(e.y)}function xR(e,t,n){return e==="position"||e==="preserve-aspect"&&!xH(FC(t),FC(n),.2)}function xq(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const wq=vR({attachResizeListener:(e,t)=>Qr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rv={current:void 0},wR=vR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rv.current){const e=new wq({});e.mount(window),e.setOptions({layoutScroll:!0}),rv.current=e}return rv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bq={pan:{Feature:FH},drag:{Feature:DH,ProjectionNode:wR,MeasureLayout:hR}};function HC(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n);const r=s[n?"onHoverStart":"onHoverEnd"];r&&Ze.postRender(()=>r(t,Vh(t)))}class jq extends Na{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=cH(t,s=>(HC(this.node,s,!0),r=>HC(this.node,r,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class Sq extends Na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=na(Qr(this.node.current,"focus",()=>this.onFocus()),Qr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const bR=(e,t)=>t?e===t?!0:bR(e,t.parentElement):!1;function iv(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Vh(n))}class Nq extends Na{constructor(){super(...arguments),this.removeStartListeners=dn,this.removeEndListeners=dn,this.removeAccessibleListeners=dn,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),i=sa(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!bR(this.node.current,l.target)?d:u;f&&Ze.update(()=>f(l,c))},{passive:!(s.onTap||s.onPointerUp)}),a=sa(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=na(i,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||iv("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Ze.postRender(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Qr(this.node.current,"keyup",a),iv("down",(l,c)=>{this.startPress(l,c)})},n=Qr(this.node.current,"keydown",t),s=()=>{this.isPressing&&iv("cancel",(i,a)=>this.cancelPress(i,a))},r=Qr(this.node.current,"blur",s);this.removeAccessibleListeners=na(n,r)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Ze.postRender(()=>s(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!JM()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Ze.postRender(()=>s(t,n))}mount(){const t=this.node.getProps(),n=sa(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=Qr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=na(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const w0=new WeakMap,av=new WeakMap,Cq=e=>{const t=w0.get(e.target);t&&t(e)},_q=e=>{e.forEach(Cq)};function Pq({root:e,...t}){const n=e||document;av.has(n)||av.set(n,{});const s=av.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(_q,{root:e,...t})),s[r]}function kq(e,t,n){const s=Pq(t);return w0.set(e,n),s.observe(e),()=>{w0.delete(e),s.unobserve(e)}}const Tq={some:0,all:1};class Eq extends Na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Tq[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return kq(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Aq(t,n))&&this.startObserver()}unmount(){}}function Aq({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Mq={inView:{Feature:Eq},tap:{Feature:Nq},focus:{Feature:Sq},hover:{Feature:jq}},Rq={layout:{ProjectionNode:wR,MeasureLayout:hR}},jR=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ig=m.createContext({}),Mb=typeof window<"u",Dq=Mb?m.useLayoutEffect:m.useEffect,SR=m.createContext({strict:!1});function Fq(e,t,n,s,r){var i,a;const{visualElement:l}=m.useContext(Ig),c=m.useContext(SR),u=m.useContext(Eb),d=m.useContext(jR).reducedMotion,h=m.useRef();s=s||c.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=m.useContext(dR);f&&!f.projection&&r&&(f.type==="html"||f.type==="svg")&&Oq(h.current,n,r,p);const x=m.useRef(!1);m.useInsertionEffect(()=>{f&&x.current&&f.update(n,u)});const g=n[YM],b=m.useRef(!!g&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,g))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,g)));return Dq(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Ab.render(f.render),b.current&&f.animationState&&f.animationState.animateChanges())}),m.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,g)}),b.current=!1))}),f}function Oq(e,t,n,s){const{layoutId:r,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:NR(e.parent)),e.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!a||l&&pl(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:u})}function NR(e){if(e)return e.options.allowProjection!==!1?e.projection:NR(e.parent)}function Iq(e,t,n){return m.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):pl(n)&&(n.current=s))},[t])}function Lg(e){return Dg(e.animate)||ub.some(t=>_d(e[t]))}function CR(e){return!!(Lg(e)||e.variants)}function Lq(e,t){if(Lg(e)){const{initial:n,animate:s}=e;return{initial:n===!1||_d(n)?n:void 0,animate:_d(s)?s:void 0}}return e.inherit!==!1?t:{}}function $q(e){const{initial:t,animate:n}=Lq(e,m.useContext(Ig));return m.useMemo(()=>({initial:t,animate:n}),[qC(t),qC(n)])}function qC(e){return Array.isArray(e)?e.join(" "):e}const KC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kc={};for(const e in KC)kc[e]={isEnabled:t=>KC[e].some(n=>!!t[n])};function Uq(e){for(const t in e)kc[t]={...kc[t],...e[t]}}const Bq=Symbol.for("motionComponentSymbol");function Vq({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:r}){e&&Uq(e);function i(l,c){let u;const d={...m.useContext(jR),...l,layoutId:zq(l)},{isStatic:h}=d,f=$q(l),p=s(l,h);if(!h&&Mb){Wq();const x=Hq(d);u=x.MeasureLayout,f.visualElement=Fq(r,p,d,t,x.ProjectionNode)}return o.jsxs(Ig.Provider,{value:f,children:[u&&f.visualElement?o.jsx(u,{visualElement:f.visualElement,...d}):null,n(r,l,Iq(p,f.visualElement,c),p,h,f.visualElement)]})}const a=m.forwardRef(i);return a[Bq]=r,a}function zq({layoutId:e}){const t=m.useContext(uR).id;return t&&e!==void 0?t+"-"+e:e}function Wq(e,t){m.useContext(SR).strict}function Hq(e){const{drag:t,layout:n}=kc;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const qq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rb(e){return typeof e!="string"||e.includes("-")?!1:!!(qq.indexOf(e)>-1||/[A-Z]/u.test(e))}function _R(e,{style:t,vars:n},s,r){Object.assign(e.style,t,r&&r.getProjectionStyles(s));for(const i in n)e.style.setProperty(i,n[i])}const PR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kR(e,t,n,s){_R(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(PR.has(r)?r:Tb(r),t.attrs[r])}function TR(e,{layout:t,layoutId:n}){return Vo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!fm[e]||e==="opacity")}function Db(e,t,n){var s;const{style:r}=e,i={};for(const a in r)(cn(r[a])||t.style&&cn(t.style[a])||TR(a,e)||((s=n==null?void 0:n.getValue(a))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}function ER(e,t,n){const s=Db(e,t,n);for(const r in e)if(cn(e[r])||cn(t[r])){const i=$h.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=e[r]}return s}function Kq(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}function Gq({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},s,r,i){const a={latestValues:Yq(s,r,i,e),renderState:t()};return n&&(a.mount=l=>n(s,l,a)),a}const AR=e=>(t,n)=>{const s=m.useContext(Ig),r=m.useContext(Eb),i=()=>Gq(e,t,s,r);return n?i():Kq(i)};function Yq(e,t,n,s){const r={},i=s(e,{});for(const f in i)r[f]=hp(i[f]);let{initial:a,animate:l}=e;const c=Lg(e),u=CR(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!Dg(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const x=lb(e,f[p]);if(x){const{transitionEnd:g,transition:b,...v}=x;for(const y in v){let w=v[y];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(r[y]=w)}for(const y in g)r[y]=g[y]}}}return r}const Fb=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),MR=()=>({...Fb(),attrs:{}}),RR=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Qq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Zq=$h.length;function Xq(e,t,n){let s="",r=!0;for(let i=0;i<Zq;i++){const a=$h[i],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=RR(l,vb[a]);if(!c){r=!1;const d=Qq[a]||a;s+=`${d}(${u}) `}n&&(t[a]=u)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}function Ob(e,t,n){const{style:s,vars:r,transformOrigin:i}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(Vo.has(c)){a=!0;continue}else if(NM(c)){r[c]=u;continue}else{const d=RR(u,vb[c]);c.startsWith("origin")?(l=!0,i[c]=d):s[c]=d}}if(t.transform||(a||n?s.transform=Xq(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;s.transformOrigin=`${c} ${u} ${d}`}}function GC(e,t,n){return typeof e=="string"?e:ye.transform(t+n*e)}function Jq(e,t,n){const s=GC(t,e.x,e.width),r=GC(n,e.y,e.height);return`${s} ${r}`}const eK={offset:"stroke-dashoffset",array:"stroke-dasharray"},tK={offset:"strokeDashoffset",array:"strokeDasharray"};function nK(e,t,n=1,s=0,r=!0){e.pathLength=1;const i=r?eK:tK;e[i.offset]=ye.transform(-s);const a=ye.transform(t),l=ye.transform(n);e[i.array]=`${a} ${l}`}function Ib(e,{attrX:t,attrY:n,attrScale:s,originX:r,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(Ob(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:x}=e;f.transform&&(x&&(p.transform=f.transform),delete f.transform),x&&(r!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=Jq(x,r!==void 0?r:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),a!==void 0&&nK(f,a,l,c,!1)}const Lb=e=>typeof e=="string"&&e.toLowerCase()==="svg",sK={useVisualState:AR({scrapeMotionValuesFromProps:ER,createRenderState:MR,onMount:(e,t,{renderState:n,latestValues:s})=>{Ze.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ze.render(()=>{Ib(n,s,Lb(t.tagName),e.transformTemplate),kR(t,n)})}})},rK={useVisualState:AR({scrapeMotionValuesFromProps:Db,createRenderState:Fb})};function DR(e,t,n){for(const s in t)!cn(t[s])&&!TR(s,n)&&(e[s]=t[s])}function iK({transformTemplate:e},t){return m.useMemo(()=>{const n=Fb();return Ob(n,t,e),Object.assign({},n.vars,n.style)},[t])}function aK(e,t){const n=e.style||{},s={};return DR(s,n,e),Object.assign(s,iK(e,t)),s}function oK(e,t){const n={},s=aK(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const lK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lK.has(e)}let FR=e=>!pm(e);function cK(e){e&&(FR=t=>t.startsWith("on")?!pm(t):e(t))}try{cK(require("@emotion/is-prop-valid").default)}catch{}function uK(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(FR(r)||n===!0&&pm(r)||!t&&!pm(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}function dK(e,t,n,s){const r=m.useMemo(()=>{const i=MR();return Ib(i,t,Lb(s),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};DR(i,e.style,e),r.style={...i,...r.style}}return r}function hK(e=!1){return(n,s,r,{latestValues:i},a)=>{const c=(Rb(n)?dK:oK)(s,i,a,n),u=uK(s,typeof n=="string",e),d=n!==m.Fragment?{...u,...c,ref:r}:{},{children:h}=s,f=m.useMemo(()=>cn(h)?h.get():h,[h]);return m.createElement(n,{...d,children:f})}}function fK(e,t){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...Rb(s)?sK:rK,preloadedFeatures:e,useRender:hK(r),createVisualElement:t,Component:s};return Vq(a)}}const b0={current:null},OR={current:!1};function pK(){if(OR.current=!0,!!Mb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>b0.current=e.matches;e.addListener(t),t()}else b0.current=!1}function mK(e,t,n){for(const s in t){const r=t[s],i=n[s];if(cn(r))e.addValue(s,r);else if(cn(i))e.addValue(s,Td(r,{owner:e}));else if(i!==r)if(e.hasValue(s)){const a=e.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=e.getStaticValue(s);e.addValue(s,Td(a!==void 0?a:r,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const YC=new WeakMap,gK=[...PM,an,ua],yK=e=>gK.find(_M(e)),QC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vK{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Nr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ze.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Lg(n),this.isVariantNode=CR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&cn(p)&&p.set(c[f],!1)}}mount(t){this.current=t,YC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),OR.current||pK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:b0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){YC.delete(this.current),this.projection&&this.projection.unmount(),ca(this.notifyUpdate),ca(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Vo.has(t),r=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in kc){const n=kc[t];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<QC.length;s++){const r=QC[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,a=t[i];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=mK(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Td(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){var s;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(jM(r)||bM(r))?r=parseFloat(r):!yK(r)&&ua.test(n)&&(r=FM(t,n)),this.setBaseTarget(t,cn(r)?r.get():r)),cn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const a=lb(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(r=a[t])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!cn(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new kb),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class IR extends vK{constructor(){super(...arguments),this.KeyframeResolver=OM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;cn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xK(e){return window.getComputedStyle(e)}class wK extends IR{constructor(){super(...arguments),this.type="html",this.renderInstance=_R}readValueFromInstance(t,n){if(Vo.has(n)){const s=xb(n);return s&&s.default||0}else{const s=xK(t),r=(NM(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return lR(t,n)}build(t,n,s){Ob(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Db(t,n,s)}}class bK extends IR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Vo.has(n)){const s=xb(n);return s&&s.default||0}return n=PR.has(n)?n:Tb(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return ER(t,n,s)}build(t,n,s){Ib(t,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,s,r){kR(t,n,s,r)}mount(t){this.isSVGTag=Lb(t.tagName),super.mount(t)}}const jK=(e,t)=>Rb(e)?new bK(t):new wK(t,{allowProjection:e!==m.Fragment}),SK=fK({...oH,...Mq,...bq,...Rq},jK),fp=iz(SK);function LR({onSuccess:e}){const[t,n]=m.useState(""),[s,r]=m.useState(""),[i,a]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(""),[h,f]=m.useState(""),[p,x]=m.useState(""),[g,b]=m.useState("AM"),[v,y]=m.useState(""),[w,j]=m.useState("PM"),[N,k]=m.useState(""),[C,T]=m.useState("medium"),[M,E]=m.useState([]),[O,D]=m.useState(),[q,W]=m.useState(!1),[R,K]=m.useState(!1),{data:I,isLoading:_}=We({queryKey:["/api/customers"]}),{toast:B}=at(),Q=_t(),{data:se}=We({queryKey:["/api/team-members"]}),Ee=Ne({mutationFn:async X=>(await Ae("POST","/api/tasks",X)).json(),onSuccess:()=>{Q.invalidateQueries({queryKey:["/api/tasks"]}),Q.invalidateQueries({queryKey:["/api/stats"]}),B({title:"تم إنشاء المهمة بنجاح",description:"تمت إضافة المهمة الجديدة لفريقك."}),n(""),r(""),a(""),c(""),d(""),f(""),x(""),b("AM"),y(""),j("PM"),k(""),T("medium"),E([]),D(void 0),e()},onError:X=>{console.error("Task creation error:",X),B({title:"خطأ في إنشاء المهمة",description:X.message||"حدثت مشكلة في إنشاء المهمة. يرجى المحاولة مرة أخرى.",variant:"destructive"})}}),ft=X=>{if(X.preventDefault(),!t.trim()||!s.trim()||!i.trim()||!p.trim()||!v.trim()){B({title:"حقول مطلوبة مفقودة",description:"يرجى ملء جميع الحقول المطلوبة: العنوان، الوصف، اسم العميل، وقت البداية، ووقت الانتهاء.",variant:"destructive"});return}const Xe=`${p.trim()} ${g} - ${v.trim()} ${w}`,nt={title:t.trim(),description:s.trim(),customerName:i.trim(),customerPhone:l.trim()||void 0,customerEmail:u.trim()||void 0,customerAddress:h.trim()||void 0,time:Xe,notes:N.trim()||void 0,priority:C,assigneeIds:M.length>0?M:void 0,dueDate:O||void 0,status:"pending",progress:0};console.log("Creating task with data:",nt),Ee.mutate(nt)};return o.jsxs(fp.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs(Sn,{children:[o.jsx(Nn,{"data-testid":"modal-create-task-title",children:"إنشاء مهمة جديدة"}),o.jsx(Cc,{children:"املأ النموذج أدناه لإنشاء مهمة جديدة لفريقك."})]}),o.jsxs("form",{onSubmit:ft,className:"space-y-2 mt-3",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"title",children:"العنوان *"}),o.jsx(Se,{id:"title",value:t,onChange:X=>n(X.target.value),placeholder:"أدخل عنوان المهمة","data-testid":"input-task-title"})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"description",children:"الوصف *"}),o.jsx(Qn,{id:"description",value:s,onChange:X=>r(X.target.value),placeholder:"أدخل وصف المهمة",rows:1,"data-testid":"textarea-task-description",className:"text-sm min-h-[2rem] resize-none"})]}),o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ne,{htmlFor:"customerName",children:"اسم العميل *"}),o.jsx(ez,{onCustomerAdded:X=>{a(X.name),X.phone&&c(X.phone),X.email&&d(X.email),X.address&&f(X.address)}})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(At,{value:i,onValueChange:X=>{a(X);const Xe=I==null?void 0:I.find(nt=>nt.name===X);Xe&&(Xe.phone&&c(Xe.phone),Xe.email&&d(Xe.email),Xe.address&&f(Xe.address))},children:[o.jsx(jt,{"data-testid":"select-task-customer-name",className:"text-sm",children:o.jsx(Mt,{placeholder:"اختر أو أدخل العميل"})}),o.jsx(St,{children:I==null?void 0:I.map(X=>o.jsxs(ve,{value:X.name,children:[X.name,X.phone&&` (${X.phone})`]},X.id))})]}),o.jsx(Se,{placeholder:"أو أدخل اسم عميل مخصص",value:i,onChange:X=>a(X.target.value),"data-testid":"input-task-customer-name-manual",className:"text-sm"})]})]}),o.jsxs(IN,{open:q,onOpenChange:W,children:[o.jsx(LN,{asChild:!0,children:o.jsxs(V,{variant:"ghost",size:"sm",className:"w-full justify-between p-2 h-8",children:["تفاصيل العميل (اختياري)",q?o.jsx(Vx,{className:"h-4 w-4"}):o.jsx(Gp,{className:"h-4 w-4"})]})}),o.jsx($N,{children:o.jsxs(fp.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"space-y-2 mt-2",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"customer-phone",className:"text-sm",children:"هاتف العميل"}),o.jsx(Se,{id:"customer-phone",type:"tel",value:l,onChange:X=>c(X.target.value),placeholder:"مثال: +9647812345678","data-testid":"input-customer-phone-create",className:"text-sm"}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"يرجى إدخال رقم الهاتف مع مفتاح الدولة (مثال: +964 للعراق)"})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"customer-email",className:"text-sm",children:"بريد العميل الإلكتروني"}),o.jsx(Se,{id:"customer-email",type:"email",value:u,onChange:X=>d(X.target.value),placeholder:"أدخل البريد الإلكتروني للعميل","data-testid":"input-customer-email-create",className:"text-sm"})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"customer-address",className:"text-sm",children:"عنوان العميل"}),o.jsx(Se,{id:"customer-address",value:h,onChange:X=>f(X.target.value),placeholder:"أدخل عنوان العميل","data-testid":"input-customer-address-create",className:"text-sm"})]})]})})]}),o.jsxs("div",{children:[o.jsx(ne,{children:"الوقت/الجدول *"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"start-time",className:"text-xs text-muted-foreground",children:"وقت البداية"}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(Se,{id:"start-time",value:p,onChange:X=>x(X.target.value),placeholder:"9:00",className:"text-sm","data-testid":"input-start-time"}),o.jsxs(At,{value:g,onValueChange:b,children:[o.jsx(jt,{className:"w-16 text-sm","data-testid":"select-start-period",children:o.jsx(Mt,{})}),o.jsxs(St,{children:[o.jsx(ve,{value:"AM",children:"AM"}),o.jsx(ve,{value:"PM",children:"PM"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"finish-time",className:"text-xs text-muted-foreground",children:"وقت الانتهاء"}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(Se,{id:"finish-time",value:v,onChange:X=>y(X.target.value),placeholder:"5:00",className:"text-sm","data-testid":"input-finish-time"}),o.jsxs(At,{value:w,onValueChange:j,children:[o.jsx(jt,{className:"w-16 text-sm","data-testid":"select-finish-period",children:o.jsx(Mt,{})}),o.jsxs(St,{children:[o.jsx(ve,{value:"AM",children:"AM"}),o.jsx(ve,{value:"PM",children:"PM"})]})]})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"priority",className:"text-sm",children:"الأولوية"}),o.jsxs(At,{value:C,onValueChange:T,children:[o.jsx(jt,{"data-testid":"select-task-priority-create",className:"text-sm h-9",children:o.jsx(Mt,{})}),o.jsxs(St,{children:[o.jsx(ve,{value:"low",children:"منخفضة"}),o.jsx(ve,{value:"medium",children:"متوسطة"}),o.jsx(ve,{value:"high",children:"عالية"})]})]})]}),o.jsxs("div",{children:[o.jsx(ne,{className:"text-sm",children:"تاريخ الإنجاز"}),o.jsxs(BV,{children:[o.jsx(VV,{asChild:!0,children:o.jsxs(V,{variant:"outline",className:ue("w-full justify-start text-left font-normal text-sm h-9",!O&&"text-muted-foreground"),"data-testid":"button-task-due-date",children:[o.jsx(Fn,{className:"mr-2 h-4 w-4"}),O?Je(O,"PPP"):o.jsx("span",{children:"اختر تاريخ الإنجاز"})]})}),o.jsx(L4,{className:"w-auto p-0",align:"start",children:o.jsx(_4,{mode:"single",selected:O,onSelect:D,initialFocus:!0,"data-testid":"calendar-task-due-date"})})]})]})]}),o.jsxs(IN,{open:R,onOpenChange:K,children:[o.jsx(LN,{asChild:!0,children:o.jsxs(V,{variant:"ghost",size:"sm",className:"w-full justify-between p-2 h-8",children:["خيارات متقدمة",R?o.jsx(Vx,{className:"h-4 w-4"}):o.jsx(Gp,{className:"h-4 w-4"})]})}),o.jsx($N,{children:o.jsxs(fp.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"space-y-2 mt-2",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"assignees",className:"text-sm",children:"المكلفون (تحديد متعدد)"}),o.jsxs("div",{className:"mt-2 space-y-1 max-h-20 overflow-y-auto border rounded-md p-2 bg-muted/30",children:[se==null?void 0:se.map(X=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(D1,{id:`assignee-${X.id}`,checked:M.includes(X.id),onCheckedChange:Xe=>{E(Xe?[...M,X.id]:M.filter(nt=>nt!==X.id))},"data-testid":`checkbox-assignee-${X.id}`}),o.jsxs(ne,{htmlFor:`assignee-${X.id}`,className:"text-xs font-normal",children:[X.name," - ",X.role]})]},X.id)),(!se||se.length===0)&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"لا يوجد أعضاء فريق متاحون"})]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["المحدد: ",M.length," عضو"]})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"notes",className:"text-sm",children:"ملاحظات"}),o.jsx(Qn,{id:"notes",value:N,onChange:X=>k(X.target.value),placeholder:"ملاحظات إضافية (اختياري)",rows:1,"data-testid":"textarea-task-notes",className:"text-sm min-h-[2rem] resize-none"})]})]})})]}),o.jsxs("div",{className:"flex space-x-3 pt-3 border-t mt-4",children:[o.jsx(V,{type:"submit",className:"flex-1",disabled:Ee.isPending,"data-testid":"button-submit-task",children:Ee.isPending?"جاري الإنشاء...":"إنشاء المهمة"}),o.jsx(V,{type:"button",variant:"outline",onClick:e,"data-testid":"button-cancel-create-task",children:"إلغاء"})]})]})]})}const le=({className:e,...t})=>o.jsx("div",{className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}),Le=({className:e,...t})=>o.jsx("div",{className:ue("flex flex-col space-y-1.5 p-6",e),...t}),$e=({className:e,...t})=>o.jsx("h3",{className:ue("text-2xl font-semibold leading-none tracking-tight",e),...t}),Is=({className:e,...t})=>o.jsx("p",{className:ue("text-sm text-muted-foreground",e),...t}),ce=({className:e,...t})=>o.jsx("div",{className:ue("p-6 pt-0",e),...t}),NK=({className:e,...t})=>o.jsx("div",{className:ue("flex items-center p-6 pt-0",e),...t});function CK(e,t){return m.useReducer((n,s)=>t[n][s]??n,e)}var $b="ScrollArea",[$R,Hre]=es($b),[_K,vs]=$R($b),UR=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:r,scrollHideDelay:i=600,...a}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[h,f]=m.useState(null),[p,x]=m.useState(null),[g,b]=m.useState(null),[v,y]=m.useState(0),[w,j]=m.useState(0),[N,k]=m.useState(!1),[C,T]=m.useState(!1),M=Me(t,O=>c(O)),E=oA(r);return o.jsx(_K,{scope:n,type:s,dir:E,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:y,onCornerHeightChange:j,children:o.jsx(ge.div,{dir:E,...a,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});UR.displayName=$b;var BR="ScrollAreaViewport",VR=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:r,...i}=e,a=vs(BR,n),l=m.useRef(null),c=Me(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(ge.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});VR.displayName=BR;var Ar="ScrollAreaScrollbar",Ub=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=vs(Ar,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=r,l=e.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),r.type==="hover"?o.jsx(PK,{...s,ref:t,forceMount:n}):r.type==="scroll"?o.jsx(kK,{...s,ref:t,forceMount:n}):r.type==="auto"?o.jsx(zR,{...s,ref:t,forceMount:n}):r.type==="always"?o.jsx(Bb,{...s,ref:t}):null});Ub.displayName=Ar;var PK=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=vs(Ar,e.__scopeScrollArea),[i,a]=m.useState(!1);return m.useEffect(()=>{const l=r.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[r.scrollArea,r.scrollHideDelay]),o.jsx($n,{present:n||i,children:o.jsx(zR,{"data-state":i?"visible":"hidden",...s,ref:t})})}),kK=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=vs(Ar,e.__scopeScrollArea),i=e.orientation==="horizontal",a=Ug(()=>c("SCROLL_END"),100),[l,c]=CK("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,r.scrollHideDelay,c]),m.useEffect(()=>{const u=r.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const p=u[d];h!==p&&(c("SCROLL"),a()),h=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[r.viewport,i,c,a]),o.jsx($n,{present:n||l!=="hidden",children:o.jsx(Bb,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:fe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:fe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),zR=m.forwardRef((e,t)=>{const n=vs(Ar,e.__scopeScrollArea),{forceMount:s,...r}=e,[i,a]=m.useState(!1),l=e.orientation==="horizontal",c=Ug(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:d)}},10);return Tc(n.viewport,c),Tc(n.content,c),o.jsx($n,{present:s||i,children:o.jsx(Bb,{"data-state":i?"visible":"hidden",...r,ref:t})})}),Bb=m.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,r=vs(Ar,e.__scopeScrollArea),i=m.useRef(null),a=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=GR(l.viewport,l.content),d={...s,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function h(f,p){return DK(f,a.current,l,p)}return n==="horizontal"?o.jsx(TK,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&i.current){const f=r.viewport.scrollLeft,p=ZC(f,l,r.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollLeft=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollLeft=h(f,r.dir))}}):n==="vertical"?o.jsx(EK,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&i.current){const f=r.viewport.scrollTop,p=ZC(f,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollTop=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollTop=h(f))}}):null}),TK=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,i=vs(Ar,e.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=Me(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(HR,{"data-orientation":"horizontal",...r,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$g(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),QR(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:gm(a.paddingLeft),paddingEnd:gm(a.paddingRight)}})}})}),EK=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,i=vs(Ar,e.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=Me(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(HR,{"data-orientation":"vertical",...r,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$g(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),QR(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:gm(a.paddingTop),paddingEnd:gm(a.paddingBottom)}})}})}),[AK,WR]=$R(Ar),HR=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:r,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,p=vs(Ar,n),[x,g]=m.useState(null),b=Me(t,M=>g(M)),v=m.useRef(null),y=m.useRef(""),w=p.viewport,j=s.content-s.viewport,N=bt(d),k=bt(c),C=Ug(h,10);function T(M){if(v.current){const E=M.clientX-v.current.left,O=M.clientY-v.current.top;u({x:E,y:O})}}return m.useEffect(()=>{const M=E=>{const O=E.target;(x==null?void 0:x.contains(O))&&N(E,j)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[w,x,j,N]),m.useEffect(k,[s,k]),Tc(x,C),Tc(p.content,C),o.jsx(AK,{scope:n,scrollbar:x,hasThumb:r,onThumbChange:bt(i),onThumbPointerUp:bt(a),onThumbPositionChange:k,onThumbPointerDown:bt(l),children:o.jsx(ge.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:fe(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),v.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(M))}),onPointerMove:fe(e.onPointerMove,T),onPointerUp:fe(e.onPointerUp,M=>{const E=M.target;E.hasPointerCapture(M.pointerId)&&E.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),mm="ScrollAreaThumb",qR=m.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=WR(mm,e.__scopeScrollArea);return o.jsx($n,{present:n||r.hasThumb,children:o.jsx(MK,{ref:t,...s})})}),MK=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...r}=e,i=vs(mm,n),a=WR(mm,n),{onThumbPositionChange:l}=a,c=Me(t,h=>a.onThumbChange(h)),u=m.useRef(void 0),d=Ug(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const p=FK(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),o.jsx(ge.div,{"data-state":a.hasThumb?"visible":"hidden",...r,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:fe(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),x=h.clientX-p.left,g=h.clientY-p.top;a.onThumbPointerDown({x,y:g})}),onPointerUp:fe(e.onPointerUp,a.onThumbPointerUp)})});qR.displayName=mm;var Vb="ScrollAreaCorner",KR=m.forwardRef((e,t)=>{const n=vs(Vb,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?o.jsx(RK,{...e,ref:t}):null});KR.displayName=Vb;var RK=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,r=vs(Vb,n),[i,a]=m.useState(0),[l,c]=m.useState(0),u=!!(i&&l);return Tc(r.scrollbarX,()=>{var h;const d=((h=r.scrollbarX)==null?void 0:h.offsetHeight)||0;r.onCornerHeightChange(d),c(d)}),Tc(r.scrollbarY,()=>{var h;const d=((h=r.scrollbarY)==null?void 0:h.offsetWidth)||0;r.onCornerWidthChange(d),a(d)}),u?o.jsx(ge.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function gm(e){return e?parseInt(e,10):0}function GR(e,t){const n=e/t;return isNaN(n)?0:n}function $g(e){const t=GR(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function DK(e,t,n,s="ltr"){const r=$g(n),i=r/2,a=t||i,l=r-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=s==="ltr"?[0,d]:[d*-1,0];return YR([c,u],h)(e)}function ZC(e,t,n="ltr"){const s=$g(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-r,a=t.content-t.viewport,l=i-s,c=n==="ltr"?[0,a]:[a*-1,0],u=Zx(e,c);return YR([0,a],[0,l])(u)}function YR(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function QR(e,t){return e>0&&e<t}var FK=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function r(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&t(),n=i,s=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(s)};function Ug(e,t){const n=bt(e),s=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),m.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function Tc(e,t){const n=bt(t);Ct(()=>{let s=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(s),r.unobserve(e)}}},[e,n])}var ZR=UR,OK=VR,IK=KR;const da=m.forwardRef(({className:e,children:t,...n},s)=>o.jsxs(ZR,{ref:s,className:ue("relative overflow-hidden",e),...n,children:[o.jsx(OK,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(XR,{}),o.jsx(IK,{})]}));da.displayName=ZR.displayName;const XR=m.forwardRef(({className:e,orientation:t="vertical",...n},s)=>o.jsx(Ub,{ref:s,orientation:t,className:ue("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(qR,{className:"relative flex-1 rounded-full bg-border"})}));XR.displayName=Ub.displayName;function LK({isOpen:e,onClose:t,taskId:n,taskTitle:s}){const{t:r}=Jt(),[i,a]=m.useState([{id:"1",content:"Task has been created and assigned.",sender:"System",timestamp:new Date(Date.now()-1e3*60*30)},{id:"2",content:"I'll start working on this right away.",sender:"Sarah Chen",timestamp:new Date(Date.now()-1e3*60*15)},{id:"3",content:"Perfect! Let me know if you need any help.",sender:"Mike Johnson",timestamp:new Date(Date.now()-1e3*60*10)}]),[l,c]=m.useState(""),u=m.useRef(null),d=()=>{var b;(b=u.current)==null||b.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{d()},[i]);const h=()=>{if(l.trim()){const b={id:Date.now().toString(),content:l.trim(),sender:"You",timestamp:new Date,taskId:n};a(v=>[...v,b]),c("")}},f=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),h())},p=b=>b.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),x=b=>b.split(" ").map(v=>v[0]).join("").toUpperCase(),g=b=>{switch(b){case"System":return"bg-blue-100 text-blue-800";case"You":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end md:items-center justify-center z-50 p-4",children:o.jsxs(le,{className:"w-full max-w-md h-[80vh] md:h-[600px] flex flex-col",children:[o.jsx(Le,{className:"flex-shrink-0 pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xr,{className:"w-5 h-5 text-primary"}),o.jsx($e,{className:"text-lg",children:s?`${r("chat.taskChat")}: ${s}`:r("chat.title")})]}),o.jsx(V,{variant:"ghost",size:"sm",onClick:t,"data-testid":"button-close-chat",children:o.jsx(So,{className:"w-4 h-4"})})]})}),o.jsxs(ce,{className:"flex-1 flex flex-col p-4 pt-0",children:[o.jsx(da,{className:"flex-1 pr-4 -mr-4",children:o.jsxs("div",{className:"space-y-4",children:[i.map(b=>o.jsxs("div",{className:`flex gap-3 ${b.sender==="You"?"flex-row-reverse rtl:flex-row":"rtl:flex-row-reverse"}`,children:[o.jsx(Ng,{className:"w-8 h-8 flex-shrink-0",children:o.jsx(Cg,{className:`text-xs ${g(b.sender)}`,children:x(b.sender)})}),o.jsxs("div",{className:`flex-1 ${b.sender==="You"?"text-right":""}`,children:[o.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:b.sender}),o.jsx("span",{className:"text-xs text-muted-foreground",children:p(b.timestamp)})]}),o.jsx("div",{className:`inline-block px-3 py-2 rounded-lg text-sm max-w-[80%] ${b.sender==="You"?"bg-primary text-primary-foreground":b.sender==="System"?"bg-muted text-muted-foreground":"bg-muted text-foreground"}`,children:b.content})]})]},b.id)),o.jsx("div",{ref:u})]})}),o.jsx("div",{className:"flex-shrink-0 pt-4",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{value:l,onChange:b=>c(b.target.value),onKeyPress:f,placeholder:r("chat.typeMessage"),className:"flex-1","data-testid":"input-chat-message"}),o.jsx(V,{onClick:h,disabled:!l.trim(),size:"sm","data-testid":"button-send-message",children:o.jsx(xc,{className:"w-4 h-4"})})]})})]})]})}):null}function zb({taskId:e,taskTitle:t,variant:n="default",className:s=""}){const[r,i]=m.useState(!1),{t:a}=Jt(),l=n==="floating"?"fixed bottom-32 right-4 w-14 h-14 rounded-full shadow-lg z-10 touch-manipulation":"";return o.jsxs(o.Fragment,{children:[o.jsxs(V,{onClick:()=>i(!0),size:n==="floating"?"icon":"sm",variant:n==="floating"?"default":"outline",className:`${l} ${s}`,"data-testid":"button-open-chat",children:[o.jsx(Xr,{className:"w-4 h-4"}),n!=="floating"&&o.jsx("span",{className:"ml-2",children:a("chat.title")})]}),o.jsx(LK,{isOpen:r,onClose:()=>i(!1),taskId:e,taskTitle:t})]})}function $K({children:e}){const[t,n]=m.useState(!1);return o.jsxs("div",{className:"min-h-screen flex flex-col w-full bg-surface crisp-text",children:[o.jsx(cU,{}),o.jsxs("main",{className:"flex-1 overflow-y-auto pb-20 touch-manipulation responsive-padding","data-scroll-container":!0,children:[o.jsx("div",{className:"w-full max-w-full",children:e}),o.jsx("footer",{className:"mt-8 py-4 border-t bg-background/95 backdrop-blur",children:o.jsxs("div",{className:"text-center text-xs sm:text-sm text-muted-foreground px-4",children:[o.jsxs("p",{className:"mb-1",children:["جميع الحقوق محفوظة © ",new Date().getFullYear()]}),o.jsx("p",{className:"font-medium text-primary",children:"شركة اشراق الودق لتكنولوجيا المعلومات"})]})})]}),o.jsx(uU,{}),o.jsx(V,{className:"fixed bottom-20 right-4 w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 rounded-full shadow-lg z-10 touch-manipulation touch-target",size:"icon",onClick:()=>n(!0),"data-testid":"button-create-task",children:o.jsx(Hc,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-7 lg:w-7"})}),o.jsx(zb,{variant:"floating"}),o.jsx(Xt,{open:t,onOpenChange:n,children:o.jsx(zt,{className:"w-[95vw] max-w-md sm:max-w-lg lg:max-w-xl max-h-[85vh] overflow-y-auto","data-scroll-container":!0,children:o.jsx(LR,{onSuccess:()=>n(!1)})})})]})}const JR=m.createContext(void 0);function zh(){const e=m.useContext(JR);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function UK(){const[e,t]=m.useState(null),[n,s]=m.useState(!0),r=l=>{t(l)},i=async()=>{try{await fetch("/api/auth/logout",{method:"POST"})}catch(l){console.error("Logout error:",l)}finally{t(null)}},a=async()=>{try{const l=await fetch("/api/auth/user");if(l.ok){const c=await l.json();t(c)}else t(null)}catch(l){console.error("Auth check error:",l),t(null)}finally{s(!1)}};return m.useEffect(()=>{a()},[]),{user:e,isLoading:n,login:r,logout:i,checkAuth:a}}function BK({children:e}){const t=UK();return o.jsx(JR.Provider,{value:t,children:e})}const VK=Th("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Wh=m.forwardRef(({className:e,variant:t,...n},s)=>o.jsx("div",{ref:s,role:"alert",className:ue(VK({variant:t}),e),...n}));Wh.displayName="Alert";const zK=m.forwardRef(({className:e,...t},n)=>o.jsx("h5",{ref:n,className:ue("mb-1 font-medium leading-none tracking-tight",e),...t}));zK.displayName="AlertTitle";const Hh=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ue("text-sm [&_p]:leading-relaxed",e),...t}));Hh.displayName="AlertDescription";class WK extends je.Component{constructor(t){super(t),this.resetError=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,n){console.error("Error boundary caught an error:",t,n),this.setState({errorInfo:n})}render(){if(this.state.hasError){if(this.props.fallback){const t=this.props.fallback;return o.jsx(t,{error:this.state.error,resetError:this.resetError})}return o.jsx(HK,{error:this.state.error,resetError:this.resetError})}return this.props.children}}function HK({error:e,resetError:t}){const{t:n}=Jt(),s=()=>{window.location.reload()},r=()=>{window.location.href="/"};return o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:o.jsxs(le,{className:"w-full max-w-md",children:[o.jsxs(Le,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10",children:o.jsx(wc,{className:"h-8 w-8 text-destructive"})}),o.jsx($e,{className:"text-xl","data-testid":"text-error-title",children:n("error.generic")}),o.jsx(Is,{children:n("guidance.contactSupport")})]}),o.jsxs(ce,{className:"space-y-4",children:[e&&o.jsx(Wh,{variant:"destructive",children:o.jsx(Hh,{className:"text-sm font-mono",children:e.message})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(V,{onClick:t,className:"w-full","data-testid":"button-retry",children:[o.jsx(jo,{className:"h-4 w-4 mr-2"}),n("guidance.retry")]}),o.jsxs(V,{onClick:s,variant:"outline",className:"w-full","data-testid":"button-reload",children:[o.jsx(jo,{className:"h-4 w-4 mr-2"}),n("guidance.refresh")]}),o.jsxs(V,{onClick:r,variant:"ghost",className:"w-full","data-testid":"button-home",children:[o.jsx(aE,{className:"h-4 w-4 mr-2"}),"العودة للرئيسية"]})]})]})]})})}function e5({error:e,resetError:t,componentName:n}){const{t:s}=Jt();return o.jsxs(Wh,{variant:"destructive",className:"m-4",children:[o.jsx(wc,{className:"h-4 w-4"}),o.jsxs(Hh,{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:n?`خطأ في ${n}`:s("error.generic")}),e&&o.jsx("p",{className:"text-sm mt-1 opacity-80",children:e.message})]}),o.jsxs(V,{onClick:t,size:"sm",variant:"outline","data-testid":"button-component-retry",children:[o.jsx(jo,{className:"h-3 w-3 mr-1"}),s("guidance.retry")]})]})]})}const Wb=WK;function Tf({title:e,value:t,icon:n,color:s,testId:r}){const i={primary:"text-primary",secondary:"text-secondary",success:"text-success",error:"text-error"};return o.jsx("div",{className:"stat-card","data-testid":r,children:o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[o.jsx("div",{className:`text-5xl mb-2 ${i[s]} drop-shadow-sm`,"data-testid":`${r}-icon`,children:n}),o.jsx("p",{className:"text-sm text-muted-foreground mb-1 font-medium","data-testid":`${r}-title`,children:e}),o.jsx("p",{className:`text-2xl font-bold ${i[s]} leading-none`,"data-testid":`${r}-value`,children:t})]})})}function t5({onSuccess:e}){const[t,n]=m.useState(""),[s,r]=m.useState(""),[i,a]=m.useState(""),[l,c]=m.useState("available"),{toast:u}=at(),d=_t(),h=Ne({mutationFn:async p=>(await Ae("POST","/api/team-members",p)).json(),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/team-members"]}),d.invalidateQueries({queryKey:["/api/stats"]}),u({title:"Team member added successfully",description:"The new team member has been added."}),e()},onError:()=>{u({title:"Error adding team member",description:"There was a problem adding the team member. Please try again.",variant:"destructive"})}}),f=p=>{if(p.preventDefault(),!t.trim()||!s.trim()||!i.trim()){u({title:"Missing required fields",description:"Please fill in all required fields.",variant:"destructive"});return}const x={name:t.trim(),role:s.trim(),email:i.trim(),status:l,avatar:t.trim().split(" ").map(g=>g[0]).join("").toUpperCase()};h.mutate(x)};return o.jsxs("div",{children:[o.jsx(Sn,{children:o.jsx(Nn,{"data-testid":"modal-add-member-title",children:"Add Team Member"})}),o.jsxs("form",{onSubmit:f,className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"name",children:"Name *"}),o.jsx(Se,{id:"name",value:t,onChange:p=>n(p.target.value),placeholder:"Enter member name","data-testid":"input-member-name"})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"role",children:"Role *"}),o.jsx(Se,{id:"role",value:s,onChange:p=>r(p.target.value),placeholder:"Enter member role","data-testid":"input-member-role"})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"email",children:"Email *"}),o.jsx(Se,{id:"email",type:"email",value:i,onChange:p=>a(p.target.value),placeholder:"Enter member email","data-testid":"input-member-email"})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"status",children:"Status"}),o.jsxs(At,{value:l,onValueChange:c,children:[o.jsx(jt,{"data-testid":"select-member-status",children:o.jsx(Mt,{})}),o.jsxs(St,{children:[o.jsx(ve,{value:"available",children:"Available"}),o.jsx(ve,{value:"busy",children:"Busy"}),o.jsx(ve,{value:"offline",children:"Offline"})]})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx(V,{type:"submit",className:"flex-1",disabled:h.isPending,"data-testid":"button-submit-member",children:h.isPending?"Adding...":"Add Member"}),o.jsx(V,{type:"button",variant:"outline",onClick:e,"data-testid":"button-cancel-add-member",children:"Cancel"})]})]})]})}function qK(){const[,e]=_h(),[t,n]=m.useState(!1),[s,r]=m.useState(!1),{t:i}=Jt();return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-medium mb-3","data-testid":"text-quick-actions-title",children:i("dashboard.quickActions")}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs(V,{className:"bg-primary text-primary-foreground p-4 rounded-lg shadow-sm flex flex-col items-center space-y-2 hover:bg-primary-dark transition-colors h-auto touch-manipulation",onClick:()=>n(!0),"data-testid":"button-quick-new-task",children:[o.jsx(Hc,{className:"h-5 w-5"}),o.jsx("span",{className:"text-sm font-medium",children:i("dashboard.createTask")})]}),o.jsxs(V,{className:"bg-secondary text-secondary-foreground p-4 rounded-lg shadow-sm flex flex-col items-center space-y-2 hover:opacity-90 transition-opacity h-auto touch-manipulation",onClick:()=>r(!0),"data-testid":"button-quick-add-member",children:[o.jsx(Ah,{className:"h-5 w-5"}),o.jsx("span",{className:"text-sm font-medium",children:i("dashboard.addMember")})]}),o.jsxs(V,{className:"bg-secondary text-secondary-foreground p-4 rounded-lg shadow-sm flex flex-col items-center space-y-2 hover:opacity-90 transition-opacity h-auto touch-manipulation",onClick:()=>e("/admin/users"),"data-testid":"button-quick-admin",children:[o.jsx(Ua,{className:"h-5 w-5"}),o.jsx("span",{className:"text-sm font-medium",children:i("dashboard.admin")})]})]})]}),o.jsx(Xt,{open:t,onOpenChange:n,children:o.jsx(zt,{className:"sm:max-w-md max-h-[85vh] overflow-y-auto",children:o.jsx(LR,{onSuccess:()=>n(!1)})})}),o.jsx(Xt,{open:s,onOpenChange:r,children:o.jsx(zt,{className:"sm:max-w-md",children:o.jsx(t5,{onSuccess:()=>r(!1)})})})]})}var n5="AlertDialog",[KK,qre]=es(n5,[U4]),fi=U4(),s5=e=>{const{__scopeAlertDialog:t,...n}=e,s=fi(t);return o.jsx(nM,{...s,...n,modal:!0})};s5.displayName=n5;var GK="AlertDialogTrigger",r5=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=fi(n);return o.jsx(sM,{...r,...s,ref:t})});r5.displayName=GK;var YK="AlertDialogPortal",i5=e=>{const{__scopeAlertDialog:t,...n}=e,s=fi(t);return o.jsx(rM,{...s,...n})};i5.displayName=YK;var QK="AlertDialogOverlay",a5=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=fi(n);return o.jsx(X1,{...r,...s,ref:t})});a5.displayName=QK;var El="AlertDialogContent",[ZK,XK]=KK(El),JK=TT("AlertDialogContent"),o5=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:s,...r}=e,i=fi(n),a=m.useRef(null),l=Me(t,a),c=m.useRef(null);return o.jsx(YV,{contentName:El,titleName:l5,docsSlug:"alert-dialog",children:o.jsx(ZK,{scope:n,cancelRef:c,children:o.jsxs(J1,{role:"alertdialog",...i,...r,ref:l,onOpenAutoFocus:fe(r.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(JK,{children:s}),o.jsx(tG,{contentRef:a})]})})})});o5.displayName=El;var l5="AlertDialogTitle",c5=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=fi(n);return o.jsx(eb,{...r,...s,ref:t})});c5.displayName=l5;var u5="AlertDialogDescription",d5=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=fi(n);return o.jsx(tb,{...r,...s,ref:t})});d5.displayName=u5;var eG="AlertDialogAction",h5=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,r=fi(n);return o.jsx(nb,{...r,...s,ref:t})});h5.displayName=eG;var f5="AlertDialogCancel",p5=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...s}=e,{cancelRef:r}=XK(f5,n),i=fi(n),a=Me(t,r);return o.jsx(nb,{...i,...s,ref:a})});p5.displayName=f5;var tG=({contentRef:e})=>{const t=`\`${El}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${El}\` by passing a \`${u5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${El}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},nG=s5,sG=r5,rG=i5,m5=a5,g5=o5,y5=h5,v5=p5,x5=c5,w5=d5;const Ec=nG,ym=sG,iG=rG,b5=m.forwardRef(({className:e,...t},n)=>o.jsx(m5,{className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));b5.displayName=m5.displayName;const ko=m.forwardRef(({className:e,...t},n)=>o.jsxs(iG,{children:[o.jsx(b5,{}),o.jsx(g5,{ref:n,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));ko.displayName=g5.displayName;const To=({className:e,...t})=>o.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",e),...t});To.displayName="AlertDialogHeader";const Eo=({className:e,...t})=>o.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Eo.displayName="AlertDialogFooter";const Ao=m.forwardRef(({className:e,...t},n)=>o.jsx(x5,{ref:n,className:ue("text-lg font-semibold",e),...t}));Ao.displayName=x5.displayName;const Mo=m.forwardRef(({className:e,...t},n)=>o.jsx(w5,{ref:n,className:ue("text-sm text-muted-foreground",e),...t}));Mo.displayName=w5.displayName;const Ro=m.forwardRef(({className:e,...t},n)=>o.jsx(y5,{ref:n,className:ue(Sd(),e),...t}));Ro.displayName=y5.displayName;const Do=m.forwardRef(({className:e,...t},n)=>o.jsx(v5,{ref:n,className:ue(Sd({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Do.displayName=v5.displayName;function j5({member:e}){const[t,n]=m.useState(!1),{user:s}=wa(),r=_t(),{toast:i}=at(),a=f=>{switch(f){case"available":return"availability-available";case"busy":return"availability-busy";default:return"availability-offline"}},l=f=>{switch(f){case"available":return"متاح";case"busy":return"مشغول";default:return"غير متصل"}},c=f=>{const p=["bg-primary","bg-secondary","bg-success","bg-warning"],x=f.charCodeAt(0)%p.length;return p[x]},u=Ne({mutationFn:async()=>{const f=await fetch(`/api/team-members/${e.id}`,{method:"DELETE",credentials:"include"});if(!f.ok){const p=await f.json().catch(()=>({}));throw new Error(p.message||"Failed to delete team member")}return f.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/team-members"]}),i({title:"تم الحذف بنجاح",description:`تم حذف عضو الفريق ${e.name} بنجاح`}),n(!1)},onError:f=>{i({title:"خطأ في الحذف",description:f.message||"حدث خطأ أثناء حذف عضو الفريق",variant:"destructive"})}}),d=()=>{u.mutate()},h=s&&typeof s=="object"&&s!==null&&"role"in s?s.role==="admin":!1;return o.jsxs("div",{className:"bg-surface rounded-lg p-4 shadow-sm border border-surface-variant/50","data-testid":`team-member-card-${e.id}`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-12 h-12 ${c(e.name)} text-white rounded-full flex items-center justify-center font-medium`,children:e.avatar||e.name.split(" ").map(f=>f[0]).join("")}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-base","data-testid":`member-name-${e.id}`,children:e.name}),o.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`member-role-${e.id}`,children:e.role}),o.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[o.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`member-active-tasks-${e.id}`,children:[e.activeTasks," مهمة نشطة"]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("div",{className:`w-2 h-2 ${a(e.status)} rounded-full`}),o.jsx("span",{className:"text-xs text-muted-foreground","data-testid":`member-status-${e.id}`,children:l(e.status)})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[h&&o.jsx(V,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive-dark p-2 h-auto",onClick:()=>n(!0),"data-testid":`button-delete-member-${e.id}`,children:o.jsx(Eh,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary-dark p-0 h-auto","data-testid":`button-member-details-${e.id}`,children:o.jsx(yg,{className:"h-4 w-4"})})]})]}),o.jsx(Ec,{open:t,onOpenChange:n,children:o.jsxs(ko,{children:[o.jsxs(To,{children:[o.jsx(Ao,{children:"تأكيد حذف عضو الفريق"}),o.jsxs(Mo,{children:['هل أنت متأكد من حذف عضو الفريق "',e.name,'"؟ هذا الإجراء لا يمكن التراجع عنه.']})]}),o.jsxs(Eo,{children:[o.jsx(Do,{children:"إلغاء"}),o.jsx(Ro,{onClick:d,className:"bg-destructive hover:bg-destructive/90",disabled:u.isPending,children:u.isPending?"جاري الحذف...":"حذف"})]})]})})]})}function aG(){const[e,t]=m.useState(new Date),{t:n}=Jt(),{data:s}=We({queryKey:["/api/tasks"]}),r=Zs(e,{weekStartsOn:1}),i=Mg(e,{weekStartsOn:1}),a=G7({start:r,end:i}),l=(s==null?void 0:s.filter(h=>h.dueDate&&new Date(h.dueDate)>=r&&new Date(h.dueDate)<=i))||[],c=h=>l.filter(f=>f.dueDate&&Yt(new Date(f.dueDate),h)),u=h=>{switch(h){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},d=h=>{switch(h){case"complete":return"bg-green-50 border-green-300 shadow-green-100";case"start":return"bg-blue-50 border-blue-300 shadow-blue-100";case"pending":return"bg-orange-50 border-orange-300 shadow-orange-100";default:return"bg-gray-50 border-gray-200 shadow-gray-100"}};return o.jsxs(le,{className:"overflow-hidden",children:[o.jsx(Le,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 pb-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs($e,{className:"flex items-center gap-3 text-xl font-semibold",children:[o.jsx("div",{className:"bg-primary/20 p-2 rounded-full",children:o.jsx(Fn,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("div",{children:n("dashboard.weeklySchedule")}),o.jsxs("div",{className:"text-sm font-normal text-muted-foreground",children:[l.length," مهمة مجدولة هذا الأسبوع"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-background/80 backdrop-blur rounded-lg p-1",children:[o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>t(YB(e,1)),className:"hover:bg-primary/10","data-testid":"button-prev-week",children:o.jsx(rE,{className:"w-4 h-4"})}),o.jsxs("div",{className:"text-sm font-medium px-3 py-1 bg-white/50 rounded","data-testid":"text-current-week",children:[Je(r,"d MMM")," - ",Je(i,"d MMM yyyy")]}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>t(Nd(e,1)),className:"hover:bg-primary/10","data-testid":"button-next-week",children:o.jsx(yg,{className:"w-4 h-4"})})]})]})}),o.jsxs(ce,{className:"p-0",children:[o.jsx("div",{className:"grid grid-cols-7 bg-muted/30 border-b-2",children:a.map(h=>{const f=c(h);return o.jsxs("div",{className:`relative p-3 text-center border-r last:border-r-0 transition-all duration-200 ${Fa(h)?"bg-primary/10 border-primary/20":"hover:bg-muted/20"}`,children:[o.jsx("div",{className:`text-xs font-medium mb-1 ${Fa(h)?"text-primary":"text-muted-foreground"}`,children:Je(h,"EEE")}),o.jsx("div",{className:`text-lg font-bold mb-1 ${Fa(h)?"text-primary":"text-foreground"}`,children:Je(h,"d")}),f.length>0&&o.jsx("div",{className:"flex justify-center",children:o.jsx(Te,{variant:"secondary",className:"text-xs px-2 py-0.5 bg-primary/20 text-primary border-0",children:f.length})}),Fa(h)&&o.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-6 h-1 bg-primary rounded-t-full"})]},h.toISOString())})}),o.jsx(da,{className:"h-72 lg:h-80",children:o.jsx("div",{className:"grid grid-cols-7 min-h-full",children:a.map(h=>{const f=c(h);return o.jsx("div",{className:`relative p-2 border-r last:border-r-0 min-h-[280px] transition-colors duration-200 ${Fa(h)?"bg-gradient-to-b from-primary/5 to-transparent":"hover:bg-muted/20"}`,"data-testid":`scheduler-day-${Je(h,"yyyy-MM-dd")}`,children:o.jsxs("div",{className:"space-y-2",children:[f.map((p,x)=>o.jsxs("div",{className:`group relative p-2.5 rounded-lg border-l-4 text-xs cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-[1.02] ${d(p.status)} ${p.priority==="high"?"border-l-red-400":p.priority==="medium"?"border-l-yellow-400":"border-l-green-400"}`,style:{animationDelay:`${x*.1}s`},"data-testid":`scheduler-task-${p.id}`,children:[o.jsx("div",{className:"font-semibold text-foreground mb-1.5 leading-tight",title:p.title,children:p.title.length>25?`${p.title.slice(0,25)}...`:p.title}),o.jsx("div",{className:"flex items-center gap-1 mb-2",children:o.jsxs(Te,{variant:"outline",className:`text-[10px] px-1.5 py-0.5 font-medium ${u(p.priority)}`,children:[p.priority==="high"?"🔥":p.priority==="medium"?"⚡":"📋"," ",p.priority]})}),o.jsxs("div",{className:"text-muted-foreground mb-2 flex items-center gap-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-secondary rounded-full flex-shrink-0"}),o.jsx("span",{className:"truncate",children:p.customerName})]}),p.dueDate&&o.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground mb-2",children:[o.jsx(Ks,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{className:"font-medium",children:Je(new Date(p.dueDate),"HH:mm")})]}),p.assignees&&p.assignees.length>0&&o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx("div",{className:"w-4 h-4 bg-primary/20 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-[8px] font-bold text-primary",children:p.assignees[0].name.charAt(0)})}),o.jsxs("span",{className:"text-[10px] truncate",children:[p.assignees[0].name,p.assignees.length>1&&o.jsxs("span",{className:"bg-primary/10 text-primary px-1 rounded ml-1",children:["+",p.assignees.length-1]})]})]}),p.progress>0&&o.jsxs("div",{className:"mt-2 pt-2 border-t border-muted/30",children:[o.jsxs("div",{className:"flex justify-between text-[10px] mb-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"التقدم"}),o.jsxs("span",{className:"font-bold text-primary",children:[p.progress,"%"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary rounded-full h-full transition-all duration-500",style:{width:`${p.progress}%`}})})]}),o.jsx("div",{className:"absolute inset-0 rounded-lg bg-primary/5 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none"})]},p.id)),f.length===0&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center mb-2",children:o.jsx(Fn,{className:"w-4 h-4 text-muted-foreground"})}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"لا توجد مهام"})]})]})},h.toISOString())})})})]})]})}function oG(){const{t:e}=Jt(),{data:t}=We({queryKey:["/api/tasks"]}),n=(t==null?void 0:t.filter(a=>{if(!a.dueDate)return!1;const l=new Date(a.dueDate),c=new Date,u=Gt(c,7);return l>=c&&l<=u&&a.status!=="complete"}).sort((a,l)=>new Date(a.dueDate).getTime()-new Date(l.dueDate).getTime()))||[],s=a=>Fa(a)?"اليوم":AN(a)?"غداً":Je(a,"MMM d, EEE"),r=a=>{switch(a){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},i=a=>{switch(a){case"complete":return"bg-green-100 text-green-800 border-green-300";case"start":return"bg-blue-100 text-blue-800 border-blue-300";case"pending":return"bg-orange-100 text-orange-800 border-orange-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};return o.jsxs(le,{className:"overflow-hidden",children:[o.jsx(Le,{className:"bg-gradient-to-r from-secondary/10 to-primary/10 pb-4",children:o.jsxs($e,{className:"flex items-center gap-3 text-xl font-semibold",children:[o.jsx("div",{className:"bg-secondary/20 p-2 rounded-full",children:o.jsx(Ks,{className:"w-6 h-6 text-secondary"})}),o.jsxs("div",{children:[o.jsx("div",{children:e("dashboard.upcomingSchedule")}),o.jsxs("div",{className:"text-sm font-normal text-muted-foreground",children:[n.length," مهمة قادمة في الأسبوع المقبل"]})]})]})}),o.jsx(ce,{className:"p-0",children:o.jsx(da,{className:"h-96",children:o.jsx("div",{className:"p-4 space-y-4",children:n.length>0?n.map((a,l)=>o.jsxs("div",{className:"group relative overflow-hidden p-4 rounded-xl border border-border/50 hover:border-primary/30 bg-gradient-to-r from-background to-muted/20 hover:from-primary/5 hover:to-secondary/5 transition-all duration-300 cursor-pointer transform hover:scale-[1.02] hover:shadow-lg",style:{animationDelay:`${l*.1}s`},"data-testid":`upcoming-task-${a.id}`,children:[o.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${a.priority==="high"?"bg-red-400":a.priority==="medium"?"bg-yellow-400":"bg-green-400"}`}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`flex-shrink-0 mt-1 p-2 rounded-full ${Fa(new Date(a.dueDate))?"bg-red-100 text-red-600":AN(new Date(a.dueDate))?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:o.jsx(Fn,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[o.jsx("h3",{className:"font-semibold text-base text-foreground leading-tight group-hover:text-primary transition-colors","data-testid":`upcoming-task-title-${a.id}`,children:a.title}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsxs(Te,{variant:r(a.priority),className:"text-xs font-medium",children:[a.priority==="high"?"🔥":a.priority==="medium"?"⚡":"📋",e(`priority.${a.priority}`)]}),o.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium border ${i(a.status)}`,children:e(`status.${a.status}`)})]})]}),a.description&&o.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2 leading-relaxed",children:a.description}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 bg-muted/30 rounded-lg px-3 py-2",children:[o.jsx(Fn,{className:"w-4 h-4 text-primary flex-shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"التاريخ"}),o.jsx("div",{className:"text-sm font-medium truncate","data-testid":`upcoming-task-date-${a.id}`,children:a.dueDate&&s(new Date(a.dueDate))})]})]}),a.dueDate&&o.jsxs("div",{className:"flex items-center gap-2 bg-muted/30 rounded-lg px-3 py-2",children:[o.jsx(Ks,{className:"w-4 h-4 text-secondary flex-shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"الوقت"}),o.jsx("div",{className:"text-sm font-medium",children:Je(new Date(a.dueDate),"HH:mm")})]})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-muted/30 rounded-lg px-3 py-2",children:[o.jsx(_r,{className:"w-4 h-4 text-orange-500 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"العميل"}),o.jsx("div",{className:"text-sm font-medium truncate",children:a.customerName})]})]})]}),a.assignees&&a.assignees.length>0&&o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"المُكلفون:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:a.assignees.map((c,u)=>o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-xs font-bold text-white",children:c.name.charAt(0)})}),o.jsx(Te,{variant:"outline",className:"text-xs px-2 py-1",children:c.name})]},c.id))})]}),a.progress>0&&o.jsxs("div",{className:"bg-muted/20 rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-foreground",children:"التقدم"}),o.jsxs("span",{className:"text-sm font-bold text-primary",children:[a.progress,"%"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-gradient-to-r from-primary via-secondary to-primary rounded-full h-full transition-all duration-700 ease-out relative",style:{width:`${a.progress}%`},children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})})]})]})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-secondary/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none rounded-xl"})]},a.id)):o.jsxs("div",{className:"text-center py-12","data-testid":"text-no-upcoming-tasks",children:[o.jsx("div",{className:"bg-gradient-to-br from-muted/30 to-muted/10 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-4",children:o.jsx(Fn,{className:"w-12 h-12 text-muted-foreground/50"})}),o.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"لا توجد مهام قادمة"}),o.jsx("p",{className:"text-muted-foreground",children:e("msg.noUpcomingTasks")})]})})})})]})}function lG(){const[,e]=_h(),{user:t}=zh(),{data:n,isLoading:s}=We({queryKey:["/api/team-points/stats"]});return s?o.jsxs(le,{children:[o.jsx(Le,{children:o.jsxs($e,{className:"flex items-center gap-2",children:[o.jsx(Wu,{className:"h-5 w-5 text-yellow-500"}),"نقاط الفريق"]})}),o.jsx(ce,{children:o.jsx("p",{className:"text-center text-muted-foreground",children:"جاري التحميل..."})})]}):n?o.jsxs("div",{className:"space-y-4",children:[o.jsxs(le,{className:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-950/20 dark:to-orange-950/20",children:[o.jsx(Le,{children:o.jsxs($e,{className:"flex items-center gap-2",children:[o.jsx(Wu,{className:"h-5 w-5 text-yellow-600"}),"إحصائيات النقاط"]})}),o.jsx(ce,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.totalMembers}),o.jsxs("div",{className:"text-sm text-muted-foreground flex items-center justify-center gap-1",children:[o.jsx(Jr,{className:"h-4 w-4"}),"أعضاء الفريق"]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.totalPoints||0}),o.jsxs("div",{className:"text-sm text-muted-foreground flex items-center justify-center gap-1",children:[o.jsx(Jp,{className:"h-4 w-4"}),"إجمالي النقاط"]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.averagePoints||0}),o.jsxs("div",{className:"text-sm text-muted-foreground flex items-center justify-center gap-1",children:[o.jsx(K6,{className:"h-4 w-4"}),"متوسط النقاط"]})]}),o.jsx("div",{className:"text-center",children:n.topScorer?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-lg font-bold text-yellow-600",children:n.topScorer.points}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"أعلى نقاط"}),o.jsx("div",{className:"text-xs font-medium truncate",children:n.topScorer.name})]}):o.jsx("div",{className:"text-sm text-muted-foreground",children:"لا يوجد نقاط"})})]})})]}),n.userPoints!==void 0&&o.jsxs(le,{className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20",children:[o.jsx(Le,{children:o.jsxs($e,{className:"flex items-center gap-2",children:[o.jsx(sE,{className:"h-5 w-5 text-blue-600"}),"نقاطي"]})}),o.jsx(ce,{children:o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.userPoints}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"نقطة حالية"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.userTotalEarned||0}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"إجمالي النقاط"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["#",n.userRank||"-"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"ترتيبي"})]})]})})]}),n.topPerformers&&n.topPerformers.length>0&&o.jsxs(le,{children:[o.jsx(Le,{children:o.jsxs($e,{className:"flex items-center gap-2",children:[o.jsx(Jp,{className:"h-5 w-5 text-yellow-500"}),"أفضل أداء"]})}),o.jsxs(ce,{children:[o.jsx("div",{className:"space-y-3",children:n.topPerformers.map((r,i)=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ${i===0?"bg-yellow-500":i===1?"bg-gray-400":"bg-orange-500"}`,children:i+1}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:r.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:r.role})]})]}),o.jsxs(Te,{variant:"secondary",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[r.points," نقطة"]})]},i))}),o.jsxs("div",{className:"pt-4 space-y-2",children:[o.jsxs(V,{variant:"outline",size:"sm",className:"w-full",onClick:()=>e("/admin/team-points"),children:[o.jsx(Wu,{className:"h-4 w-4 mr-2"}),"إدارة النقاط",o.jsx(E6,{className:"h-4 w-4 ml-2"})]}),(t==null?void 0:t.role)==="admin"&&o.jsxs(V,{variant:"default",size:"sm",className:"w-full",onClick:()=>e("/admin/team-points"),children:[o.jsx(Hc,{className:"h-4 w-4 mr-2"}),"إضافة نقاط"]})]})]})]})]}):null}function zi({className:e,...t}){return o.jsx("div",{className:ue("animate-pulse rounded-md bg-muted",e),...t})}function cG(){const{t:e}=Jt(),{data:t,isLoading:n}=We({queryKey:["/api/stats"]}),{data:s,isLoading:r}=We({queryKey:["/api/team-members"]}),i=(s==null?void 0:s.slice(0,2))||[];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("section",{className:"p-4",children:[o.jsx("h2",{className:"text-xl font-medium mb-4 text-on-surface","data-testid":"text-dashboard-title",children:e("dashboard.title")}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-6 desktop-grid",children:n?o.jsx(o.Fragment,{children:[...Array(4)].map((a,l)=>o.jsx(zi,{className:"h-20 sm:h-24 lg:h-28 rounded-lg"},l))}):o.jsxs(o.Fragment,{children:[o.jsx(Tf,{title:e("stats.activeTasks"),value:(t==null?void 0:t.activeTasks)||0,icon:"📋",color:"primary",testId:"stat-active-tasks"}),o.jsx(Tf,{title:e("team.title"),value:(t==null?void 0:t.teamMembers)||0,icon:"👥",color:"secondary",testId:"stat-team-members"}),o.jsx(Tf,{title:e("stats.completed"),value:(t==null?void 0:t.completed)||0,icon:"✅",color:"success",testId:"stat-completed"}),o.jsx(Tf,{title:e("stats.overdue"),value:(t==null?void 0:t.overdue)||0,icon:"⚠️",color:"error",testId:"stat-overdue"})]})}),o.jsx(qK,{})]}),o.jsx("section",{className:"px-4",children:o.jsx(lG,{})}),o.jsx("section",{className:"px-4",children:o.jsx(aG,{})}),o.jsx("section",{className:"px-4",children:o.jsx(oG,{})}),o.jsxs("section",{className:"p-4 mt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium","data-testid":"text-team-members-title",children:e("team.title")}),o.jsx(uT,{href:"/team",children:o.jsx(V,{variant:"ghost",size:"sm",className:"text-primary","data-testid":"link-view-all-team",children:e("common.viewAll")})})]}),o.jsx("div",{className:"space-y-3",children:r?o.jsx(o.Fragment,{children:[...Array(2)].map((a,l)=>o.jsx(zi,{className:"h-20 rounded-lg"},l))}):i.length>0?i.map(a=>o.jsx(j5,{member:a},a.id)):o.jsx("div",{className:"text-center py-8 text-muted-foreground","data-testid":"text-no-team-members",children:e("msg.noTeamMembers")})})]})]})}function uG({activeFilter:e,onFilterChange:t}){const n=[{key:"all",label:"الكل"},{key:"pending",label:"في الانتظار"},{key:"start",label:"بدأت"},{key:"complete",label:"مكتملة"}];return o.jsx("div",{className:"flex space-x-2 mb-4 overflow-x-auto pb-2",children:n.map(({key:s,label:r})=>o.jsx(V,{variant:e===s?"default":"secondary",size:"sm",className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap touch-manipulation ${e===s?"bg-primary text-primary-foreground":"bg-surface-variant text-on-surface hover:bg-surface-variant/80"}`,onClick:()=>t(s),"data-testid":`filter-${s}`,children:r},s))})}var Hb="Progress",qb=100,[dG,Kre]=es(Hb),[hG,fG]=dG(Hb),S5=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:r,getValueLabel:i=pG,...a}=e;(r||r===0)&&!XC(r)&&console.error(mG(`${r}`,"Progress"));const l=XC(r)?r:qb;s!==null&&!JC(s,l)&&console.error(gG(`${s}`,"Progress"));const c=JC(s,l)?s:null,u=vm(c)?i(c,l):void 0;return o.jsx(hG,{scope:n,value:c,max:l,children:o.jsx(ge.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":vm(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":_5(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});S5.displayName=Hb;var N5="ProgressIndicator",C5=m.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,r=fG(N5,n);return o.jsx(ge.div,{"data-state":_5(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:t})});C5.displayName=N5;function pG(e,t){return`${Math.round(e/t*100)}%`}function _5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function vm(e){return typeof e=="number"}function XC(e){return vm(e)&&!isNaN(e)&&e>0}function JC(e,t){return vm(e)&&!isNaN(e)&&e<=t&&e>=0}function mG(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${qb}\`.`}function gG(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${qb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var P5=S5,yG=C5;const Kb=m.forwardRef(({className:e,value:t,...n},s)=>o.jsx(P5,{ref:s,className:ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:o.jsx(yG,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Kb.displayName=P5.displayName;function k5({task:e,open:t,onOpenChange:n}){const[s,r]=m.useState(e.status),[i,a]=m.useState(e.priority),[l,c]=m.useState(e.assigneeIds||[]),[u,d]=m.useState(e.dueDate?Je(new Date(e.dueDate),"yyyy-MM-dd"):""),[h,f]=m.useState(e.progress),[p,x]=m.useState(e.finalReport||""),{user:g}=wa(),{toast:b}=at(),v=_t(),{data:y}=We({queryKey:["/api/team-members"]}),w=Ne({mutationFn:async C=>(await Ae("PUT",`/api/tasks/${e.id}`,C)).json(),onSuccess:()=>{v.invalidateQueries({queryKey:["/api/tasks"]}),v.invalidateQueries({queryKey:["/api/stats"]}),b({title:"Task updated successfully",description:"The task has been updated with your changes."}),n(!1)},onError:()=>{b({title:"Error updating task",description:"There was a problem updating the task. Please try again.",variant:"destructive"})}}),j=()=>{const C={status:s,priority:i,assigneeIds:l.length>0?l:void 0,dueDate:u?new Date(u):void 0,progress:h,finalReport:p.trim()||void 0};w.mutate(C)},N=()=>{var T;const C=g;return C!=null&&C.teamMember&&((T=e.assigneeIds)==null?void 0:T.includes(C.teamMember.id))||!1},k=()=>{const C=g;return C!=null&&C.role?C.role==="admin"||C.role==="supervisor"||N():!1};return o.jsx(Xt,{open:t,onOpenChange:n,children:o.jsxs(zt,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsx(Sn,{children:o.jsxs(Nn,{"data-testid":"modal-task-details-title",children:["تفاصيل المهمة",e.taskNumber&&o.jsxs("span",{className:"text-primary text-sm mr-2",children:["#",e.taskNumber]})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-lg mb-2","data-testid":"modal-task-title",children:e.title}),o.jsx("p",{className:"text-muted-foreground mb-4","data-testid":"modal-task-description",children:e.description})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-muted/50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Customer Information"}),o.jsx("p",{className:"font-medium text-lg","data-testid":"modal-task-customer",children:e.customerName}),e.customerPhone&&o.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"modal-customer-phone",children:["📞 ",e.customerPhone]}),e.customerAddress&&o.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"modal-customer-address",children:["📍 ",e.customerAddress]})]}),o.jsxs("div",{children:[o.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Time/Schedule"}),o.jsx("p",{className:"font-medium","data-testid":"modal-task-time",children:e.time})]}),e.notes&&o.jsxs("div",{className:"col-span-2",children:[o.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),o.jsx("p",{className:"text-sm","data-testid":"modal-task-notes",children:e.notes})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"status",className:"text-sm font-medium text-muted-foreground",children:"Status"}),o.jsxs(At,{value:s,onValueChange:r,children:[o.jsx(jt,{className:"mt-1","data-testid":"select-task-status",children:o.jsx(Mt,{})}),o.jsxs(St,{children:[o.jsx(ve,{value:"pending",children:"Pending"}),o.jsx(ve,{value:"start",children:"Started"}),o.jsx(ve,{value:"complete",children:"Complete"})]})]})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"priority",className:"text-sm font-medium text-muted-foreground",children:"Priority"}),o.jsxs(At,{value:i,onValueChange:a,children:[o.jsx(jt,{className:"mt-1","data-testid":"select-task-priority",children:o.jsx(Mt,{})}),o.jsxs(St,{children:[o.jsx(ve,{value:"low",children:"Low"}),o.jsx(ve,{value:"medium",children:"Medium"}),o.jsx(ve,{value:"high",children:"High"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"assignees",className:"text-sm font-medium text-muted-foreground",children:"Assign to Team Members (Multiple Selection)"}),o.jsx("div",{className:"mt-2 space-y-2 max-h-32 overflow-y-auto border rounded-md p-2",children:y==null?void 0:y.map(C=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(D1,{id:`assignee-edit-${C.id}`,checked:l.includes(C.id),onCheckedChange:T=>{c(T?[...l,C.id]:l.filter(M=>M!==C.id))},"data-testid":`checkbox-assignee-edit-${C.id}`}),o.jsxs(ne,{htmlFor:`assignee-edit-${C.id}`,className:"text-sm font-normal",children:[C.name," - ",C.role]})]},C.id))}),e.assignees&&e.assignees.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Currently Assigned:"}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:e.assignees.map(C=>o.jsxs("div",{className:"flex items-center space-x-2 bg-muted rounded-md px-2 py-1",children:[o.jsx("div",{className:"w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs font-medium",children:C.avatar||C.name.split(" ").map(T=>T[0]).join("")}),o.jsx("span",{className:"text-sm","data-testid":`current-assignee-${C.id}`,children:C.name})]},C.id))})]})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"dueDate",className:"text-sm font-medium text-muted-foreground",children:"Due Date"}),o.jsx(Se,{type:"date",value:u,onChange:C=>d(C.target.value),className:"mt-1","data-testid":"input-task-due-date"})]}),o.jsxs("div",{children:[o.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Progress"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{"data-testid":"modal-task-progress",children:[h,"%"]})]}),o.jsx(Kb,{value:h,className:"w-full"}),o.jsx(Se,{type:"range",min:"0",max:"100",value:h,onChange:C=>f(Number(C.target.value)),className:"mt-2","data-testid":"input-task-progress"})]})]}),k()&&o.jsxs("div",{children:[o.jsxs(ne,{htmlFor:"finalReport",className:"text-sm font-medium text-muted-foreground",children:["التقرير النهائي ",N()&&"(للمكلف بالمهمة فقط)"]}),o.jsx(Qn,{id:"finalReport",value:p,onChange:C=>x(C.target.value),placeholder:"اكتب التقرير النهائي للمهمة هنا...",className:"mt-1 min-h-[100px]","data-testid":"textarea-final-report",disabled:!N()&&(g==null?void 0:g.role)==="user"}),e.finalReport&&!N()&&(g==null?void 0:g.role)==="user"&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"يمكن فقط للمكلف بالمهمة تعديل التقرير النهائي"})]}),!k()&&e.finalReport&&o.jsxs("div",{children:[o.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"التقرير النهائي"}),o.jsx("div",{className:"mt-1 p-3 bg-muted/50 rounded border text-sm",children:e.finalReport})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(V,{className:"flex-1",onClick:j,disabled:w.isPending,"data-testid":"button-save-task",children:w.isPending?"حفظ...":"حفظ التغييرات"}),o.jsx(zb,{taskId:e.id,taskTitle:e.title}),o.jsx(V,{variant:"outline",className:"px-6",onClick:()=>n(!1),"data-testid":"button-cancel-task",children:"إلغاء"})]})]})]})})}function vG({taskId:e,currentStatus:t,onStatusChange:n}){const{toast:s}=at(),{t:r}=Jt(),i=_t(),a=Ne({mutationFn:async p=>(await Ae("PUT",`/api/tasks/${e}`,{status:p})).json(),onSuccess:(p,x)=>{i.invalidateQueries({queryKey:["/api/tasks"]}),i.invalidateQueries({queryKey:["/api/stats"]}),n==null||n(x),s({title:r("msg.taskUpdated"),description:`Task status changed to ${l(x)}`})},onError:()=>{s({title:"Error updating status",description:"There was a problem updating the task status.",variant:"destructive"})}}),l=p=>{switch(p){case"pending":return r("status.pending");case"start":return r("status.start");case"complete":return r("status.complete");default:return p}},c=p=>{switch(p){case"pending":return"secondary";case"start":return"destructive";case"complete":return"default";default:return"outline"}},u=p=>{switch(p){case"pending":return o.jsx(Ks,{className:"w-4 h-4"});case"start":return o.jsx(nN,{className:"w-4 h-4"});case"complete":return o.jsx(zx,{className:"w-4 h-4"});default:return o.jsx(Ks,{className:"w-4 h-4"})}},d=p=>{a.mutate(p)},f=(()=>{switch(t){case"pending":return{status:"start",label:"Start Task",icon:o.jsx(nN,{className:"w-4 h-4"}),variant:"default"};case"start":return{status:"complete",label:"Complete Task",icon:o.jsx(zx,{className:"w-4 h-4"}),variant:"default"};case"complete":return{status:"pending",label:"Reset to Pending",icon:o.jsx(Hx,{className:"w-4 h-4"}),variant:"outline"};default:return null}})();return o.jsxs("div",{className:"flex items-center gap-2","data-testid":`status-actions-${e}`,children:[o.jsxs(Te,{variant:c(t),className:"flex items-center gap-1","data-testid":`status-badge-${e}`,children:[u(t),l(t)]}),f&&o.jsxs(V,{size:"sm",variant:f.variant,onClick:()=>d(f.status),disabled:a.isPending,className:"flex items-center gap-1","data-testid":`status-action-${e}`,children:[a.isPending?o.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):f.icon,a.isPending?"Updating...":f.label]})]})}function xG({taskId:e,taskTitle:t,currentDueDate:n,rescheduleCount:s,open:r,onOpenChange:i}){const[a,l]=m.useState(""),[c,u]=m.useState(""),{toast:d}=at(),h=_t(),f=Ne({mutationFn:async x=>Ae("PUT",`/api/tasks/${e}/reschedule`,{newDueDate:x.newDueDate,rescheduleReason:x.rescheduleReason}),onSuccess:()=>{d({title:"تم تأجيل المهمة بنجاح",description:"تم تحديث موعد المهمة وإرسال إشعار للمكلفين",variant:"default"}),h.invalidateQueries({queryKey:["/api/tasks"]}),i(!1),l(""),u("")},onError:x=>{d({title:"فشل في تأجيل المهمة",description:x.message||"حدث خطأ أثناء تأجيل المهمة",variant:"destructive"})}}),p=x=>{if(x.preventDefault(),!a||!c.trim()){d({title:"بيانات مفقودة",description:"يرجى تحديد الموعد الجديد وسبب التأجيل",variant:"destructive"});return}const g=new Date(a),b=new Date(n);if(g<=b){d({title:"موعد غير صالح",description:"يجب أن يكون الموعد الجديد بعد الموعد الحالي",variant:"destructive"});return}f.mutate({newDueDate:g.toISOString(),rescheduleReason:c.trim()})};return o.jsx(Xt,{open:r,onOpenChange:i,children:o.jsxs(zt,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[o.jsx(Sn,{children:o.jsxs(Nn,{className:"flex items-center gap-2 text-lg",children:[o.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:o.jsx(Fn,{className:"w-5 h-5 text-blue-600"})}),"تأجيل المهمة"]})}),o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 space-y-3",children:[o.jsxs("div",{children:[o.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"اسم المهمة"}),o.jsx("p",{className:"text-sm font-semibold text-foreground",children:t})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"الموعد الحالي"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Ks,{className:"w-4 h-4 text-orange-500"}),o.jsx("span",{className:"text-sm font-medium",children:Je(new Date(n),"dd/MM/yyyy HH:mm")})]})]}),o.jsxs("div",{children:[o.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"عدد مرات التأجيل"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(wc,{className:"w-4 h-4 text-amber-500"}),o.jsxs("span",{className:"text-sm font-medium",children:[s," مرة"]})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ne,{htmlFor:"newDueDate",className:"text-sm font-medium",children:"الموعد الجديد *"}),o.jsx(Se,{id:"newDueDate",type:"datetime-local",value:a,onChange:x=>l(x.target.value),className:"w-full",required:!0,"data-testid":"input-new-due-date"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"يجب أن يكون الموعد الجديد بعد الموعد الحالي"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ne,{htmlFor:"rescheduleReason",className:"text-sm font-medium",children:"سبب التأجيل *"}),o.jsx(Qn,{id:"rescheduleReason",value:c,onChange:x=>u(x.target.value),placeholder:"اذكر السبب وراء تأجيل هذه المهمة...",className:"min-h-[100px] resize-none",required:!0,"data-testid":"textarea-reschedule-reason"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"سيتم إرسال هذا السبب في إشعار التأجيل للمكلفين والعميل"})]}),s>=2&&o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(wc,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-amber-800",children:"تحذير: تم تأجيل هذه المهمة عدة مرات"}),o.jsx("p",{className:"text-xs text-amber-700",children:"يُفضل مراجعة جدولة المهمة أو اتخاذ إجراءات لضمان إتمامها في الموعد الجديد"})]})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:f.isPending,"data-testid":"button-cancel-reschedule",children:"إلغاء"}),o.jsx(V,{type:"submit",disabled:f.isPending,className:"min-w-[120px]","data-testid":"button-confirm-reschedule",children:f.isPending?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"جاري التأجيل..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Fn,{className:"w-4 h-4 mr-2"}),"تأجيل المهمة"]})})]})]})]})})}function wG({taskId:e,taskTitle:t,customerName:n,open:s,onOpenChange:r}){const[i,a]=m.useState(""),[l,c]=m.useState(""),{toast:u}=at();wa();const d=_t(),h=Ne({mutationFn:async p=>Ae("PUT",`/api/tasks/${e}/cancel`,{cancelledBy:p.cancelledBy,cancellationReason:p.cancellationReason}),onSuccess:()=>{u({title:"تم إلغاء المهمة بنجاح",description:"تم إلغاء المهمة وإرسال إشعار للمكلفين والعميل",variant:"default"}),d.invalidateQueries({queryKey:["/api/tasks"]}),r(!1),a(""),c("")},onError:p=>{u({title:"فشل في إلغاء المهمة",description:p.message||"حدث خطأ أثناء إلغاء المهمة",variant:"destructive"})}}),f=p=>{if(p.preventDefault(),!i||!l.trim()){u({title:"بيانات مفقودة",description:"يرجى تحديد من طلب الإلغاء وسبب الإلغاء",variant:"destructive"});return}h.mutate({cancelledBy:i,cancellationReason:l.trim()})};return o.jsx(Xt,{open:s,onOpenChange:r,children:o.jsxs(zt,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[o.jsx(Sn,{children:o.jsxs(Nn,{className:"flex items-center gap-2 text-lg",children:[o.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:o.jsx(vd,{className:"w-5 h-5 text-red-600"})}),"إلغاء المهمة"]})}),o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 space-y-3",children:[o.jsxs("div",{children:[o.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"اسم المهمة"}),o.jsx("p",{className:"text-sm font-semibold text-foreground",children:t})]}),o.jsxs("div",{children:[o.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"اسم العميل"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(_r,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-sm font-medium",children:n})]})]})]}),o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(wc,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:"تحذير: إلغاء المهمة نهائي ولا يمكن التراجع عنه"}),o.jsx("p",{className:"text-xs text-red-700",children:"سيتم إرسال إشعار الإلغاء للعميل والمكلفين وتحديث النظام"})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ne,{htmlFor:"cancelledBy",className:"text-sm font-medium",children:"من طلب إلغاء المهمة؟ *"}),o.jsxs(At,{value:i,onValueChange:a,children:[o.jsx(jt,{className:"w-full","data-testid":"select-cancelled-by",children:o.jsx(Mt,{placeholder:"اختر من طلب الإلغاء"})}),o.jsxs(St,{children:[o.jsx(ve,{value:"customer",children:"العميل طلب الإلغاء"}),o.jsx(ve,{value:"admin",children:"قرار إداري من الشركة"}),o.jsx(ve,{value:"system",children:"أسباب تقنية أو ظروف طارئة"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ne,{htmlFor:"cancellationReason",className:"text-sm font-medium",children:"سبب الإلغاء *"}),o.jsx(Qn,{id:"cancellationReason",value:l,onChange:p=>c(p.target.value),placeholder:"اذكر السبب التفصيلي لإلغاء هذه المهمة...",className:"min-h-[120px] resize-none",required:!0,"data-testid":"textarea-cancellation-reason"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"سيتم تسجيل هذا السبب في النظام وإرساله في إشعار الإلغاء"})]}),i==="customer"&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-xs text-blue-700",children:[o.jsx("strong",{children:"ملاحظة:"})," عند إلغاء المهمة بناءً على طلب العميل، يُفضل التأكد من سبب الإلغاء وتسجيل أي ملاحظات مهمة لتحسين الخدمة مستقبلاً."]})}),i==="admin"&&o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-xs text-amber-700",children:[o.jsx("strong",{children:"ملاحظة:"})," الإلغاء الإداري يتطلب موافقة من المشرف أو الإدارة. تأكد من توثيق الأسباب بوضوح."]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:h.isPending,"data-testid":"button-cancel-cancellation",children:"تراجع"}),o.jsx(V,{type:"submit",variant:"destructive",disabled:h.isPending,className:"min-w-[120px]","data-testid":"button-confirm-cancellation",children:h.isPending?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"جاري الإلغاء..."]}):o.jsxs(o.Fragment,{children:[o.jsx(vd,{className:"w-4 h-4 mr-2"}),"إلغاء المهمة نهائياً"]})})]})]})]})})}function bG({task:e}){const[t,n]=m.useState(!1),[s,r]=m.useState(!1),[i,a]=m.useState(!1),{user:l}=zh(),c=p=>{switch(p){case"complete":return"bg-green-100 text-green-800 border-green-300";case"start":return"bg-blue-100 text-blue-800 border-blue-300";case"cancelled":return"bg-red-100 text-red-800 border-red-300";case"rescheduled":return"bg-purple-100 text-purple-800 border-purple-300";case"pending":default:return"bg-orange-100 text-orange-800 border-orange-300"}},u=p=>{switch(p){case"pending":return"في الانتظار";case"start":return"بدأت";case"complete":return"مكتملة";case"cancelled":return"ملغاة";case"rescheduled":return"مؤجلة";default:return p}},d=(l==null?void 0:l.role)==="admin"||(l==null?void 0:l.role)==="supervisor",h=d&&e.status!=="complete"&&e.status!=="cancelled",f=d&&e.status!=="complete"&&e.status!=="cancelled";return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"task-card","data-testid":`task-card-${e.id}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3 rtl:flex-row-reverse",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.taskNumber&&o.jsxs("span",{className:"bg-primary/10 text-primary px-2 py-1 rounded text-xs font-semibold","data-testid":`task-number-${e.id}`,children:["#",e.taskNumber]}),o.jsx("h4",{className:"font-medium text-base text-on-surface","data-testid":`task-title-${e.id}`,children:e.title})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-testid":`task-description-${e.id}`,children:e.description})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${c(e.status)} ml-3 rtl:mr-3 rtl:ml-0`,"data-testid":`task-status-${e.id}`,children:u(e.status)})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground rtl:flex-row-reverse",children:[o.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.assignees&&e.assignees.length>0&&o.jsxs("div",{className:"flex items-center space-x-1 rtl:space-x-reverse",children:[o.jsx(_r,{className:"h-3 w-3"}),o.jsxs("span",{"data-testid":`task-assignee-${e.id}`,children:[e.assignees[0].name,e.assignees.length>1&&` +${e.assignees.length-1}`]})]}),e.dueDate&&o.jsxs("div",{className:"flex items-center space-x-1 rtl:space-x-reverse",children:[o.jsx(Fn,{className:"h-3 w-3"}),o.jsx("span",{"data-testid":`task-due-date-${e.id}`,children:Je(new Date(e.dueDate),"MMM dd")})]})]}),o.jsx(V,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary-dark p-0 h-auto",onClick:()=>n(!0),"data-testid":`button-task-details-${e.id}`,children:o.jsx(yg,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vG,{taskId:e.id,currentStatus:e.status}),h&&o.jsxs(V,{variant:"outline",size:"sm",onClick:()=>r(!0),className:"text-blue-600 hover:text-blue-700 border-blue-200 hover:border-blue-300","data-testid":`button-reschedule-${e.id}`,children:[o.jsx(A6,{className:"w-3 h-3 mr-1"}),"تأجيل"]}),f&&o.jsxs(V,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"text-red-600 hover:text-red-700 border-red-200 hover:border-red-300","data-testid":`button-cancel-${e.id}`,children:[o.jsx(vd,{className:"w-3 h-3 mr-1"}),"إلغاء"]})]}),o.jsx(zb,{taskId:e.id,taskTitle:e.title})]}),e.rescheduleCount>0&&o.jsxs("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded text-xs",children:[o.jsxs("span",{className:"font-medium text-amber-800",children:["تم تأجيل هذه المهمة ",e.rescheduleCount," مرة"]}),e.rescheduleReason&&o.jsxs("p",{className:"text-amber-700 mt-1",children:["آخر سبب تأجيل: ",e.rescheduleReason]})]}),e.status==="cancelled"&&e.cancellationReason&&o.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-xs",children:[o.jsxs("span",{className:"font-medium text-red-800",children:["تم إلغاء المهمة بواسطة: ",e.cancelledBy==="customer"?"العميل":e.cancelledBy==="admin"?"الإدارة":"النظام"]}),o.jsxs("p",{className:"text-red-700 mt-1",children:["السبب: ",e.cancellationReason]})]})]})]}),o.jsx(k5,{task:e,open:t,onOpenChange:n}),e.dueDate&&o.jsx(xG,{taskId:e.id,taskTitle:e.title,currentDueDate:e.dueDate||new Date().toISOString(),rescheduleCount:e.rescheduleCount||0,open:s,onOpenChange:r}),o.jsx(wG,{taskId:e.id,taskTitle:e.title,customerName:e.customerName,open:i,onOpenChange:a})]})}const Fr={NETWORK_ERROR:"error.network",UNAUTHORIZED:"error.unauthorized",FORBIDDEN:"error.forbidden",NOT_FOUND:"error.notFound",VALIDATION_ERROR:"error.validation",SERVER_ERROR:"error.server",TIMEOUT:"error.timeout",DATABASE_ERROR:"error.database",SESSION_EXPIRED:"error.session",FILE_UPLOAD_ERROR:"error.fileUpload",INVALID_FORMAT:"error.invalidFormat",TOO_MANY_REQUESTS:"error.tooManyRequests",GENERIC_ERROR:"error.generic"};function T5(){const{toast:e}=at(),{t}=Jt();return{handleError:(r,i)=>{let a=Fr.GENERIC_ERROR,l="";r!=null&&r.message&&(r.message.includes("401")||r.message.includes("Unauthorized")?a=Fr.UNAUTHORIZED:r.message.includes("403")||r.message.includes("Forbidden")?a=Fr.FORBIDDEN:r.message.includes("404")||r.message.includes("Not Found")?a=Fr.NOT_FOUND:r.message.includes("500")||r.message.includes("Server Error")?a=Fr.SERVER_ERROR:r.message.includes("timeout")?a=Fr.TIMEOUT:r.message.includes("network")||r.message.includes("fetch")?a=Fr.NETWORK_ERROR:r.message.includes("validation")?a=Fr.VALIDATION_ERROR:r.message.includes("429")&&(a=Fr.TOO_MANY_REQUESTS),l=r.message),e({title:(i==null?void 0:i.title)||t("error.generic"),description:(i==null?void 0:i.description)||t(a)||l,variant:"destructive"}),console.error("Error handled:",{error:r,translationKey:a,message:t(a),customMessage:l})},handleSuccess:(r,i)=>{e({title:(i==null?void 0:i.title)||t("common.success"),description:(i==null?void 0:i.description)||t(r),variant:"default"})},t}}function jG(){const[e,t]=m.useState("all"),[n,s]=m.useState("newest"),[r,i]=m.useState(""),{t:a}=Jt();T5();const{data:l,isLoading:c,error:u,refetch:d}=We({queryKey:["/api/tasks"],retry:2,retryDelay:1e3});if(u)return o.jsx("div",{className:"p-4",children:o.jsxs(Wh,{variant:"destructive",className:"mb-4",children:[o.jsx(Yp,{className:"h-4 w-4"}),o.jsxs(Hh,{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:a("error.generic")}),o.jsx("p",{className:"text-sm mt-1 opacity-80",children:u.message||a("error.network")})]}),o.jsxs(V,{onClick:()=>d(),size:"sm",variant:"outline","data-testid":"button-retry-tasks",children:[o.jsx(jo,{className:"h-3 w-3 mr-1"}),a("guidance.retry")]})]})]})});const f=[...(l==null?void 0:l.filter(p=>{var x,g,b,v;if(e!=="all"&&p.status!==e)return!1;if(r.trim()){const y=r.toLowerCase();return p.title.toLowerCase().includes(y)||((x=p.description)==null?void 0:x.toLowerCase().includes(y))||((g=p.customerName)==null?void 0:g.toLowerCase().includes(y))||((b=p.customerPhone)==null?void 0:b.toLowerCase().includes(y))||((v=p.assignees)==null?void 0:v.some(w=>w.name.toLowerCase().includes(y)))}return!0}))||[]].sort((p,x)=>{switch(n){case"newest":return new Date(x.createdAt||"").getTime()-new Date(p.createdAt||"").getTime();case"oldest":return new Date(p.createdAt||"").getTime()-new Date(x.createdAt||"").getTime();case"dueDate":return!p.dueDate&&!x.dueDate?0:p.dueDate?x.dueDate?new Date(p.dueDate).getTime()-new Date(x.dueDate).getTime():-1:1;default:return 0}});return o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl font-bold text-on-surface bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent","data-testid":"text-tasks-title",children:a("nav.tasks")}),o.jsx("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:o.jsxs(At,{value:n,onValueChange:p=>s(p),children:[o.jsxs(jt,{className:"w-40 bg-white/80 backdrop-blur-sm",children:[o.jsx(mg,{className:"h-4 w-4 mr-2"}),o.jsx(Mt,{placeholder:"الترتيب"})]}),o.jsxs(St,{children:[o.jsx(ve,{value:"newest",children:"الأحدث أولاً"}),o.jsx(ve,{value:"oldest",children:"الأقدم أولاً"}),o.jsx(ve,{value:"dueDate",children:"تاريخ الاستحقاق"})]})]})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(ip,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o.jsx(Se,{type:"text",placeholder:"بحث في المهام (العنوان، الوصف، العميل، المكلف...)",value:r,onChange:p=>i(p.target.value),className:"pl-12 pr-12 h-14 text-base bg-gradient-to-r from-white/80 to-white/60 backdrop-blur-sm border-2 border-border/30 focus:border-primary/50 focus:bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200","data-testid":"input-search-tasks"}),r&&o.jsx(V,{variant:"ghost",size:"sm",className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 rounded-full hover:bg-destructive/10 hover:text-destructive transition-colors",onClick:()=>i(""),"data-testid":"button-clear-search",children:o.jsx(So,{className:"h-4 w-4"})})]}),r&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-primary/5 px-3 py-2 rounded-lg border border-primary/10",children:[o.jsx(ip,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:["تم العثور على ",o.jsx("span",{className:"font-semibold text-primary",children:f.length})," مهمة من أصل ",o.jsx("span",{className:"font-semibold",children:(l==null?void 0:l.length)||0}),r&&o.jsxs("span",{className:"font-medium",children:[' للبحث: "',o.jsx("span",{className:"text-primary",children:r}),'"']})]})]}),o.jsx(uG,{activeFilter:e,onFilterChange:t})]}),o.jsx("div",{className:"space-y-3",children:c?o.jsx(o.Fragment,{children:[...Array(5)].map((p,x)=>o.jsx(zi,{className:"h-24 rounded-lg"},x))}):f.length>0?f.map(p=>o.jsx(bG,{task:p},p.id)):o.jsx("div",{className:"text-center py-16 text-muted-foreground","data-testid":"text-no-filtered-tasks",children:o.jsx("div",{className:"bg-gradient-to-br from-muted/30 to-muted/10 rounded-2xl p-8 border border-border/30",children:r?o.jsxs(o.Fragment,{children:[o.jsx(ip,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"لم يتم العثور على نتائج"}),o.jsxs("p",{children:['لا توجد مهام تطابق البحث "',o.jsx("span",{className:"font-medium text-primary",children:r}),'"']}),o.jsx(V,{variant:"outline",className:"mt-4",onClick:()=>i(""),children:"مسح البحث"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Yp,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:e==="all"?"لا توجد مهام":"لا توجد مهام مطابقة"}),o.jsx("p",{children:e==="all"?"أنشئ مهمتك الأولى للبدء.":`لا توجد مهام ${e==="pending"?"في الانتظار":e==="start"?"قيد التنفيذ":"مكتملة"}.`})]})})})})]})}function SG(){return o.jsx(Wb,{fallback:({error:e,resetError:t})=>o.jsx(e5,{error:e,resetError:t,componentName:"صفحة المهام"}),children:o.jsx(jG,{})})}function NG(){const{t:e}=Jt(),[t,n]=m.useState(null),{data:s,isLoading:r}=We({queryKey:["/api/tasks"]}),{data:i,isLoading:a}=We({queryKey:["/api/team-members"]}),l=(s==null?void 0:s.filter(p=>p.priority==="high"))||[],c=(s==null?void 0:s.filter(p=>p.dueDate?new Date(p.dueDate)<new Date&&p.status!=="complete":!1))||[],u=(s==null?void 0:s.filter(p=>{if(!p.dueDate)return!1;const x=new Date(p.dueDate),g=new Date,b=new Date(g.getTime()+7*24*60*60*1e3);return x>=g&&x<=b&&p.status!=="complete"}))||[],d=(s==null?void 0:s.filter(p=>p.notes&&p.notes.length>0))||[],h=p=>{switch(p){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"default"}},f=({task:p,showAssignees:x=!0})=>o.jsx(le,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>n(p),"data-testid":`card-my-task-${p.id}`,children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"font-medium text-sm leading-tight","data-testid":`text-task-title-${p.id}`,children:p.title}),o.jsx(Te,{variant:h(p.priority),className:"text-xs",children:p.priority==="high"?"عالية":p.priority==="medium"?"متوسطة":"منخفضة"})]}),o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2","data-testid":`text-task-description-${p.id}`,children:p.description}),o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsxs("span",{className:"text-muted-foreground",children:["العميل: ",p.customerName]}),p.dueDate&&o.jsxs("span",{className:`flex items-center gap-1 ${new Date(p.dueDate)<new Date?"text-red-600":"text-muted-foreground"}`,children:[o.jsx(Fn,{className:"w-3 h-3"}),new Date(p.dueDate).toLocaleDateString("en-GB")]})]}),p.progress>0&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{children:"التقدم"}),o.jsxs("span",{children:[p.progress,"%"]})]}),o.jsx(Kb,{value:p.progress,className:"h-2"})]}),x&&p.assignees&&p.assignees.length>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(_r,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:p.assignees.map(g=>o.jsx(Te,{variant:"outline",className:"text-xs px-1",children:g.name},g.id))})]})]})})},p.id);return r||a?o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(zi,{className:"h-8 w-48"}),o.jsx(zi,{className:"h-4 w-32"})]}),[...Array(4)].map((p,x)=>o.jsxs("div",{className:"space-y-2",children:[o.jsx(zi,{className:"h-6 w-40"}),o.jsx("div",{className:"grid gap-3",children:[...Array(2)].map((g,b)=>o.jsx(zi,{className:"h-24 rounded-lg"},b))})]},x))]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("section",{className:"p-4",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2","data-testid":"text-my-tasks-title",children:e("myTasks.title")}),o.jsx("p",{className:"text-muted-foreground text-sm",children:e("myTasks.subtitle")})]}),o.jsxs("section",{className:"px-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(wc,{className:"w-5 h-5 text-red-600"}),o.jsxs("h2",{className:"text-lg font-medium","data-testid":"text-priority-tasks-title",children:["المهام عالية الأولوية (",l.length,")"]})]}),o.jsx("div",{className:"space-y-3",children:l.length>0?l.map(p=>o.jsx(f,{task:p},p.id)):o.jsx(le,{children:o.jsx(ce,{className:"p-6 text-center",children:o.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-priority-tasks",children:"لا توجد مهام عالية الأولوية حالياً"})})})})]}),o.jsxs("section",{className:"px-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Ks,{className:"w-5 h-5 text-red-600"}),o.jsxs("h2",{className:"text-lg font-medium","data-testid":"text-overdue-tasks-title",children:["المهام المتأخرة (",c.length,")"]})]}),o.jsx("div",{className:"space-y-3",children:c.length>0?c.map(p=>o.jsx(f,{task:p},p.id)):o.jsx(le,{children:o.jsxs(ce,{className:"p-6 text-center",children:[o.jsx(iE,{className:"w-12 h-12 text-green-600 mx-auto mb-2"}),o.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-overdue-tasks",children:"ممتاز! لا توجد مهام متأخرة"})]})})})]}),o.jsxs("section",{className:"px-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Fn,{className:"w-5 h-5 text-blue-600"}),o.jsxs("h2",{className:"text-lg font-medium","data-testid":"text-upcoming-tasks-title",children:["المهام القادمة هذا الأسبوع (",u.length,")"]})]}),o.jsx("div",{className:"space-y-3",children:u.length>0?u.map(p=>o.jsx(f,{task:p},p.id)):o.jsx(le,{children:o.jsx(ce,{className:"p-6 text-center",children:o.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-upcoming-tasks",children:"لا توجد مهام قادمة هذا الأسبوع"})})})})]}),o.jsxs("section",{className:"px-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Zp,{className:"w-5 h-5 text-purple-600"}),o.jsxs("h2",{className:"text-lg font-medium","data-testid":"text-tasks-with-comments-title",children:["المهام مع التعليقات (",d.length,")"]})]}),o.jsx("div",{className:"space-y-3",children:d.length>0?d.map(p=>o.jsx(le,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>n(p),"data-testid":`card-task-with-comment-${p.id}`,children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"font-medium text-sm","data-testid":`text-commented-task-title-${p.id}`,children:p.title}),o.jsx(Te,{variant:h(p.priority),className:"text-xs",children:p.priority==="high"?"عالية":p.priority==="medium"?"متوسطة":"منخفضة"})]}),o.jsxs("div",{className:"bg-muted/50 rounded p-2",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx(Zp,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"التعليق:"})]}),o.jsx("p",{className:"text-xs","data-testid":`text-task-comment-${p.id}`,children:p.notes})]}),p.assignees&&p.assignees.length>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(_r,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:p.assignees.map(x=>o.jsx(Te,{variant:"outline",className:"text-xs px-1",children:x.name},x.id))})]})]})})},p.id)):o.jsx(le,{children:o.jsx(ce,{className:"p-6 text-center",children:o.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-commented-tasks",children:"لا توجد مهام مع تعليقات بعد"})})})})]}),t&&o.jsx(k5,{task:t,open:!!t,onOpenChange:p=>!p&&n(null)})]})}function CG(){const[e,t]=m.useState(!1),[n,s]=m.useState(!1),{t:r}=Jt(),{user:i}=wa(),{toast:a}=at(),l=_t(),{data:c,isLoading:u}=We({queryKey:["/api/team-members"]}),d=i&&typeof i=="object"&&i!==null&&"role"in i?i.role==="admin":!1,h=Ne({mutationFn:async()=>{const g=await fetch("/api/admin/cleanup-default-members",{method:"POST",credentials:"include"});if(!g.ok){const b=await g.json().catch(()=>({}));throw new Error(b.message||"Failed to cleanup default members")}return g.json()},onSuccess:g=>{l.invalidateQueries({queryKey:["/api/team-members"]}),a({title:"تم التنظيف بنجاح",description:`${g.message} (${g.cleaned} عضو)`}),s(!1)},onError:g=>{a({title:"خطأ في التنظيف",description:g.message||"حدث خطأ أثناء تنظيف الأعضاء الافتراضيين",variant:"destructive"})}}),f=()=>{h.mutate()},p=Ne({mutationFn:async()=>{const g=await fetch("/api/admin/fix-missing-team-members",{method:"POST",credentials:"include"});if(!g.ok){const b=await g.json().catch(()=>({}));throw new Error(b.message||"Failed to fix missing team members")}return g.json()},onSuccess:g=>{l.invalidateQueries({queryKey:["/api/team-members"]}),a({title:"تم الإصلاح بنجاح",description:g.message})},onError:g=>{a({title:"خطأ في الإصلاح",description:g.message||"حدث خطأ أثناء إصلاح أعضاء الفريق المفقودين",variant:"destructive"})}}),x=()=>{p.mutate()};return o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-medium","data-testid":"text-team-title",children:r("team.title")}),o.jsxs("div",{className:"flex items-center gap-2",children:[d&&o.jsxs(o.Fragment,{children:[o.jsxs(V,{variant:"outline",size:"sm",onClick:x,disabled:p.isPending,"data-testid":"button-fix-missing",className:"text-green-600 border-green-600 hover:bg-green-50",children:[o.jsx(Hu,{className:"h-4 w-4 mr-2"}),p.isPending?"جاري الإصلاح...":"إصلاح أعضاء الفريق المفقودين"]}),c&&c.length>0&&o.jsxs(V,{variant:"outline",size:"sm",onClick:()=>s(!0),disabled:h.isPending,"data-testid":"button-cleanup-defaults",children:[o.jsx(Eh,{className:"h-4 w-4 mr-2"}),h.isPending?"جاري التنظيف...":"تنظيف الأعضاء الافتراضيين"]})]}),o.jsxs(V,{onClick:()=>t(!0),size:"sm","data-testid":"button-add-member",children:[o.jsx(Ah,{className:"h-4 w-4 mr-2"}),r("team.addMember")]})]})]}),o.jsx("div",{className:"space-y-3",children:u?o.jsx(o.Fragment,{children:[...Array(4)].map((g,b)=>o.jsx(zi,{className:"h-20 rounded-lg"},b))}):c&&c.length>0?c.map(g=>o.jsx(j5,{member:g},g.id)):o.jsx("div",{className:"text-center py-12 text-muted-foreground","data-testid":"text-no-team-members",children:"لا يوجد أعضاء فريق. أضف عضو الفريق الأول للبدء."})}),o.jsx(Xt,{open:e,onOpenChange:t,children:o.jsx(zt,{className:"sm:max-w-md",children:o.jsx(t5,{onSuccess:()=>t(!1)})})}),o.jsx(Ec,{open:n,onOpenChange:s,children:o.jsxs(ko,{children:[o.jsxs(To,{children:[o.jsx(Ao,{children:"تنظيف الأعضاء الافتراضيين"}),o.jsx(Mo,{children:"هل أنت متأكد من حذف جميع الأعضاء الافتراضيين/التجريبيين من الفريق؟ سيتم حذف الأعضاء الذين لا يملكون حسابات مستخدمين مرتبطة والأسماء النموذجية. هذا الإجراء لا يمكن التراجع عنه."})]}),o.jsxs(Eo,{children:[o.jsx(Do,{children:"إلغاء"}),o.jsx(Ro,{onClick:f,className:"bg-destructive hover:bg-destructive/90",disabled:h.isPending,children:h.isPending?"جاري التنظيف...":"تنظيف"})]})]})})]})}function _G(e,t,n){const s=[];return e.forEach(r=>typeof r!="string"?s.push(r):t[Symbol.split](r).forEach((i,a,l)=>{i!==""&&s.push(i),a<l.length-1&&s.push(n)})),s}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function e2(e,t){const n=/\$/g,s="$$$$";let r=[e];if(t==null)return r;for(const i of Object.keys(t))if(i!=="_"){let a=t[i];typeof a=="string"&&(a=n[Symbol.replace](a,s)),r=_G(r,new RegExp(`%\\{${i}\\}`,"g"),a)}return r}const PG=e=>{throw new Error(`missing string: ${e}`)};var Jd,eh,j0;class E5{constructor(t,{onMissingKey:n=PG}={}){$(this,eh);L(this,"locale");$(this,Jd);this.locale={strings:{},pluralize(s){return s===1?0:1}},Array.isArray(t)?t.forEach(z(this,eh,j0),this):z(this,eh,j0).call(this,t),U(this,Jd,n)}translate(t,n){return this.translateArray(t,n).join("")}translateArray(t,n){let s=this.locale.strings[t];if(s==null&&(S(this,Jd).call(this,t),s=t),typeof s=="object"){if(n&&typeof n.smart_count<"u"){const i=this.locale.pluralize(n.smart_count);return e2(s[i],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof s!="string")throw new Error("string was not a string");return e2(s,n)}}Jd=new WeakMap,eh=new WeakSet,j0=function(t){if(!(t!=null&&t.strings))return;const n=this.locale;Object.assign(this.locale,{strings:{...n.strings,...t.strings},pluralize:t.pluralize||n.pluralize})};class A5{constructor(t,n){L(this,"uppy");L(this,"opts");L(this,"id");L(this,"defaultLocale");L(this,"i18n");L(this,"i18nArray");L(this,"type");L(this,"VERSION");this.uppy=t,this.opts=n??{}}getPluginState(){const{plugins:t}=this.uppy.getState();return(t==null?void 0:t[this.id])||{}}setPluginState(t){const{plugins:n}=this.uppy.getState();this.uppy.setState({plugins:{...n,[this.id]:{...n[this.id],...t}}})}setOptions(t){this.opts={...this.opts,...t},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const t=new E5([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.setPluginState(void 0)}addTarget(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(t){}afterUpdate(){}}function ov(e){return e<10?`0${e}`:e.toString()}function pp(){const e=new Date,t=ov(e.getHours()),n=ov(e.getMinutes()),s=ov(e.getSeconds());return`${t}:${n}:${s}`}const kG={debug:()=>{},warn:()=>{},error:(...e)=>console.error(`[Uppy] [${pp()}]`,...e)},TG={debug:(...e)=>console.debug(`[Uppy] [${pp()}]`,...e),warn:(...e)=>console.warn(`[Uppy] [${pp()}]`,...e),error:(...e)=>console.error(`[Uppy] [${pp()}]`,...e)};function M5(e){return typeof e!="object"||e===null||!("nodeType"in e)?!1:e.nodeType===Node.ELEMENT_NODE}function EG(e,t=document){return typeof e=="string"?t.querySelector(e):M5(e)?e:null}function R5(e){for(;e&&!e.dir;)e=e.parentNode;return e==null?void 0:e.dir}var qh,Pe,D5,Oa,t2,F5,O5,I5,Gb,S0,N0,Ed={},L5=[],AG=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Kh=Array.isArray;function vr(e,t){for(var n in t)e[n]=t[n];return e}function Yb(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ad(e,t,n){var s,r,i,a={};for(i in t)i=="key"?s=t[i]:i=="ref"?r=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?qh.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)a[i]===void 0&&(a[i]=e.defaultProps[i]);return Yu(e,a,s,r,null)}function Yu(e,t,n,s,r){var i={type:e,props:t,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++D5,__i:-1,__u:0};return r==null&&Pe.vnode!=null&&Pe.vnode(i),i}function MG(){return{current:null}}function Bs(e){return e.children}function In(e,t){this.props=e,this.context=t}function Ac(e,t){if(t==null)return e.__?Ac(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Ac(e):null}function $5(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return $5(e)}}function n2(e){(!e.__d&&(e.__d=!0)&&Oa.push(e)&&!xm.__r++||t2!=Pe.debounceRendering)&&((t2=Pe.debounceRendering)||F5)(xm)}function xm(){for(var e,t,n,s,r,i,a,l=1;Oa.length;)Oa.length>l&&Oa.sort(O5),e=Oa.shift(),l=Oa.length,e.__d&&(n=void 0,r=(s=(t=e).__v).__e,i=[],a=[],t.__P&&((n=vr({},s)).__v=s.__v+1,Pe.vnode&&Pe.vnode(n),Qb(t.__P,n,s,t.__n,t.__P.namespaceURI,32&s.__u?[r]:null,i,r??Ac(s),!!(32&s.__u),a),n.__v=s.__v,n.__.__k[n.__i]=n,V5(i,n,a),n.__e!=r&&$5(n)));xm.__r=0}function U5(e,t,n,s,r,i,a,l,c,u,d){var h,f,p,x,g,b,v,y=s&&s.__k||L5,w=t.length;for(c=RG(n,t,y,c,w),h=0;h<w;h++)(p=n.__k[h])!=null&&(f=p.__i==-1?Ed:y[p.__i]||Ed,p.__i=h,b=Qb(e,p,f,r,i,a,l,c,u,d),x=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&Zb(f.ref,null,p),d.push(p.ref,p.__c||x,p)),g==null&&x!=null&&(g=x),(v=!!(4&p.__u))||f.__k===p.__k?c=B5(p,c,e,v):typeof p.type=="function"&&b!==void 0?c=b:x&&(c=x.nextSibling),p.__u&=-7);return n.__e=g,c}function RG(e,t,n,s,r){var i,a,l,c,u,d=n.length,h=d,f=0;for(e.__k=new Array(r),i=0;i<r;i++)(a=t[i])!=null&&typeof a!="boolean"&&typeof a!="function"?(c=i+f,(a=e.__k[i]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Yu(null,a,null,null,null):Kh(a)?Yu(Bs,{children:a},null,null,null):a.constructor==null&&a.__b>0?Yu(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,l=null,(u=a.__i=DG(a,n,c,h))!=-1&&(h--,(l=n[u])&&(l.__u|=2)),l==null||l.__v==null?(u==-1&&(r>d?f--:r<d&&f++),typeof a.type!="function"&&(a.__u|=4)):u!=c&&(u==c-1?f--:u==c+1?f++:(u>c?f--:f++,a.__u|=4))):e.__k[i]=null;if(h)for(i=0;i<d;i++)(l=n[i])!=null&&!(2&l.__u)&&(l.__e==s&&(s=Ac(l)),W5(l,l));return s}function B5(e,t,n,s){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=B5(r[i],t,n,s));return t}e.__e!=t&&(s&&(t&&e.type&&!t.parentNode&&(t=Ac(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Os(e,t){return t=t||[],e==null||typeof e=="boolean"||(Kh(e)?e.some(function(n){Os(n,t)}):t.push(e)),t}function DG(e,t,n,s){var r,i,a,l=e.key,c=e.type,u=t[n],d=u!=null&&(2&u.__u)==0;if(u===null&&e.key==null||d&&l==u.key&&c==u.type)return n;if(s>(d?1:0)){for(r=n-1,i=n+1;r>=0||i<t.length;)if((u=t[a=r>=0?r--:i++])!=null&&!(2&u.__u)&&l==u.key&&c==u.type)return a}return-1}function s2(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||AG.test(t)?n:n+"px"}function Ef(e,t,n,s,r){var i,a;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof s=="string"&&(e.style.cssText=s=""),s)for(t in s)n&&t in n||s2(e.style,t,"");if(n)for(t in n)s&&n[t]==s[t]||s2(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(I5,"$1")),a=t.toLowerCase(),t=a in e||t=="onFocusOut"||t=="onFocusIn"?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?s?n.u=s.u:(n.u=Gb,e.addEventListener(t,i?N0:S0,i)):e.removeEventListener(t,i?N0:S0,i);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function r2(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Gb++;else if(t.t<n.u)return;return n(Pe.event?Pe.event(t):t)}}}function Qb(e,t,n,s,r,i,a,l,c,u){var d,h,f,p,x,g,b,v,y,w,j,N,k,C,T,M,E,O=t.type;if(t.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),i=[l=t.__e=n.__e]),(d=Pe.__b)&&d(t);e:if(typeof O=="function")try{if(v=t.props,y="prototype"in O&&O.prototype.render,w=(d=O.contextType)&&s[d.__c],j=d?w?w.props.value:d.__:s,n.__c?b=(h=t.__c=n.__c).__=h.__E:(y?t.__c=h=new O(v,j):(t.__c=h=new In(v,j),h.constructor=O,h.render=OG),w&&w.sub(h),h.props=v,h.state||(h.state={}),h.context=j,h.__n=s,f=h.__d=!0,h.__h=[],h._sb=[]),y&&h.__s==null&&(h.__s=h.state),y&&O.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=vr({},h.__s)),vr(h.__s,O.getDerivedStateFromProps(v,h.__s))),p=h.props,x=h.state,h.__v=t,f)y&&O.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),y&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(y&&O.getDerivedStateFromProps==null&&v!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(v,j),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(v,h.__s,j)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(h.props=v,h.state=h.__s,h.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(D){D&&(D.__=t)}),N=0;N<h._sb.length;N++)h.__h.push(h._sb[N]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(v,h.__s,j),y&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,x,g)})}if(h.context=j,h.props=v,h.__P=e,h.__e=!1,k=Pe.__r,C=0,y){for(h.state=h.__s,h.__d=!1,k&&k(t),d=h.render(h.props,h.state,h.context),T=0;T<h._sb.length;T++)h.__h.push(h._sb[T]);h._sb=[]}else do h.__d=!1,k&&k(t),d=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++C<25);h.state=h.__s,h.getChildContext!=null&&(s=vr(vr({},s),h.getChildContext())),y&&!f&&h.getSnapshotBeforeUpdate!=null&&(g=h.getSnapshotBeforeUpdate(p,x)),M=d,d!=null&&d.type===Bs&&d.key==null&&(M=z5(d.props.children)),l=U5(e,Kh(M)?M:[M],t,n,s,r,i,a,l,c,u),h.base=t.__e,t.__u&=-161,h.__h.length&&a.push(h),b&&(h.__E=h.__=null)}catch(D){if(t.__v=null,c||i!=null)if(D.then){for(t.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;i[i.indexOf(l)]=null,t.__e=l}else{for(E=i.length;E--;)Yb(i[E]);C0(t)}else t.__e=n.__e,t.__k=n.__k,D.then||C0(t);Pe.__e(D,t,n)}else i==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=FG(n.__e,t,n,s,r,i,a,c,u);return(d=Pe.diffed)&&d(t),128&t.__u?void 0:l}function C0(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(C0)}function V5(e,t,n){for(var s=0;s<n.length;s++)Zb(n[s],n[++s],n[++s]);Pe.__c&&Pe.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(i){i.call(r)})}catch(i){Pe.__e(i,r.__v)}})}function z5(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Kh(e)?e.map(z5):vr({},e)}function FG(e,t,n,s,r,i,a,l,c){var u,d,h,f,p,x,g,b=n.props,v=t.props,y=t.type;if(y=="svg"?r="http://www.w3.org/2000/svg":y=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((p=i[u])&&"setAttribute"in p==!!y&&(y?p.localName==y:p.nodeType==3)){e=p,i[u]=null;break}}if(e==null){if(y==null)return document.createTextNode(v);e=document.createElementNS(r,y,v.is&&v),l&&(Pe.__m&&Pe.__m(t,i),l=!1),i=null}if(y==null)b===v||l&&e.data==v||(e.data=v);else{if(i=i&&qh.call(e.childNodes),b=n.props||Ed,!l&&i!=null)for(b={},u=0;u<e.attributes.length;u++)b[(p=e.attributes[u]).name]=p.value;for(u in b)if(p=b[u],u!="children"){if(u=="dangerouslySetInnerHTML")h=p;else if(!(u in v)){if(u=="value"&&"defaultValue"in v||u=="checked"&&"defaultChecked"in v)continue;Ef(e,u,null,p,r)}}for(u in v)p=v[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?x=p:u=="checked"?g=p:l&&typeof p!="function"||b[u]===p||Ef(e,u,p,b[u],r);if(d)l||h&&(d.__html==h.__html||d.__html==e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(h&&(e.innerHTML=""),U5(t.type=="template"?e.content:e,Kh(f)?f:[f],t,n,s,y=="foreignObject"?"http://www.w3.org/1999/xhtml":r,i,a,i?i[0]:n.__k&&Ac(n,0),l,c),i!=null)for(u=i.length;u--;)Yb(i[u]);l||(u="value",y=="progress"&&x==null?e.removeAttribute("value"):x!=null&&(x!==e[u]||y=="progress"&&!x||y=="option"&&x!=b[u])&&Ef(e,u,x,b[u],r),u="checked",g!=null&&g!=e[u]&&Ef(e,u,g,b[u],r))}return e}function Zb(e,t,n){try{if(typeof e=="function"){var s=typeof e.__u=="function";s&&e.__u(),s&&t==null||(e.__u=e(t))}else e.current=t}catch(r){Pe.__e(r,n)}}function W5(e,t,n){var s,r;if(Pe.unmount&&Pe.unmount(e),(s=e.ref)&&(s.current&&s.current!=e.__e||Zb(s,null,t)),(s=e.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(i){Pe.__e(i,t)}s.base=s.__P=null}if(s=e.__k)for(r=0;r<s.length;r++)s[r]&&W5(s[r],t,n||typeof e.type!="function");n||Yb(e.__e),e.__c=e.__=e.__e=void 0}function OG(e,t,n){return this.constructor(e,n)}function IG(e,t,n){var s,r,i,a;t==document&&(t=document.documentElement),Pe.__&&Pe.__(e,t),r=(s=typeof n=="function")?null:t.__k,i=[],a=[],Qb(t,e=(!s&&n||t).__k=Ad(Bs,null,[e]),r||Ed,Ed,t.namespaceURI,!s&&n?[n]:r?null:t.firstChild?qh.call(t.childNodes):null,i,!s&&n?n:r?r.__e:t.firstChild,s,a),V5(i,e,a)}function H5(e,t,n){var s,r,i,a,l=vr({},e.props);for(i in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)i=="key"?s=t[i]:i=="ref"?r=t[i]:l[i]=t[i]===void 0&&a!=null?a[i]:t[i];return arguments.length>2&&(l.children=arguments.length>3?qh.call(arguments,2):n),Yu(e.type,l,s||e.key,r||e.ref,null)}qh=L5.slice,Pe={__e:function(e,t,n,s){for(var r,i,a;t=t.__;)if((r=t.__c)&&!r.__)try{if((i=r.constructor)&&i.getDerivedStateFromError!=null&&(r.setState(i.getDerivedStateFromError(e)),a=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,s||{}),a=r.__d),a)return r.__E=r}catch(l){e=l}throw e}},D5=0,In.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=vr({},this.state),typeof e=="function"&&(e=e(vr({},n),this.props)),e&&vr(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),n2(this))},In.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),n2(this))},In.prototype.render=Bs,Oa=[],F5=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,O5=function(e,t){return e.__v.__b-t.__v.__b},xm.__r=0,I5=/(PointerCapture)$|Capture$/i,Gb=0,S0=r2(!1),N0=r2(!0);var Md,xt,lv,i2,Rd=0,q5=[],Tt=Pe,a2=Tt.__b,o2=Tt.__r,l2=Tt.diffed,c2=Tt.__c,u2=Tt.unmount,d2=Tt.__;function Xb(e,t){Tt.__h&&Tt.__h(xt,e,Rd||t),Rd=0;var n=xt.__H||(xt.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function wm(e){return Rd=1,LG(G5,e)}function LG(e,t,n){var s=Xb(Md++,2);if(s.t=e,!s.__c&&(s.__=[n?n(t):G5(void 0,t),function(l){var c=s.__N?s.__N[0]:s.__[0],u=s.t(c,l);c!==u&&(s.__N=[u,s.__[1]],s.__c.setState({}))}],s.__c=xt,!xt.__f)){var r=function(l,c,u){if(!s.__c.__H)return!0;var d=s.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,l,c,u);var h=s.__c.props!==l;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(h=!0)}}),i&&i.call(this,l,c,u)||h};xt.__f=!0;var i=xt.shouldComponentUpdate,a=xt.componentWillUpdate;xt.componentWillUpdate=function(l,c,u){if(this.__e){var d=i;i=void 0,r(l,c,u),i=d}a&&a.call(this,l,c,u)},xt.shouldComponentUpdate=r}return s.__N||s.__}function _0(e,t){var n=Xb(Md++,3);!Tt.__s&&K5(n.__H,t)&&(n.__=e,n.u=t,xt.__H.__h.push(n))}function mp(e){return Rd=5,Jb(function(){return{current:e}},[])}function Jb(e,t){var n=Xb(Md++,7);return K5(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function $G(e,t){return Rd=8,Jb(function(){return e},t)}function UG(){for(var e;e=q5.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(gp),e.__H.__h.forEach(P0),e.__H.__h=[]}catch(t){e.__H.__h=[],Tt.__e(t,e.__v)}}Tt.__b=function(e){xt=null,a2&&a2(e)},Tt.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),d2&&d2(e,t)},Tt.__r=function(e){o2&&o2(e),Md=0;var t=(xt=e.__c).__H;t&&(lv===xt?(t.__h=[],xt.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(gp),t.__h.forEach(P0),t.__h=[],Md=0)),lv=xt},Tt.diffed=function(e){l2&&l2(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(q5.push(t)!==1&&i2===Tt.requestAnimationFrame||((i2=Tt.requestAnimationFrame)||BG)(UG)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),lv=xt=null},Tt.__c=function(e,t){t.some(function(n){try{n.__h.forEach(gp),n.__h=n.__h.filter(function(s){return!s.__||P0(s)})}catch(s){t.some(function(r){r.__h&&(r.__h=[])}),t=[],Tt.__e(s,n.__v)}}),c2&&c2(e,t)},Tt.unmount=function(e){u2&&u2(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(s){try{gp(s)}catch(r){t=r}}),n.__H=void 0,t&&Tt.__e(t,n.__v))};var h2=typeof requestAnimationFrame=="function";function BG(e){var t,n=function(){clearTimeout(s),h2&&cancelAnimationFrame(t),setTimeout(e)},s=setTimeout(n,35);h2&&(t=requestAnimationFrame(n))}function gp(e){var t=xt,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),xt=t}function P0(e){var t=xt;e.__c=e.__(),xt=t}function K5(e,t){return!e||e.length!==t.length||t.some(function(n,s){return n!==e[s]})}function G5(e,t){return typeof t=="function"?t(e):t}function VG(e,t){for(var n in t)e[n]=t[n];return e}function f2(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var s in t)if(s!=="__source"&&e[s]!==t[s])return!0;return!1}function p2(e,t){this.props=e,this.context=t}(p2.prototype=new In).isPureReactComponent=!0,p2.prototype.shouldComponentUpdate=function(e,t){return f2(this.props,e)||f2(this.state,t)};var m2=Pe.__b;Pe.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),m2&&m2(e)};var zG=Pe.__e;Pe.__e=function(e,t,n,s){if(e.then){for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}zG(e,t,n,s)};var g2=Pe.unmount;function Y5(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(s){typeof s.__c=="function"&&s.__c()}),e.__c.__H=null),(e=VG({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(s){return Y5(s,t,n)})),e}function Q5(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(s){return Q5(s,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function cv(){this.__u=0,this.o=null,this.__b=null}function Z5(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Af(){this.i=null,this.l=null}Pe.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),g2&&g2(e)},(cv.prototype=new In).__c=function(e,t){var n=t.__c,s=this;s.o==null&&(s.o=[]),s.o.push(n);var r=Z5(s.__v),i=!1,a=function(){i||(i=!0,n.__R=null,r?r(l):l())};n.__R=a;var l=function(){if(!--s.__u){if(s.state.__a){var c=s.state.__a;s.__v.__k[0]=Q5(c,c.__c.__P,c.__c.__O)}var u;for(s.setState({__a:s.__b=null});u=s.o.pop();)u.forceUpdate()}};s.__u++||32&t.__u||s.setState({__a:s.__b=s.__v.__k[0]}),e.then(a,a)},cv.prototype.componentWillUnmount=function(){this.o=[]},cv.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=Y5(this.__b,n,s.__O=s.__P)}this.__b=null}var r=t.__a&&Ad(Bs,null,e.fallback);return r&&(r.__u&=-33),[Ad(Bs,null,t.__a?null:e.children),r]};var y2=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(Af.prototype=new In).__a=function(e){var t=this,n=Z5(t.__v),s=t.l.get(e);return s[0]++,function(r){var i=function(){t.props.revealOrder?(s.push(r),y2(t,e,s)):r()};n?n(i):i()}},Af.prototype.render=function(e){this.i=null,this.l=new Map;var t=Os(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Af.prototype.componentDidUpdate=Af.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){y2(e,n,t)})};var WG=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,HG=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,qG=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,KG=/[A-Z0-9]/g,GG=typeof document<"u",YG=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function v2(e,t,n){return t.__k==null&&(t.textContent=""),IG(e,t),typeof n=="function"&&n(),e?e.__c:null}In.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(In.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var x2=Pe.event;function QG(){}function ZG(){return this.cancelBubble}function XG(){return this.defaultPrevented}Pe.event=function(e){return x2&&(e=x2(e)),e.persist=QG,e.isPropagationStopped=ZG,e.isDefaultPrevented=XG,e.nativeEvent=e};var JG={enumerable:!1,configurable:!0,get:function(){return this.class}},w2=Pe.vnode;Pe.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,s=t.type,r={},i=s.indexOf("-")===-1;for(var a in n){var l=n[a];if(!(a==="value"&&"defaultValue"in n&&l==null||GG&&a==="children"&&s==="noscript"||a==="class"||a==="className")){var c=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?a="ondblclick":c!=="onchange"||s!=="input"&&s!=="textarea"||YG(n.type)?c==="onfocus"?a="onfocusin":c==="onblur"?a="onfocusout":qG.test(a)&&(a=c):c=a="oninput":i&&HG.test(a)?a=a.replace(KG,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&r[a=c]&&(a="oninputCapture"),r[a]=l}}s=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Os(n.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),s=="select"&&r.defaultValue!=null&&(r.value=Os(n.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),n.class&&!n.className?(r.class=n.class,Object.defineProperty(r,"className",JG)):(n.className&&!n.class||n.class&&n.className)&&(r.class=r.className=n.className),t.props=r}(e),e.$$typeof=WG,w2&&w2(e)};var b2=Pe.__r;Pe.__r=function(e){b2&&b2(e),e.__c};var j2=Pe.diffed;Pe.diffed=function(e){j2&&j2(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};function eY(e){let t=null,n;return(...s)=>(n=s,t||(t=Promise.resolve().then(()=>(t=null,e(...n)))),t)}var th;const Om=class Om extends A5{constructor(){super(...arguments);$(this,th);L(this,"isTargetDOMEl");L(this,"el");L(this,"parent");L(this,"title")}getTargetPlugin(n){let s;if(typeof(n==null?void 0:n.addTarget)=="function")s=n,s instanceof Om||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:s,UIPlugin:Om}}));else if(typeof n=="function"){const r=n;this.uppy.iteratePlugins(i=>{i instanceof r&&(s=i)})}return s}mount(n,s){const r=s.id,i=EG(n);if(i){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),U(this,th,eY(u=>{this.uppy.getPlugin(this.id)&&(v2(this.render(u,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${r} to a DOM element '${n}'`),this.opts.replaceTargetContent&&(i.innerHTML=""),v2(this.render(this.uppy.getState(),c),c),this.el=c,i.appendChild(c),c.dir=this.opts.direction||R5(c)||"ltr",this.onMount(),this.el}const a=this.getTargetPlugin(n);if(a)return this.uppy.log(`Installing ${r} to ${a.id}`),this.parent=a,this.el=a.addTarget(s),this.onMount(),this.el;this.uppy.log(`Not installing ${r}`);let l=`Invalid target option given to ${r}.`;throw typeof n=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(n,s){throw new Error("Extend the render method to add your plugin to a DOM element")}update(n){var s;this.el!=null&&((s=S(this,th))==null||s.call(this,n))}unmount(){var n;this.isTargetDOMEl&&((n=this.el)==null||n.remove()),this.onUnmount()}onMount(){}onUnmount(){}};th=new WeakMap;let Mc=Om;const tY="@uppy/store-default",nY="The default simple object-based store for Uppy.",sY="4.3.2",rY="MIT",iY="lib/index.js",aY="module",oY={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},lY=["file uploader","uppy","uppy-store"],cY="https://uppy.io",uY={url:"https://github.com/transloadit/uppy/issues"},dY={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},hY={type:"git",url:"git+https://github.com/transloadit/uppy.git"},fY=["src","lib","dist","CHANGELOG.md"],pY={name:tY,description:nY,version:sY,license:rY,main:iY,type:aY,scripts:oY,keywords:lY,homepage:cY,bugs:uY,devDependencies:dY,repository:hY,files:fY};var Hl,Im,J5;class X5{constructor(){$(this,Im);L(this,"state",{});$(this,Hl,new Set)}getState(){return this.state}setState(t){const n={...this.state},s={...this.state,...t};this.state=s,z(this,Im,J5).call(this,n,s,t)}subscribe(t){return S(this,Hl).add(t),()=>{S(this,Hl).delete(t)}}}Hl=new WeakMap,Im=new WeakSet,J5=function(...t){S(this,Hl).forEach(n=>{n(...t)})},L(X5,"VERSION",pY.version);function eD(e){const t=e.lastIndexOf(".");return t===-1||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}const S2={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function tD(e){var n;if(e.type)return e.type;const t=e.name?(n=eD(e.name).extension)==null?void 0:n.toLowerCase():null;return t&&t in S2?S2[t]:"application/octet-stream"}function mY(e){return e.charCodeAt(0).toString(32)}function N2(e){let t="";return e.replace(/[^A-Z0-9]/gi,n=>(t+=`-${mY(n)}`,"/"))+t}function gY(e,t){let n=t||"uppy";return typeof e.name=="string"&&(n+=`-${N2(e.name.toLowerCase())}`),e.type!==void 0&&(n+=`-${e.type}`),e.meta&&typeof e.meta.relativePath=="string"&&(n+=`-${N2(e.meta.relativePath.toLowerCase())}`),e.data.size!==void 0&&(n+=`-${e.data.size}`),e.data.lastModified!==void 0&&(n+=`-${e.data.lastModified}`),n}function yY(e){return!e.isRemote||!e.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}function vY(e,t){if(yY(e))return e.id;const n=tD(e);return gY({...e,type:n},t)}function xY(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ej=xY,wY=typeof Jh=="object"&&Jh&&Jh.Object===Object&&Jh,bY=wY,jY=bY,SY=typeof self=="object"&&self&&self.Object===Object&&self,NY=jY||SY||Function("return this")(),nD=NY,CY=nD,_Y=function(){return CY.Date.now()},PY=_Y,kY=/\s/;function TY(e){for(var t=e.length;t--&&kY.test(e.charAt(t)););return t}var EY=TY,AY=EY,MY=/^\s+/;function RY(e){return e&&e.slice(0,AY(e)+1).replace(MY,"")}var DY=RY,FY=nD,OY=FY.Symbol,sD=OY,C2=sD,rD=Object.prototype,IY=rD.hasOwnProperty,LY=rD.toString,hu=C2?C2.toStringTag:void 0;function $Y(e){var t=IY.call(e,hu),n=e[hu];try{e[hu]=void 0;var s=!0}catch{}var r=LY.call(e);return s&&(t?e[hu]=n:delete e[hu]),r}var UY=$Y,BY=Object.prototype,VY=BY.toString;function zY(e){return VY.call(e)}var WY=zY,_2=sD,HY=UY,qY=WY,KY="[object Null]",GY="[object Undefined]",P2=_2?_2.toStringTag:void 0;function YY(e){return e==null?e===void 0?GY:KY:P2&&P2 in Object(e)?HY(e):qY(e)}var QY=YY;function ZY(e){return e!=null&&typeof e=="object"}var XY=ZY,JY=QY,eQ=XY,tQ="[object Symbol]";function nQ(e){return typeof e=="symbol"||eQ(e)&&JY(e)==tQ}var sQ=nQ,rQ=DY,k2=ej,iQ=sQ,T2=NaN,aQ=/^[-+]0x[0-9a-f]+$/i,oQ=/^0b[01]+$/i,lQ=/^0o[0-7]+$/i,cQ=parseInt;function uQ(e){if(typeof e=="number")return e;if(iQ(e))return T2;if(k2(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=k2(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=rQ(e);var n=oQ.test(e);return n||lQ.test(e)?cQ(e.slice(2),n?2:8):aQ.test(e)?T2:+e}var dQ=uQ,hQ=ej,uv=PY,E2=dQ,fQ="Expected a function",pQ=Math.max,mQ=Math.min;function gQ(e,t,n){var s,r,i,a,l,c,u=0,d=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(fQ);t=E2(t)||0,hQ(n)&&(d=!!n.leading,h="maxWait"in n,i=h?pQ(E2(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function p(k){var C=s,T=r;return s=r=void 0,u=k,a=e.apply(T,C),a}function x(k){return u=k,l=setTimeout(v,t),d?p(k):a}function g(k){var C=k-c,T=k-u,M=t-C;return h?mQ(M,i-T):M}function b(k){var C=k-c,T=k-u;return c===void 0||C>=t||C<0||h&&T>=i}function v(){var k=uv();if(b(k))return y(k);l=setTimeout(v,g(k))}function y(k){return l=void 0,f&&s?p(k):(s=r=void 0,a)}function w(){l!==void 0&&clearTimeout(l),u=0,s=c=r=l=void 0}function j(){return l===void 0?a:y(uv())}function N(){var k=uv(),C=b(k);if(s=arguments,r=this,c=k,C){if(l===void 0)return x(c);if(h)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),a}return N.cancel=w,N.flush=j,N}var iD=gQ;const yQ=di(iD);var vQ=iD,xQ=ej,wQ="Expected a function";function bQ(e,t,n){var s=!0,r=!0;if(typeof e!="function")throw new TypeError(wQ);return xQ(n)&&(s="leading"in n?!!n.leading:s,r="trailing"in n?!!n.trailing:r),vQ(e,t,{leading:s,maxWait:t,trailing:r})}var jQ=bQ;const SQ=di(jQ);var NQ=function(){var t={},n=t._fns={};t.emit=function(a,l,c,u,d,h,f){var p=s(a);p.length&&r(a,p,[l,c,u,d,h,f])},t.on=function(a,l){n[a]||(n[a]=[]),n[a].push(l)},t.once=function(a,l){function c(){l.apply(this,arguments),t.off(a,c)}this.on(a,c)},t.off=function(a,l){var c=[];if(a&&l){var u=this._fns[a],d=0,h=u?u.length:0;for(d;d<h;d++)u[d]!==l&&c.push(u[d])}c.length?this._fns[a]=c:delete this._fns[a]};function s(i){var a=n[i]?n[i]:[],l=i.indexOf(":"),c=l===-1?[i]:[i.substring(0,l),i.substring(l+1)],u=Object.keys(n),d=0,h=u.length;for(d;d<h;d++){var f=u[d];if(f==="*"&&(a=a.concat(n[f])),c.length===2&&c[0]===f){a=a.concat(n[f]);break}}return a}function r(i,a,l){var c=0,u=a.length;for(c;c<u&&a[c];c++)a[c].event=i,a[c].apply(a[c],l)}return t};const CQ=di(NQ);let _Q="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",PQ=(e=21)=>{let t="",n=e|0;for(;n--;)t+=_Q[Math.random()*64|0];return t};const kQ="@uppy/core",TQ="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",EQ="4.5.3",AQ="MIT",MQ="lib/index.js",RQ="dist/style.min.css",DQ="module",FQ=["*.css"],OQ={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},IQ=["file uploader","uppy","uppy-plugin"],LQ="https://uppy.io",$Q={url:"https://github.com/transloadit/uppy/issues"},UQ={type:"git",url:"git+https://github.com/transloadit/uppy.git"},BQ=["src","lib","dist","CHANGELOG.md"],VQ={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^4.3.2","@uppy/utils":"^6.2.2",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},zQ={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},WQ={name:kQ,description:TQ,version:EQ,license:AQ,main:MQ,style:RQ,type:DQ,sideEffects:FQ,scripts:OQ,keywords:IQ,homepage:LQ,bugs:$Q,repository:UQ,files:BQ,dependencies:VQ,devDependencies:zQ};function HQ(e,t){return t.name?t.name:e.split("/")[0]==="image"?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"}const qQ={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var KQ=function(t){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected a number, got ${typeof t}`);const n=t<0;let s=Math.abs(t);if(n&&(s=-s),s===0)return"0 B";const r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.min(Math.floor(Math.log(s)/Math.log(1024)),r.length-1),a=Number(s/1024**i),l=r[i];return`${a>=10||a%1===0?Math.round(a):a.toFixed(1)} ${l}`};const Va=di(KQ);function aD(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}aD.prototype.match=function(e){var t=!0,n=this.parts,s,r=n.length,i;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)t=!1;else{for(i=(e||"").split(this.separator),s=0;t&&s<r;s++)n[s]!=="*"&&(s<i.length?t=n[s]===i[s]:t=!1);t=t&&i}else if(typeof e.splice=="function")for(t=[],s=e.length;s--;)this.match(e[s])&&(t[t.length]=e[s]);else if(typeof e=="object"){t={};for(var a in e)this.match(a)&&(t[a]=e[a])}return t};var GQ=function(e,t,n){var s=new aD(e,n||/[\/\.]/);return typeof t<"u"?s.match(t):s},YQ=GQ,QQ=/[\/\+\.]/,ZQ=function(e,t){function n(s){var r=YQ(s,e,QQ);return r&&r.length>=2}return t?n(t.split(";")[0]):n};const XQ=di(ZQ),JQ={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class As extends Error{constructor(n,s){super(n);L(this,"isUserFacing");L(this,"file");L(this,"isRestriction",!0);this.isUserFacing=(s==null?void 0:s.isUserFacing)??!0,s!=null&&s.file&&(this.file=s.file)}}class eZ{constructor(t,n){L(this,"getI18n");L(this,"getOpts");this.getI18n=n,this.getOpts=()=>{var r;const s=t();if(((r=s.restrictions)==null?void 0:r.allowedFileTypes)!=null&&!Array.isArray(s.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return s}}validateAggregateRestrictions(t,n){const{maxTotalFileSize:s,maxNumberOfFiles:r}=this.getOpts().restrictions;if(r&&t.filter(a=>!a.isGhost).length+n.length>r)throw new As(`${this.getI18n()("youCanOnlyUploadX",{smart_count:r})}`);if(s){const i=[...t,...n].reduce((a,l)=>a+(l.size??0),0);if(i>s)throw new As(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Va(s),size:Va(i)}))}}validateSingleFile(t){const{maxFileSize:n,minFileSize:s,allowedFileTypes:r}=this.getOpts().restrictions;if(r&&!r.some(a=>a.includes("/")?t.type?XQ(t.type.replace(/;.*?$/,""),a):!1:a[0]==="."&&t.extension?t.extension.toLowerCase()===a.slice(1).toLowerCase():!1)){const a=r.join(", ");throw new As(this.getI18n()("youCanOnlyUploadFileTypes",{types:a}),{file:t})}if(n&&t.size!=null&&t.size>n)throw new As(this.getI18n()("exceedsSize",{size:Va(n),file:t.name??this.getI18n()("unnamed")}),{file:t});if(s&&t.size!=null&&t.size<s)throw new As(this.getI18n()("inferiorSize",{size:Va(s)}),{file:t})}validate(t,n){n.forEach(s=>{this.validateSingleFile(s)}),this.validateAggregateRestrictions(t,n)}validateMinNumberOfFiles(t){const{minNumberOfFiles:n}=this.getOpts().restrictions;if(n&&Object.keys(t).length<n)throw new As(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:n}))}getMissingRequiredMetaFields(t){const n=new As(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:t.name??this.getI18n()("unnamed")})),{requiredMetaFields:s}=this.getOpts().restrictions,r=[];for(const i of s)(!Object.hasOwn(t.meta,i)||t.meta[i]==="")&&r.push(i);return{missingFields:r,error:n}}}function tZ(e){if(e==null&&typeof navigator<"u"&&(e=navigator.userAgent),!e)return!0;const t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;const s=t[1].split(".",2),r=parseInt(s[0],10),i=parseInt(s[1],10);return r<15||r===15&&i<15063||r>18||r===18&&i>=18218}const Mf={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var Ns,Cs,nh,Za,ql,Kl,Xa,pe,Ra,T0,oD,E0,lD,A0,M0,R0,D0,Lm,F0,Ja,cD,uD,Li,sh,_u,dD,yp,Pu;const $m=class $m{constructor(t){$(this,pe);$(this,Ns,Object.create(null));$(this,Cs);$(this,nh);$(this,Za,CQ());$(this,ql,new Set);$(this,Kl,new Set);$(this,Xa,new Set);L(this,"defaultLocale");L(this,"locale");L(this,"opts");L(this,"store");L(this,"i18n");L(this,"i18nArray");L(this,"scheduledAutoProceed",null);L(this,"wasOffline",!1);$(this,Lm,(t,n)=>{const s=t?this.getFile(t.id):void 0;if(t==null||!s){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}if(s.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${t.id}`);return}const r={bytesTotal:n.bytesTotal,percentage:n.bytesTotal!=null&&Number.isFinite(n.bytesTotal)&&n.bytesTotal>0?Math.round(n.bytesUploaded/n.bytesTotal*100):void 0};s.progress.uploadStarted!=null?this.setFileState(t.id,{progress:{...s.progress,...r,bytesUploaded:n.bytesUploaded}}):this.setFileState(t.id,{progress:{...s.progress,...r}}),S(this,Ja).call(this)});$(this,Ja,SQ(()=>z(this,pe,F0).call(this),500,{leading:!0,trailing:!0}));$(this,Li,this.updateOnlineStatus.bind(this));$(this,sh,new Map);this.defaultLocale=qQ;const n={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:JQ,meta:{},onBeforeFileAdded:(r,i)=>!Object.hasOwn(i,r.id),onBeforeUpload:r=>r,store:new X5,logger:kG,infoTimeout:5e3},s={...n,...t};this.opts={...s,restrictions:{...n.restrictions,...t==null?void 0:t.restrictions}},t!=null&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t!=null&&t.debug&&(this.opts.logger=TG),this.log(`Using Core v${$m.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...Mf,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:tZ(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),U(this,Cs,new eZ(()=>this.opts,()=>this.i18n)),U(this,nh,this.store.subscribe((r,i,a)=>{this.emit("state-update",r,i,a),this.updateAll(i)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),z(this,pe,uD).call(this)}emit(t,...n){S(this,Za).emit(t,...n)}on(t,n){return S(this,Za).on(t,n),this}once(t,n){return S(this,Za).once(t,n),this}off(t,n){return S(this,Za).off(t,n),this}updateAll(t){this.iteratePlugins(n=>{n.update(t)})}setState(t){this.store.setState(t)}getState(){return this.store.getState()}patchFilesState(t){const n=this.getState().files;this.setState({files:{...n,...Object.fromEntries(Object.entries(t).map(([s,r])=>[s,{...n[s],...r}]))}})}setFileState(t,n){if(!this.getState().files[t])throw new Error(`Can’t set state for ${t} (the file could have been removed)`);this.patchFilesState({[t]:n})}i18nInit(){const t=s=>this.log(`Missing i18n string: ${s}`,"error"),n=new E5([this.defaultLocale,this.opts.locale],{onMissingKey:t});this.i18n=n.translate.bind(n),this.i18nArray=n.translateArray.bind(n),this.locale=n.locale}setOptions(t){this.opts={...this.opts,...t,restrictions:{...this.opts.restrictions,...t==null?void 0:t.restrictions}},t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins(n=>{n.setOptions(t)}),this.setState(void 0)}resetProgress(){const t={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},n={...this.getState().files},s=Object.create(null);Object.keys(n).forEach(r=>{s[r]={...n[r],progress:{...n[r].progress,...t},tus:void 0,transloadit:void 0}}),this.setState({files:s,...Mf})}clear(){const{capabilities:t,currentUploads:n}=this.getState();if(Object.keys(n).length>0&&!t.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...Mf,files:{}})}addPreProcessor(t){S(this,ql).add(t)}removePreProcessor(t){return S(this,ql).delete(t)}addPostProcessor(t){S(this,Xa).add(t)}removePostProcessor(t){return S(this,Xa).delete(t)}addUploader(t){S(this,Kl).add(t)}removeUploader(t){return S(this,Kl).delete(t)}setMeta(t){const n={...this.getState().meta,...t},s={...this.getState().files};Object.keys(s).forEach(r=>{s[r]={...s[r],meta:{...s[r].meta,...t}}}),this.log("Adding metadata:"),this.log(t),this.setState({meta:n,files:s})}setFileMeta(t,n){const s={...this.getState().files};if(!s[t]){this.log(`Was trying to set metadata for a file that has been removed: ${t}`);return}const r={...s[t].meta,...n};s[t]={...s[t],meta:r},this.setState({files:s})}getFile(t){return this.getState().files[t]}getFiles(){const{files:t}=this.getState();return Object.values(t)}getFilesByIds(t){return t.map(n=>this.getFile(n))}getObjectOfFilesPerState(){const{files:t,totalProgress:n,error:s}=this.getState(),r=Object.values(t),i=[],a=[],l=[],c=[],u=[],d=[],h=[],f=[],p=[];for(const x of r){const{progress:g}=x;!g.uploadComplete&&g.uploadStarted&&(i.push(x),x.isPaused||f.push(x)),g.uploadStarted||a.push(x),(g.uploadStarted||g.preprocess||g.postprocess)&&l.push(x),g.uploadStarted&&c.push(x),x.isPaused&&u.push(x),g.uploadComplete&&d.push(x),x.error&&h.push(x),(g.preprocess||g.postprocess)&&p.push(x)}return{newFiles:a,startedFiles:l,uploadStartedFiles:c,pausedFiles:u,completeFiles:d,erroredFiles:h,inProgressFiles:i,inProgressNotPausedFiles:f,processingFiles:p,isUploadStarted:c.length>0,isAllComplete:n===100&&d.length===r.length&&p.length===0,isAllErrored:!!s&&h.length===r.length,isAllPaused:i.length!==0&&u.length===i.length,isUploadInProgress:i.length>0,isSomeGhost:r.some(x=>x.isGhost)}}validateRestrictions(t,n=this.getFiles()){try{S(this,Cs).validate(n,[t])}catch(s){return s}return null}validateSingleFile(t){try{S(this,Cs).validateSingleFile(t)}catch(n){return n.message}return null}validateAggregateRestrictions(t){const n=this.getFiles();try{S(this,Cs).validateAggregateRestrictions(n,t)}catch(s){return s.message}return null}checkIfFileAlreadyExists(t){const{files:n}=this.getState();return!!(n[t]&&!n[t].isGhost)}addFile(t){z(this,pe,E0).call(this,t);const{nextFilesState:n,validFilesToAdd:s,errors:r}=z(this,pe,M0).call(this,[t]),i=r.filter(l=>l.isRestriction);if(z(this,pe,Ra).call(this,i),r.length>0)throw r[0];this.setState({files:n});const[a]=s;return this.emit("file-added",a),this.emit("files-added",s),this.log(`Added file: ${a.name}, ${a.id}, mime type: ${a.type}`),z(this,pe,A0).call(this),a.id}addFiles(t){z(this,pe,E0).call(this);const{nextFilesState:n,validFilesToAdd:s,errors:r}=z(this,pe,M0).call(this,t),i=r.filter(l=>l.isRestriction);z(this,pe,Ra).call(this,i);const a=r.filter(l=>!l.isRestriction);if(a.length>0){let l=`Multiple errors occurred while adding files:
`;if(a.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:a.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(a,l);{const c=new Error(l);throw c.errors=a,c}}this.setState({files:n}),s.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",s),s.length>5?this.log(`Added batch of ${s.length} files`):Object.values(s).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),s.length>0&&z(this,pe,A0).call(this)}removeFiles(t){const{files:n,currentUploads:s}=this.getState(),r={...n},i={...s},a=Object.create(null);t.forEach(d=>{n[d]&&(a[d]=n[d],delete r[d])});function l(d){return a[d]===void 0}Object.keys(i).forEach(d=>{const h=s[d].fileIDs.filter(l);if(h.length===0){delete i[d];return}const{capabilities:f}=this.getState();if(h.length!==s[d].fileIDs.length&&!f.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");i[d]={...s[d],fileIDs:h}});const c={currentUploads:i,files:r};Object.keys(r).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),S(this,Ja).call(this);const u=Object.keys(a);u.forEach(d=>{this.emit("file-removed",a[d])}),u.length>5?this.log(`Removed ${u.length} files`):this.log(`Removed files: ${u.join(", ")}`)}removeFile(t){this.removeFiles([t])}pauseResume(t){if(!this.getState().capabilities.resumableUploads||this.getFile(t).progress.uploadComplete)return;const n=this.getFile(t),r=!(n.isPaused||!1);return this.setFileState(t,{isPaused:r}),this.emit("upload-pause",n,r),r}pauseAll(){const t={...this.getState().files};Object.keys(t).filter(s=>!t[s].progress.uploadComplete&&t[s].progress.uploadStarted).forEach(s=>{const r={...t[s],isPaused:!0};t[s]=r}),this.setState({files:t}),this.emit("pause-all")}resumeAll(){const t={...this.getState().files};Object.keys(t).filter(s=>!t[s].progress.uploadComplete&&t[s].progress.uploadStarted).forEach(s=>{const r={...t[s],isPaused:!1,error:null};t[s]=r}),this.setState({files:t}),this.emit("resume-all")}async retryAll(){const t=await z(this,pe,D0).call(this);return this.emit("complete",t),t}cancelAll(){this.emit("cancel-all");const{files:t}=this.getState(),n=Object.keys(t);n.length&&this.removeFiles(n),this.setState(Mf)}retryUpload(t){this.setFileState(t,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(t));const n=z(this,pe,_u).call(this,[t],{forceAllowNewUpload:!0});return z(this,pe,Pu).call(this,n)}logout(){this.iteratePlugins(t=>{var n,s;(s=(n=t.provider)==null?void 0:n.logout)==null||s.call(n)})}[Symbol.for("uppy test: updateTotalProgress")](){return z(this,pe,F0).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(t,...n){if(typeof t!="function"){const a=`Expected a plugin class, but got ${t===null?"null":typeof t}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(a)}const s=new t(this,...n),r=s.id;if(!r)throw new Error("Your plugin must have an id");if(!s.type)throw new Error("Your plugin must have a type");const i=this.getPlugin(r);if(i){const a=`Already found a plugin named '${i.id}'. Tried to use: '${r}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(a)}return t.VERSION&&this.log(`Using ${r} v${t.VERSION}`),s.type in S(this,Ns)?S(this,Ns)[s.type].push(s):S(this,Ns)[s.type]=[s],s.install(),this.emit("plugin-added",s),this}getPlugin(t){for(const n of Object.values(S(this,Ns))){const s=n.find(r=>r.id===t);if(s!=null)return s}}[Symbol.for("uppy test: getPlugins")](t){return S(this,Ns)[t]}iteratePlugins(t){Object.values(S(this,Ns)).flat(1).forEach(t)}removePlugin(t){this.log(`Removing plugin ${t.id}`),this.emit("plugin-remove",t),t.uninstall&&t.uninstall();const n=S(this,Ns)[t.type],s=n.findIndex(a=>a.id===t.id);s!==-1&&n.splice(s,1);const i={plugins:{...this.getState().plugins,[t.id]:void 0}};this.setState(i)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),S(this,nh).call(this),this.iteratePlugins(t=>{this.removePlugin(t)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",S(this,Li)),window.removeEventListener("offline",S(this,Li)))}hideInfo(){const{info:t}=this.getState();this.setState({info:t.slice(1)}),this.emit("info-hidden")}info(t,n="info",s=3e3){const r=typeof t=="object";this.setState({info:[...this.getState().info,{type:n,message:r?t.message:t,details:r?t.details:null}]}),setTimeout(()=>this.hideInfo(),s),this.emit("info-visible")}log(t,n){const{logger:s}=this.opts;switch(n){case"error":s.error(t);break;case"warning":s.warn(t);break;default:s.debug(t);break}}registerRequestClient(t,n){S(this,sh).set(t,n)}getRequestClientForFile(t){if(!t.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${t.id}`);const n=S(this,sh).get(t.remote.requestClientId);if(n==null)throw new Error(`requestClientId "${t.remote.requestClientId}" not registered for file "${t.id}"`);return n}restore(t){return this.log(`Core: attempting to restore upload "${t}"`),this.getState().currentUploads[t]?z(this,pe,Pu).call(this,t):(z(this,pe,yp).call(this,t),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...t){return z(this,pe,_u).call(this,...t)}addResultData(t,n){if(!z(this,pe,dD).call(this,t)){this.log(`Not setting result for an upload that has been removed: ${t}`);return}const{currentUploads:s}=this.getState(),r={...s[t],result:{...s[t].result,...n}};this.setState({currentUploads:{...s,[t]:r}})}async upload(){var r;(r=S(this,Ns).uploader)!=null&&r.length||this.log("No uploader type plugins are used","warning");let{files:t}=this.getState();if(z(this,pe,R0).call(this).length>0){const i=await z(this,pe,D0).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",i),i;({files:t}=this.getState())}const s=this.opts.onBeforeUpload(t);return s===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(s&&typeof s=="object"&&(t=s,this.setState({files:t})),Promise.resolve().then(()=>S(this,Cs).validateMinNumberOfFiles(t)).catch(i=>{throw z(this,pe,Ra).call(this,[i]),i}).then(()=>{if(!z(this,pe,oD).call(this,t))throw new As(this.i18n("missingRequiredMetaField"))}).catch(i=>{throw i}).then(async()=>{const{currentUploads:i}=this.getState(),a=Object.values(i).flatMap(d=>d.fileIDs),l=[];Object.keys(t).forEach(d=>{const h=this.getFile(d);!h.progress.uploadStarted&&a.indexOf(d)===-1&&l.push(h.id)});const c=z(this,pe,_u).call(this,l),u=await z(this,pe,Pu).call(this,c);return this.emit("complete",u),u}).catch(i=>{throw this.emit("error",i),this.log(i,"error"),i}))}};Ns=new WeakMap,Cs=new WeakMap,nh=new WeakMap,Za=new WeakMap,ql=new WeakMap,Kl=new WeakMap,Xa=new WeakMap,pe=new WeakSet,Ra=function(t){for(const a of t)a.isRestriction?this.emit("restriction-failed",a.file,a):this.emit("error",a,a.file),this.log(a,"warning");const n=t.filter(a=>a.isUserFacing),s=4,r=n.slice(0,s),i=n.slice(s);r.forEach(({message:a,details:l=""})=>{this.info({message:a,details:l},"error",this.opts.infoTimeout)}),i.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:i.length})})},T0=function(t){const{missingFields:n,error:s}=S(this,Cs).getMissingRequiredMetaFields(t);return n.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:n,error:s.message}),this.log(s.message),this.emit("restriction-failed",t,s),!1):(n.length===0&&t.missingRequiredMetaFields&&this.setFileState(t.id,{missingRequiredMetaFields:[]}),!0)},oD=function(t){let n=!0;for(const s of Object.values(t))z(this,pe,T0).call(this,s)||(n=!1);return n},E0=function(t){const{allowNewUpload:n}=this.getState();if(n===!1){const s=new As(this.i18n("noMoreFilesAllowed"),{file:t});throw z(this,pe,Ra).call(this,[s]),s}},lD=function(t){const n=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t}:t,s=tD(n),r=HQ(s,n),i=eD(r).extension,a=vY(n,this.getID()),l=n.meta||{};l.name=r,l.type=s;const c=Number.isFinite(n.data.size)?n.data.size:null;return{source:n.source||"",id:a,name:r,extension:i||"",meta:{...this.getState().meta,...l},type:s,data:n.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,isRemote:n.isRemote||!1,remote:n.remote,preview:n.preview}},A0=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(t=>{t.isRestriction||this.log(t.stack||t.message||t)})},4))},M0=function(t){var a;let{files:n}=this.getState(),s={...n};const r=[],i=[];for(const l of t)try{let c=z(this,pe,lD).call(this,l);const u=(a=n[c.id])==null?void 0:a.isGhost;u&&(c={...n[c.id],isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`));const d=this.opts.onBeforeFileAdded(c,s);if(n=this.getState().files,s={...n,...s},!d&&this.checkIfFileAlreadyExists(c.id))throw new As(this.i18n("noDuplicates",{fileName:c.name??this.i18n("unnamed")}),{file:l});if(d===!1&&!u)throw new As("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof d=="object"&&d!==null&&(c=d),S(this,Cs).validateSingleFile(c),s[c.id]=c,r.push(c)}catch(c){i.push(c)}try{S(this,Cs).validateAggregateRestrictions(Object.values(n),r)}catch(l){return i.push(l),{nextFilesState:n,validFilesToAdd:[],errors:i}}return{nextFilesState:s,validFilesToAdd:r,errors:i}},R0=function(){const{files:t}=this.getState();return Object.keys(t).filter(n=>{const s=t[n];return s.error&&(!s.missingRequiredMetaFields||s.missingRequiredMetaFields.length===0)})},D0=async function(){const t=z(this,pe,R0).call(this),n={...this.getState().files};if(t.forEach(r=>{n[r]={...n[r],isPaused:!1,error:null}}),this.setState({files:n,error:null}),this.emit("retry-all",this.getFilesByIds(t)),t.length===0)return{successful:[],failed:[]};const s=z(this,pe,_u).call(this,t,{forceAllowNewUpload:!0});return z(this,pe,Pu).call(this,s)},Lm=new WeakMap,F0=function(){const t=z(this,pe,cD).call(this);let n=null;t!=null&&(n=Math.round(t*100),n>100?n=100:n<0&&(n=0)),this.emit("progress",n??0),this.setState({totalProgress:n??0})},Ja=new WeakMap,cD=function(){const n=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(n.length===0)return 0;if(n.every(c=>c.progress.uploadComplete))return 1;const s=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,r=n.filter(s),i=n.filter(c=>!s(c));if(r.every(c=>c.progress.uploadComplete)&&i.length>0&&!i.every(c=>c.progress.uploadComplete))return null;const a=r.reduce((c,u)=>c+(u.progress.bytesTotal??0),0),l=r.reduce((c,u)=>c+(u.progress.bytesUploaded||0),0);return a===0?0:l/a},uD=function(){const t=(r,i,a)=>{let l=r.message||"Unknown error";r.details&&(l+=` ${r.details}`),this.setState({error:l}),i!=null&&i.id in this.getState().files&&this.setFileState(i.id,{error:l,response:a})};this.on("error",t),this.on("upload-error",(r,i,a)=>{if(t(i,r,a),typeof i=="object"&&i.message){this.log(i.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(r==null?void 0:r.name)??""}));l.isUserFacing=!0,l.details=i.message,i.details&&(l.details+=` ${i.details}`),z(this,pe,Ra).call(this,[l])}else z(this,pe,Ra).call(this,[i])});let n=null;this.on("upload-stalled",(r,i)=>{const{message:a}=r,l=i.map(c=>c.meta.name).join(", ");n||(this.info({message:a,details:l},"warning",this.opts.infoTimeout),n=setTimeout(()=>{n=null},this.opts.infoTimeout)),this.log(`${a} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const s=r=>{const i=r.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),a=Object.fromEntries(i.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(a)};this.on("upload-start",s),this.on("upload-progress",S(this,Lm)),this.on("upload-success",(r,i)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}const a=this.getFile(r.id).progress;this.setFileState(r.id,{progress:{...a,postprocess:S(this,Xa).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:a.bytesTotal},response:i,uploadURL:i.uploadURL,isPaused:!1}),r.size==null&&this.setFileState(r.id,{size:i.bytesUploaded||a.bytesTotal}),S(this,Ja).call(this)}),this.on("preprocess-progress",(r,i)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}this.setFileState(r.id,{progress:{...this.getFile(r.id).progress,preprocess:i}})}),this.on("preprocess-complete",r=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}const i={...this.getState().files};i[r.id]={...i[r.id],progress:{...i[r.id].progress}},delete i[r.id].progress.preprocess,this.setState({files:i})}),this.on("postprocess-progress",(r,i)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}this.setFileState(r.id,{progress:{...this.getState().files[r.id].progress,postprocess:i}})}),this.on("postprocess-complete",r=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}const i={...this.getState().files};i[r.id]={...i[r.id],progress:{...i[r.id].progress}},delete i[r.id].progress.postprocess,this.setState({files:i})}),this.on("restored",()=>{S(this,Ja).call(this)}),this.on("dashboard:file-edit-complete",r=>{r&&z(this,pe,T0).call(this,r)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",S(this,Li)),window.addEventListener("offline",S(this,Li)),setTimeout(S(this,Li),3e3))},Li=new WeakMap,sh=new WeakMap,_u=function(t,n={}){const{forceAllowNewUpload:s=!1}=n,{allowNewUpload:r,currentUploads:i}=this.getState();if(!r&&!s)throw new Error("Cannot create a new upload: already uploading.");const a=PQ();return this.emit("upload",a,this.getFilesByIds(t)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...i,[a]:{fileIDs:t,step:0,result:{}}}}),a},dD=function(t){const{currentUploads:n}=this.getState();return n[t]},yp=function(t){const n={...this.getState().currentUploads};delete n[t],this.setState({currentUploads:n})},Pu=async function(t){const n=()=>{const{currentUploads:a}=this.getState();return a[t]};let s=n();const r=[...S(this,ql),...S(this,Kl),...S(this,Xa)];try{for(let a=s.step||0;a<r.length&&s;a++){const l=r[a];this.setState({currentUploads:{...this.getState().currentUploads,[t]:{...s,step:a}}});const{fileIDs:c}=s;await l(c,t),s=n()}}catch(a){throw z(this,pe,yp).call(this,t),a}if(s){s.fileIDs.forEach(u=>{const d=this.getFile(u);d!=null&&d.progress.postprocess&&this.emit("postprocess-complete",d)});const a=s.fileIDs.map(u=>this.getFile(u)),l=a.filter(u=>!u.error),c=a.filter(u=>u.error);this.addResultData(t,{successful:l,failed:c,uploadID:t}),s=n()}let i;return s&&(i=s.result,z(this,pe,yp).call(this,t)),i==null&&(this.log(`Not setting result for an upload that has been removed: ${t}`),i={successful:[],failed:[],uploadID:t}),i},L($m,"VERSION",WQ.version);let k0=$m;var nZ=0;function P(e,t,n,s,r,i){t||(t={});var a,l,c=t;if("ref"in c)for(l in c={},t)l=="ref"?a=t[l]:c[l]=t[l];var u={type:e,props:c,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--nZ,__i:-1,__u:0,__source:r,__self:i};if(typeof e=="function"&&(a=e.defaultProps))for(l in a)c[l]===void 0&&(c[l]=a[l]);return Pe.vnode&&Pe.vnode(u),u}const sZ="@uppy/informer",rZ="A notification and error pop-up bar for Uppy.",iZ="4.3.2",aZ="MIT",oZ="lib/index.js",lZ="dist/style.min.css",cZ="module",uZ={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},dZ=["file uploader","uppy","uppy-plugin","notification","bar","ui"],hZ="https://uppy.io",fZ={url:"https://github.com/transloadit/uppy/issues"},pZ={type:"git",url:"git+https://github.com/transloadit/uppy.git"},mZ=["src","lib","dist","CHANGELOG.md"],gZ={"@uppy/utils":"^6.2.2",preact:"^10.5.13"},yZ={"@uppy/core":"^4.5.2"},vZ={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},xZ={name:sZ,description:rZ,version:iZ,license:aZ,main:oZ,style:lZ,type:cZ,scripts:uZ,keywords:dZ,homepage:hZ,bugs:fZ,repository:pZ,files:mZ,dependencies:gZ,peerDependencies:yZ,devDependencies:vZ},A2=300;class wZ extends In{constructor(){super(...arguments);L(this,"ref",MG())}componentWillEnter(n){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(n,A2)}componentWillLeave(n){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(n,A2)}render(){const{children:n}=this.props;return P("div",{className:"uppy-Informer-animated",ref:this.ref,children:n})}}function bZ(e,t){return Object.assign(e,t)}function jZ(e,t){return(e==null?void 0:e.key)??t}function SZ(e,t){const n=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return n[t]||(n[t]=s=>{e.refs[t]=s})}function fu(e){const t={};for(let n=0;n<e.length;n++)if(e[n]!=null){const s=jZ(e[n],n.toString(36));t[s]=e[n]}return t}function NZ(e,t){e=e||{},t=t||{};const n=a=>Object.hasOwn(t,a)?t[a]:e[a],s={};let r=[];for(const a in e)Object.hasOwn(t,a)?r.length&&(s[a]=r,r=[]):r.push(a);const i={};for(const a in t){if(Object.hasOwn(s,a))for(let l=0;l<s[a].length;l++){const c=s[a][l];i[s[a][l]]=n(c)}i[a]=n(a)}for(let a=0;a<r.length;a++)i[r[a]]=n(r[a]);return i}const CZ=e=>e;class hD extends In{constructor(t,n){super(t,n),this.refs={},this.state={children:fu(Os(Os(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const t=this.state.children;for(const n in t)t[n]&&this.performAppear(n)}componentWillReceiveProps(t){const n=fu(Os(t.children)||[]),s=this.state.children;this.setState(i=>({children:NZ(i.children,n)}));let r;for(r in n)if(Object.hasOwn(n,r)){const i=s&&Object.hasOwn(s,r);n[r]&&i&&this.currentlyTransitioningKeys[r]?(this.keysToEnter.push(r),this.keysToAbortLeave.push(r)):n[r]&&!i&&!this.currentlyTransitioningKeys[r]&&this.keysToEnter.push(r)}for(r in s)if(Object.hasOwn(s,r)){const i=n&&Object.hasOwn(n,r);s[r]&&!i&&!this.currentlyTransitioningKeys[r]&&this.keysToLeave.push(r)}}componentDidUpdate(){const{keysToEnter:t}=this;this.keysToEnter=[],t.forEach(this.performEnter);const{keysToLeave:n}=this;this.keysToLeave=[],n.forEach(this.performLeave)}_finishAbort(t){const n=this.keysToAbortLeave.indexOf(t);n!==-1&&this.keysToAbortLeave.splice(n,1)}performAppear(t){this.currentlyTransitioningKeys[t]=!0;const n=this.refs[t];n!=null&&n.componentWillAppear?n.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)}_handleDoneAppearing(t){const n=this.refs[t];n!=null&&n.componentDidAppear&&n.componentDidAppear(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const s=fu(Os(this.props.children)||[]);(!s||!Object.hasOwn(s,t))&&this.performLeave(t)}performEnter(t){this.currentlyTransitioningKeys[t]=!0;const n=this.refs[t];n!=null&&n.componentWillEnter?n.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)}_handleDoneEntering(t){const n=this.refs[t];n!=null&&n.componentDidEnter&&n.componentDidEnter(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const s=fu(Os(this.props.children)||[]);(!s||!Object.hasOwn(s,t))&&this.performLeave(t)}performLeave(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;this.currentlyTransitioningKeys[t]=!0;const s=this.refs[t];s!=null&&s.componentWillLeave?s.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)}_handleDoneLeaving(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;const s=this.refs[t];s!=null&&s.componentDidLeave&&s.componentDidLeave(),delete this.currentlyTransitioningKeys[t];const r=fu(Os(this.props.children)||[]);if(r&&Object.hasOwn(r,t))this.performEnter(t);else{const i=bZ({},this.state.children);delete i[t],this.setState({children:i})}}render({childFactory:t,transitionLeave:n,transitionName:s,transitionAppear:r,transitionEnter:i,transitionLeaveTimeout:a,transitionEnterTimeout:l,transitionAppearTimeout:c,component:u,...d},{children:h}){const f=Object.entries(h).map(([p,x])=>{if(!x)return;const g=SZ(this,p);return H5(t(x),{ref:g,key:p})}).filter(Boolean);return Ad(u,d,f)}}hD.defaultProps={component:"span",childFactory:CZ};class fD extends Mc{constructor(n,s){super(n,s);L(this,"render",n=>P("div",{className:"uppy uppy-Informer",children:P(hD,{children:n.info.map(s=>P(wZ,{children:P("p",{role:"alert",children:[s.message," ",s.details&&P("span",{"aria-label":s.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${s.message} 

 ${s.details}`),children:"?"})]})},s.message))})}));this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:n}=this.opts;n&&this.mount(n,this)}}L(fD,"VERSION",xZ.version);var pD={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(i=r(i,s(l)))}return i}function s(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var l in i)t.call(i,l)&&i[l]&&(a=r(a,l));return a}function r(i,a){return a?i?i+" "+a:i+a:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(pD);var _Z=pD.exports;const Js=di(_Z),PZ={position:"relative",width:"100%",minHeight:"100%"},kZ={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class TZ extends In{constructor(n){super(n);L(this,"handleScroll",()=>{this.setState({offset:this.base.scrollTop})});L(this,"handleResize",()=>{this.resize()});this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){var n;(n=this.focusElement)!=null&&n.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:n}=this.state;n!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render({data:n,rowHeight:s,renderRow:r,overscanCount:i=10,...a}){const{offset:l,height:c}=this.state;let u=Math.floor(l/s),d=Math.floor(c/s);i&&(u=Math.max(0,u-u%i),d+=i);const h=u+d+4,f=n.slice(u,h),p={...PZ,height:n.length*s},x={...kZ,top:u*s};return P("div",{onScroll:this.handleScroll,...a,children:P("div",{role:"presentation",style:p,children:P("div",{role:"presentation",style:x,children:f.map(r)})})})}}function EZ(){return P("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:P("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function M2(e,t,n,s){return e===t?e:s===0?t:e+(t-e)*2**(-s/n)}const AZ="@uppy/status-bar",MZ="A progress bar for Uppy, with many bells and whistles.",RZ="4.2.3",DZ="MIT",FZ="lib/index.js",OZ="dist/style.min.css",IZ="module",LZ={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},$Z=["file uploader","uppy","uppy-plugin","progress bar","status bar","progress","upload","eta","speed"],UZ="https://uppy.io",BZ={url:"https://github.com/transloadit/uppy/issues"},VZ={type:"git",url:"git+https://github.com/transloadit/uppy.git"},zZ=["src","lib","dist","CHANGELOG.md"],WZ={"@transloadit/prettier-bytes":"^0.3.4","@uppy/utils":"^6.2.2",classnames:"^2.2.6",preact:"^10.5.13"},HZ={"@uppy/core":"^4.5.2"},qZ={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},KZ={name:AZ,description:MZ,version:RZ,license:DZ,main:FZ,style:OZ,type:IZ,scripts:LZ,keywords:$Z,homepage:UZ,bugs:BZ,repository:VZ,files:zZ,dependencies:WZ,peerDependencies:HZ,devDependencies:qZ},GZ={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},ar={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};function YZ(e){const t=Math.floor(e/3600)%24,n=Math.floor(e/60)%60,s=Math.floor(e%60);return{hours:t,minutes:n,seconds:s}}function QZ(e){const t=YZ(e),n=t.hours===0?"":`${t.hours}h`,s=t.minutes===0?"":`${t.hours===0?t.minutes:` ${t.minutes.toString(10).padStart(2,"0")}`}m`,r=t.hours!==0?"":`${t.minutes===0?t.seconds:` ${t.seconds.toString(10).padStart(2,"0")}`}s`;return`${n}${s}${r}`}const ZZ="·",R2=()=>` ${ZZ} `;function XZ(e){const{newFiles:t,isUploadStarted:n,recoveredState:s,i18n:r,uploadState:i,isSomeGhost:a,startUpload:l}=e,c=Js("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":i===ar.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":a}),u=t&&n&&!s?r("uploadXNewFiles",{smart_count:t}):r("uploadXFiles",{smart_count:t});return P("button",{type:"button",className:c,"aria-label":r("uploadXFiles",{smart_count:t}),onClick:l,disabled:a,"data-uppy-super-focusable":!0,children:u})}function JZ(e){const{i18n:t,uppy:n}=e;return P("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:()=>n.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:P("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),t("retry")]})}function eX(e){const{i18n:t,uppy:n}=e;return P("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:()=>n.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:P("g",{fill:"none",fillRule:"evenodd",children:[P("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),P("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function tX(e){const{isAllPaused:t,i18n:n,isAllComplete:s,resumableUploads:r,uppy:i}=e,a=n(t?"resume":"pause");function l(){if(!s){if(!r){i.cancelAll();return}if(t){i.resumeAll();return}i.pauseAll()}}return P("button",{title:a,"aria-label":a,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:P("g",{fill:"none",fillRule:"evenodd",children:[P("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),P("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function nX(e){const{i18n:t,doneButtonHandler:n}=e;return P("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0,children:t("done")})}function mD(){return P("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:P("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function sX(e){const{progress:t}=e,{value:n,mode:s,message:r}=t;return P("div",{className:"uppy-StatusBar-content",children:[P(mD,{}),s==="determinate"?`${Math.round(n*100)}% · `:"",r]})}function rX(e){const{numUploads:t,complete:n,totalUploadedSize:s,totalSize:r,totalETA:i,i18n:a}=e,l=t>1,c=Va(s);return P("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&a("filesUploadedOfTotal",{complete:n,smart_count:t}),P("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&R2(),r!=null?a("dataUploadedOfTotal",{complete:c,total:Va(r)}):a("dataUploadedOfUnknown",{complete:c}),R2(),i!=null&&a("xTimeLeft",{time:QZ(i)})]})]})}function gD(e){const{i18n:t,complete:n,numUploads:s}=e;return P("div",{className:"uppy-StatusBar-statusSecondary",children:t("filesUploadedOfTotal",{complete:n,smart_count:s})})}function iX(e){const{i18n:t,newFiles:n,startUpload:s}=e,r=Js("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return P("div",{className:"uppy-StatusBar-statusSecondary",children:[P("div",{className:"uppy-StatusBar-statusSecondaryHint",children:t("xMoreFilesAdded",{smart_count:n})}),P("button",{type:"button",className:r,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:s,children:t("upload")})]})}function aX(e){const{i18n:t,supportsUploadProgress:n,totalProgress:s,showProgressDetails:r,isUploadStarted:i,isAllComplete:a,isAllPaused:l,newFiles:c,numUploads:u,complete:d,totalUploadedSize:h,totalSize:f,totalETA:p,startUpload:x}=e,g=c&&i;if(!i||a)return null;const b=t(l?"paused":"uploading");function v(){return!l&&!g&&r?n?P(rX,{numUploads:u,complete:d,totalUploadedSize:h,totalSize:f,totalETA:p,i18n:t}):P(gD,{i18n:t,complete:d,numUploads:u}):null}return P("div",{className:"uppy-StatusBar-content",title:b,children:[l?null:P(mD,{}),P("div",{className:"uppy-StatusBar-status",children:[P("div",{className:"uppy-StatusBar-statusPrimary",children:n&&s!==0?`${b}: ${s}%`:b}),v(),g?P(iX,{i18n:t,newFiles:c,startUpload:x}):null]})]})}function oX(e){const{i18n:t}=e;return P("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete"),children:P("div",{className:"uppy-StatusBar-status",children:P("div",{className:"uppy-StatusBar-statusPrimary",children:[P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:P("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),t("complete")]})})})}function lX(e){const{error:t,i18n:n,complete:s,numUploads:r}=e;function i(){const a=`${n("uploadFailed")} 

 ${t}`;alert(a)}return P("div",{className:"uppy-StatusBar-content",title:n("uploadFailed"),children:[P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:P("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),P("div",{className:"uppy-StatusBar-status",children:[P("div",{className:"uppy-StatusBar-statusPrimary",children:[n("uploadFailed"),P("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:i,type:"button",children:"?"})]}),P(gD,{i18n:n,complete:s,numUploads:r})]})]})}function dv(e){const t=[];let n="indeterminate",s;for(const{progress:i}of Object.values(e)){const{preprocess:a,postprocess:l}=i;s==null&&(a||l)&&({mode:n,message:s}=a||l),(a==null?void 0:a.mode)==="determinate"&&t.push(a.value),(l==null?void 0:l.mode)==="determinate"&&t.push(l.value)}const r=t.reduce((i,a)=>i+a/t.length,0);return{mode:n,message:s,value:r}}const{STATE_ERROR:D2,STATE_WAITING:cX,STATE_PREPROCESSING:hv,STATE_UPLOADING:Rf,STATE_POSTPROCESSING:fv,STATE_COMPLETE:Df}=ar;function uX({newFiles:e,allowNewUpload:t,isUploadInProgress:n,isAllPaused:s,resumableUploads:r,error:i,hideUploadButton:a=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:u=!1,recoveredState:d,uploadState:h,totalProgress:f,files:p,supportsUploadProgress:x,hideAfterFinish:g=!1,isSomeGhost:b,doneButtonHandler:v=void 0,isUploadStarted:y,i18n:w,startUpload:j,uppy:N,isAllComplete:k,showProgressDetails:C=void 0,numUploads:T,complete:M,totalSize:E,totalETA:O,totalUploadedSize:D}){function q(){switch(h){case fv:case hv:{const Ue=dv(p);return Ue.mode==="determinate"?Ue.value*100:f}case D2:return null;case Rf:return x?f:null;default:return f}}function W(){switch(h){case fv:case hv:{const{mode:Ue}=dv(p);return Ue==="indeterminate"}case Rf:return!x;default:return!1}}const R=q(),K=R??100,I=!i&&e&&(!n&&!s||d)&&t&&!a,_=!c&&h!==cX&&h!==Df,B=r&&!l&&h===Rf,Q=i&&!k&&!u,se=v&&h===Df,Ee=Js("uppy-StatusBar-progress",{"is-indeterminate":W()}),ft=Js("uppy-StatusBar",`is-${h}`,{"has-ghosts":b}),X=(()=>{switch(h){case hv:case fv:return P(sX,{progress:dv(p)});case Df:return P(oX,{i18n:w});case D2:return P(lX,{error:i,i18n:w,numUploads:T,complete:M});case Rf:return P(aX,{i18n:w,supportsUploadProgress:x,totalProgress:f,showProgressDetails:C,isUploadStarted:y,isAllComplete:k,isAllPaused:s,newFiles:e,numUploads:T,complete:M,totalUploadedSize:D,totalSize:E,totalETA:O,startUpload:j});default:return null}})();return!(I||Q||B||_||se)&&!X||h===Df&&g?null:P("div",{className:ft,children:[P("div",{className:Ee,style:{width:`${K}%`},role:"progressbar","aria-label":`${K}%`,"aria-valuetext":`${K}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":R}),X,P("div",{className:"uppy-StatusBar-actions",children:[I?P(XZ,{newFiles:e,isUploadStarted:y,recoveredState:d,i18n:w,isSomeGhost:b,startUpload:j,uploadState:h}):null,Q?P(JZ,{i18n:w,uppy:N}):null,B?P(tX,{isAllPaused:s,i18n:w,isAllComplete:k,resumableUploads:r,uppy:N}):null,_?P(eX,{i18n:w,uppy:N}):null,se?P(nX,{i18n:w,doneButtonHandler:v}):null]})]})}const dX=2e3,hX=2e3;function fX(e,t,n,s){if(e)return ar.STATE_ERROR;if(t)return ar.STATE_COMPLETE;if(n)return ar.STATE_WAITING;let r=ar.STATE_WAITING;const i=Object.keys(s);for(let a=0;a<i.length;a++){const{progress:l}=s[i[a]];if(l.uploadStarted&&!l.uploadComplete)return ar.STATE_UPLOADING;l.preprocess&&(r=ar.STATE_PREPROCESSING),l.postprocess&&r!==ar.STATE_PREPROCESSING&&(r=ar.STATE_POSTPROCESSING)}return r}const pX={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var Ev,$i,Ui,eo,zr,Um,yD,rh;let mX=(Ev=class extends Mc{constructor(n,s){super(n,{...pX,...s});$(this,Um);$(this,$i);$(this,Ui);$(this,eo);$(this,zr);L(this,"startUpload",()=>this.uppy.upload().catch(()=>{}));$(this,rh,()=>{const{recoveredState:n}=this.uppy.getState();if(U(this,eo,null),U(this,zr,null),n){U(this,Ui,Object.values(n.files).reduce((s,{progress:r})=>s+r.bytesUploaded,0)),this.uppy.emit("restore-confirmed");return}U(this,$i,performance.now()),U(this,Ui,0)});this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=GZ,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(n){const{capabilities:s,files:r,allowNewUpload:i,totalProgress:a,error:l,recoveredState:c}=n,{newFiles:u,startedFiles:d,completeFiles:h,isUploadStarted:f,isAllComplete:p,isAllPaused:x,isUploadInProgress:g,isSomeGhost:b}=this.uppy.getObjectOfFilesPerState(),v=c?Object.values(r):u,y=!!s.resumableUploads,w=s.uploadProgress!==!1;let j=null,N=0;d.every(C=>C.progress.bytesTotal!=null&&C.progress.bytesTotal!==0)?(j=0,d.forEach(C=>{j+=C.progress.bytesTotal||0,N+=C.progress.bytesUploaded||0})):d.forEach(C=>{N+=C.progress.bytesUploaded||0});const k=z(this,Um,yD).call(this,{uploaded:N,total:j});return uX({error:l,uploadState:fX(l,p,c,n.files||{}),allowNewUpload:i,totalProgress:a,totalSize:j,totalUploadedSize:N,isAllComplete:!1,isAllPaused:x,isUploadStarted:f,isUploadInProgress:g,isSomeGhost:b,recoveredState:c,complete:h.length,newFiles:v.length,numUploads:d.length,totalETA:k,files:r,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:y,supportsUploadProgress:w,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){const n=this.el;R5(n)||(n.dir="ltr")}install(){const{target:n}=this.opts;n&&this.mount(n,this),this.uppy.on("upload",S(this,rh)),U(this,$i,performance.now()),U(this,Ui,this.uppy.getFiles().reduce((s,r)=>s+r.progress.bytesUploaded,0))}uninstall(){this.unmount(),this.uppy.off("upload",S(this,rh))}},$i=new WeakMap,Ui=new WeakMap,eo=new WeakMap,zr=new WeakMap,Um=new WeakSet,yD=function(n){if(n.total==null||n.total===0)return null;const s=n.total-n.uploaded;if(s<=0)return null;S(this,$i)??U(this,$i,performance.now());const r=performance.now()-S(this,$i);if(r===0)return Math.round((S(this,zr)??0)/100)/10;const i=n.uploaded-S(this,Ui);if(U(this,Ui,n.uploaded),i<=0)return Math.round((S(this,zr)??0)/100)/10;const a=i/r,l=S(this,eo)==null?a:M2(a,S(this,eo),dX,r);U(this,eo,l);const c=s/l,u=Math.max(S(this,zr)-r,0),d=S(this,zr)==null?c:M2(c,u,hX,r);return U(this,zr,d),U(this,$i,performance.now()),Math.round(d/100)/10},rh=new WeakMap,L(Ev,"VERSION",KZ.version),Ev);const gX=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function yX(e,t,n){const s=gX.exec(e),r=t.mimeType??(s==null?void 0:s[1])??"plain/text";let i;if((s==null?void 0:s[2])!=null){const a=atob(decodeURIComponent(s[3])),l=new Uint8Array(a.length);for(let c=0;c<a.length;c++)l[c]=a.charCodeAt(c);i=[l]}else(s==null?void 0:s[3])!=null&&(i=[decodeURIComponent(s[3])]);return new Blob(i,{type:r})}function F2(e){return e.startsWith("blob:")}function O2(e){return e?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e):!1}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vD=typeof self<"u"?self:global;const Dd=typeof navigator<"u",vX=Dd&&typeof HTMLImageElement>"u",I2=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),xD=vD.Buffer,wD=!!xD,xX=e=>e!==void 0;function bD(e){return e===void 0||(e instanceof Map?e.size===0:Object.values(e).filter(xX).length===0)}function Vt(e){let t=new Error(e);throw delete t.stack,t}function L2(e){let t=function(n){let s=0;return n.ifd0.enabled&&(s+=1024),n.exif.enabled&&(s+=2048),n.makerNote&&(s+=2048),n.userComment&&(s+=1024),n.gps.enabled&&(s+=512),n.interop.enabled&&(s+=100),n.ifd1.enabled&&(s+=1024),s+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const pv=e=>String.fromCharCode.apply(null,e),$2=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class Ls{static from(t,n){return t instanceof this&&t.le===n?t:new Ls(t,void 0,void 0,n)}constructor(t,n=0,s,r){if(typeof r=="boolean"&&(this.le=r),Array.isArray(t)&&(t=new Uint8Array(t)),t===0)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){s===void 0&&(s=t.byteLength-n);let i=new DataView(t,n,s);this._swapDataView(i)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof Ls){s===void 0&&(s=t.byteLength-n),(n+=t.byteOffset)+s>t.byteOffset+t.byteLength&&Vt("Creating view outside of available memory in ArrayBuffer");let i=new DataView(t.buffer,n,s);this._swapDataView(i)}else if(typeof t=="number"){let i=new DataView(new ArrayBuffer(t));this._swapDataView(i)}else Vt("Invalid input argument for BufferView: "+t)}_swapArrayBuffer(t){this._swapDataView(new DataView(t))}_swapBuffer(t){this._swapDataView(new DataView(t.buffer,t.byteOffset,t.byteLength))}_swapDataView(t){this.dataView=t,this.buffer=t.buffer,this.byteOffset=t.byteOffset,this.byteLength=t.byteLength}_lengthToEnd(t){return this.byteLength-t}set(t,n,s=Ls){return t instanceof DataView||t instanceof Ls?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||Vt("BufferView.set(): Invalid data argument."),this.toUint8().set(t,n),new s(this,n,t.byteLength)}subarray(t,n){return n=n||this._lengthToEnd(t),new Ls(this,t,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(t,n){return new Uint8Array(this.buffer,this.byteOffset+t,n)}getString(t=0,n=this.byteLength){return r=this.getUint8Array(t,n),$2?$2.decode(r):wD?Buffer.from(r).toString("utf8"):decodeURIComponent(escape(pv(r)));var r}getLatin1String(t=0,n=this.byteLength){let s=this.getUint8Array(t,n);return pv(s)}getUnicodeString(t=0,n=this.byteLength){const s=[];for(let r=0;r<n&&t+r<this.byteLength;r+=2)s.push(this.getUint16(t+r));return pv(s)}getInt8(t){return this.dataView.getInt8(t)}getUint8(t){return this.dataView.getUint8(t)}getInt16(t,n=this.le){return this.dataView.getInt16(t,n)}getInt32(t,n=this.le){return this.dataView.getInt32(t,n)}getUint16(t,n=this.le){return this.dataView.getUint16(t,n)}getUint32(t,n=this.le){return this.dataView.getUint32(t,n)}getFloat32(t,n=this.le){return this.dataView.getFloat32(t,n)}getFloat64(t,n=this.le){return this.dataView.getFloat64(t,n)}getFloat(t,n=this.le){return this.dataView.getFloat32(t,n)}getDouble(t,n=this.le){return this.dataView.getFloat64(t,n)}getUintBytes(t,n,s){switch(n){case 1:return this.getUint8(t,s);case 2:return this.getUint16(t,s);case 4:return this.getUint32(t,s);case 8:return this.getUint64&&this.getUint64(t,s)}}getUint(t,n,s){switch(n){case 8:return this.getUint8(t,s);case 16:return this.getUint16(t,s);case 32:return this.getUint32(t,s);case 64:return this.getUint64&&this.getUint64(t,s)}}toString(t){return this.dataView.toString(t,this.constructor.name)}ensureChunk(){}}function O0(e,t){Vt(`${e} '${t}' was not loaded, try using full build of exifr.`)}let tj=class extends Map{constructor(t){super(),this.kind=t}get(t,n){return this.has(t)||O0(this.kind,t),n&&(t in n||function(s,r){Vt(`Unknown ${s} '${r}'.`)}(this.kind,t),n[t].enabled||O0(this.kind,t)),super.get(t)}keyList(){return Array.from(this.keys())}};var jD=new tj("file parser"),Ms=new tj("segment parser"),nj=new tj("file reader");let wX=vD.fetch;function U2(e,t){return(n=e).startsWith("data:")||n.length>1e4?L0(e,t,"base64"):I2&&e.includes("://")?I0(e,t,"url",B2):I2?L0(e,t,"fs"):Dd?I0(e,t,"url",B2):void Vt("Invalid input argument");var n}async function I0(e,t,n,s){return nj.has(n)?L0(e,t,n):s?async function(r,i){let a=await i(r);return new Ls(a)}(e,s):void Vt(`Parser ${n} is not loaded`)}async function L0(e,t,n){let s=new(nj.get(n))(e,t);return await s.read(),s}const B2=e=>wX(e).then(t=>t.arrayBuffer()),$0=e=>new Promise((t,n)=>{let s=new FileReader;s.onloadend=()=>t(s.result||new ArrayBuffer),s.onerror=n,s.readAsArrayBuffer(e)}),sj=new Map,bX=new Map,jX=new Map,Ff=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],SD=["jfif","xmp","icc","iptc","ihdr"],U0=["tiff",...SD],Lt=["ifd0","ifd1","exif","gps","interop"],Of=[...U0,...Lt],If=["makerNote","userComment"],ND=["translateKeys","translateValues","reviveValues","multiSegment"],Lf=[...ND,"sanitize","mergeOutput","silentErrors"];class CD{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class pu extends CD{get needed(){return this.enabled||this.deps.size>0}constructor(t,n,s,r){if(super(),qe(this,"enabled",!1),qe(this,"skip",new Set),qe(this,"pick",new Set),qe(this,"deps",new Set),qe(this,"translateKeys",!1),qe(this,"translateValues",!1),qe(this,"reviveValues",!1),this.key=t,this.enabled=n,this.parse=this.enabled,this.applyInheritables(r),this.canBeFiltered=Lt.includes(t),this.canBeFiltered&&(this.dict=sj.get(t)),s!==void 0)if(Array.isArray(s))this.parse=this.enabled=!0,this.canBeFiltered&&s.length>0&&this.translateTagSet(s,this.pick);else if(typeof s=="object"){if(this.enabled=!0,this.parse=s.parse!==!1,this.canBeFiltered){let{pick:i,skip:a}=s;i&&i.length>0&&this.translateTagSet(i,this.pick),a&&a.length>0&&this.translateTagSet(a,this.skip)}this.applyInheritables(s)}else s===!0||s===!1?this.parse=this.enabled=s:Vt(`Invalid options argument: ${s}`)}applyInheritables(t){let n,s;for(n of ND)s=t[n],s!==void 0&&(this[n]=s)}translateTagSet(t,n){if(this.dict){let s,r,{tagKeys:i,tagValues:a}=this.dict;for(s of t)typeof s=="string"?(r=a.indexOf(s),r===-1&&(r=i.indexOf(Number(s))),r!==-1&&n.add(Number(i[r]))):n.add(s)}else for(let s of t)n.add(s)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,bm(this.pick,this.deps)):this.enabled&&this.pick.size>0&&bm(this.pick,this.deps)}}var mn={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},V2=new Map;class rj extends CD{static useCached(t){let n=V2.get(t);return n!==void 0||(n=new this(t),V2.set(t,n)),n}constructor(t){super(),t===!0?this.setupFromTrue():t===void 0?this.setupFromUndefined():Array.isArray(t)?this.setupFromArray(t):typeof t=="object"?this.setupFromObject(t):Vt(`Invalid options argument ${t}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Dd?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let t;for(t of Ff)this[t]=mn[t];for(t of Lf)this[t]=mn[t];for(t of If)this[t]=mn[t];for(t of Of)this[t]=new pu(t,mn[t],void 0,this)}setupFromTrue(){let t;for(t of Ff)this[t]=mn[t];for(t of Lf)this[t]=mn[t];for(t of If)this[t]=!0;for(t of Of)this[t]=new pu(t,!0,void 0,this)}setupFromArray(t){let n;for(n of Ff)this[n]=mn[n];for(n of Lf)this[n]=mn[n];for(n of If)this[n]=mn[n];for(n of Of)this[n]=new pu(n,!1,void 0,this);this.setupGlobalFilters(t,void 0,Lt)}setupFromObject(t){let n;for(n of(Lt.ifd0=Lt.ifd0||Lt.image,Lt.ifd1=Lt.ifd1||Lt.thumbnail,Object.assign(this,t),Ff))this[n]=mv(t[n],mn[n]);for(n of Lf)this[n]=mv(t[n],mn[n]);for(n of If)this[n]=mv(t[n],mn[n]);for(n of U0)this[n]=new pu(n,mn[n],t[n],this);for(n of Lt)this[n]=new pu(n,mn[n],t[n],this.tiff);this.setupGlobalFilters(t.pick,t.skip,Lt,Of),t.tiff===!0?this.batchEnableWithBool(Lt,!0):t.tiff===!1?this.batchEnableWithUserValue(Lt,t):Array.isArray(t.tiff)?this.setupGlobalFilters(t.tiff,void 0,Lt):typeof t.tiff=="object"&&this.setupGlobalFilters(t.tiff.pick,t.tiff.skip,Lt)}batchEnableWithBool(t,n){for(let s of t)this[s].enabled=n}batchEnableWithUserValue(t,n){for(let s of t){let r=n[s];this[s].enabled=r!==!1&&r!==void 0}}setupGlobalFilters(t,n,s,r=s){if(t&&t.length){for(let a of r)this[a].enabled=!1;let i=z2(t,s);for(let[a,l]of i)bm(this[a].pick,l),this[a].enabled=!0}else if(n&&n.length){let i=z2(n,s);for(let[a,l]of i)bm(this[a].skip,l)}}filterNestedSegmentTags(){let{ifd0:t,exif:n,xmp:s,iptc:r,icc:i}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),s.enabled||t.skip.add(700),r.enabled||t.skip.add(33723),i.enabled||t.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:t,exif:n,gps:s,interop:r}=this;r.needed&&(n.deps.add(40965),t.deps.add(40965)),n.needed&&t.deps.add(34665),s.needed&&t.deps.add(34853),this.tiff.enabled=Lt.some(i=>this[i].enabled===!0)||this.makerNote||this.userComment;for(let i of Lt)this[i].finalizeFilters()}get onlyTiff(){return!SD.map(t=>this[t].enabled).some(t=>t===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let t of U0)this[t].enabled&&!Ms.has(t)&&O0("segment parser",t)}}function z2(e,t){let n,s,r,i,a=[];for(r of t){for(i of(n=sj.get(r),s=[],n))(e.includes(i[0])||e.includes(i[1]))&&s.push(i[0]);s.length&&a.push([r,s])}return a}function mv(e,t){return e!==void 0?e:t!==void 0?t:void 0}function bm(e,t){for(let n of t)e.add(n)}qe(rj,"default",mn);class SX{constructor(t){qe(this,"parsers",{}),qe(this,"output",{}),qe(this,"errors",[]),qe(this,"pushToErrors",n=>this.errors.push(n)),this.options=rj.useCached(t)}async read(t){this.file=await function(n,s){return typeof n=="string"?U2(n,s):Dd&&!vX&&n instanceof HTMLImageElement?U2(n.src,s):n instanceof Uint8Array||n instanceof ArrayBuffer||n instanceof DataView?new Ls(n):Dd&&n instanceof Blob?I0(n,s,"blob",$0):void Vt("Invalid input argument")}(t,this.options)}setup(){if(this.fileParser)return;let{file:t}=this,n=t.getUint16(0);for(let[s,r]of jD)if(r.canHandle(t,n))return this.fileParser=new r(this.options,this.file,this.parsers),t[s]=!0;this.file.close&&this.file.close(),Vt("Unknown file format")}async parse(){let{output:t,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(t.errors=n),bD(s=t)?void 0:s;var s}async executeParsers(){let{output:t}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async s=>{let r=await s.parse();s.assignToOutput(t,r)});this.options.silentErrors&&(n=n.map(s=>s.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:t,file:n}=this,s=Ms.get("tiff",t);var r;if(n.tiff?r={start:0,type:"tiff"}:n.jpeg&&(r=await this.fileParser.getOrFindSegment("tiff")),r===void 0)return;let i=await this.fileParser.ensureSegmentChunk(r),a=this.parsers.tiff=new s(i,t,n),l=await a.extractThumbnail();return n.close&&n.close(),l}}class vl{static findPosition(t,n){let s=t.getUint16(n+2)+2,r=typeof this.headerLength=="function"?this.headerLength(t,n,s):this.headerLength,i=n+r,a=s-r;return{offset:n,length:s,headerLength:r,start:i,size:a,end:i+a}}static parse(t,n={}){return new this(t,new rj({[this.type]:n}),t).parse()}normalizeInput(t){return t instanceof Ls?t:new Ls(t)}constructor(t,n={},s){qe(this,"errors",[]),qe(this,"raw",new Map),qe(this,"handleError",r=>{if(!this.options.silentErrors)throw r;this.errors.push(r.message)}),this.chunk=this.normalizeInput(t),this.file=s,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(t,n){let s=jX.get(n),r=bX.get(n),i=sj.get(n),a=this.options[n],l=a.reviveValues&&!!s,c=a.translateValues&&!!r,u=a.translateKeys&&!!i,d={};for(let[h,f]of t)l&&s.has(h)?f=s.get(h)(f):c&&r.has(h)&&(f=this.translateValue(f,r.get(h))),u&&i.has(h)&&(h=i.get(h)||h),d[h]=f;return d}translateValue(t,n){return n[t]||n.DEFAULT||t}assignToOutput(t,n){this.assignObjectToOutput(t,this.constructor.type,n)}assignObjectToOutput(t,n,s){if(this.globalOptions.mergeOutput)return Object.assign(t,s);t[n]?Object.assign(t[n],s):t[n]=s}}qe(vl,"headerLength",4),qe(vl,"type",void 0),qe(vl,"multiSegment",!1),qe(vl,"canHandle",()=>!1);function NX(e){return e===192||e===194||e===196||e===219||e===221||e===218||e===254}function CX(e){return e>=224&&e<=239}function _X(e,t,n){for(let[s,r]of Ms)if(r.canHandle(e,t,n))return s}class W2 extends class{constructor(t,n,s){qe(this,"errors",[]),qe(this,"ensureSegmentChunk",async r=>{let i=r.start,a=r.size||65536;if(this.file.chunked)if(this.file.available(i,a))r.chunk=this.file.subarray(i,a);else try{r.chunk=await this.file.readChunk(i,a)}catch(l){Vt(`Couldn't read segment: ${JSON.stringify(r)}. ${l.message}`)}else this.file.byteLength>i+a?r.chunk=this.file.subarray(i,a):r.size===void 0?r.chunk=this.file.subarray(i):Vt("Segment unreachable: "+JSON.stringify(r));return r.chunk}),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=n,this.parsers=s}injectSegment(t,n){this.options[t].enabled&&this.createParser(t,n)}createParser(t,n){let s=new(Ms.get(t))(n,this.options,this.file);return this.parsers[t]=s}createParsers(t){for(let n of t){let{type:s,chunk:r}=n,i=this.options[s];if(i&&i.enabled){let a=this.parsers[s];a&&a.append||a||this.createParser(s,r)}}}async readSegments(t){let n=t.map(this.ensureSegmentChunk);await Promise.all(n)}}{constructor(...t){super(...t),qe(this,"appSegments",[]),qe(this,"jpegSegments",[]),qe(this,"unknownSegments",[])}static canHandle(t,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(t){t===!0?(this.findAll=!0,this.wanted=new Set(Ms.keyList())):(t=t===void 0?Ms.keyList().filter(n=>this.options[n].enabled):t.filter(n=>this.options[n].enabled&&Ms.has(n)),this.findAll=!1,this.remaining=new Set(t),this.wanted=new Set(t)),this.unfinishedMultiSegment=!1}async findAppSegments(t=0,n){this.setupSegmentFinderArgs(n);let{file:s,findAll:r,wanted:i,remaining:a}=this;if(!r&&this.file.chunked&&(r=Array.from(i).some(l=>{let c=Ms.get(l),u=this.options[l];return c.multiSegment&&u.multiSegment}),r&&await this.file.readWhole()),t=this.findAppSegmentsInRange(t,s.byteLength),!this.options.onlyTiff&&s.chunked){let l=!1;for(;a.size>0&&!l&&(s.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=s,u=this.appSegments.some(d=>!this.file.available(d.offset||d.start,d.length||d.size));if(l=t>c&&!u?!await s.readNextChunk(t):!await s.readNextChunk(c),(t=this.findAppSegmentsInRange(t,s.byteLength))===void 0)return}}}findAppSegmentsInRange(t,n){n-=2;let s,r,i,a,l,c,{file:u,findAll:d,wanted:h,remaining:f,options:p}=this;for(;t<n;t++)if(u.getUint8(t)===255){if(s=u.getUint8(t+1),CX(s)){if(r=u.getUint16(t+2),i=_X(u,t,r),i&&h.has(i)&&(a=Ms.get(i),l=a.findPosition(u,t),c=p[i],l.type=i,this.appSegments.push(l),!d&&(a.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||f.delete(i)):f.delete(i),f.size===0)))break;p.recordUnknownSegments&&(l=vl.findPosition(u,t),l.marker=s,this.unknownSegments.push(l)),t+=r+1}else if(NX(s)){if(r=u.getUint16(t+2),s===218&&p.stopAfterSos!==!1)return;p.recordJpegSegments&&this.jpegSegments.push({offset:t,length:r,marker:s}),t+=r+1}}return t}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let t=function(n,s){let r,i,a,l=new Map;for(let c=0;c<n.length;c++)r=n[c],i=r[s],l.has(i)?a=l.get(i):l.set(i,a=[]),a.push(r);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=t.map(([n,s])=>{let r=Ms.get(n,this.options);return r.handleMultiSegments?{type:n,chunk:r.handleMultiSegments(s)}:s[0]})}getSegment(t){return this.appSegments.find(n=>n.type===t)}async getOrFindSegment(t){let n=this.getSegment(t);return n===void 0&&(await this.findAppSegments(0,[t]),n=this.getSegment(t)),n}}qe(W2,"type","jpeg"),jD.set("jpeg",W2);const PX=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class kX extends vl{parseHeader(){var t=this.chunk.getUint16();t===18761?this.le=!0:t===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(t,n,s=new Map){let{pick:r,skip:i}=this.options[n];r=new Set(r);let a=r.size>0,l=i.size===0,c=this.chunk.getUint16(t);t+=2;for(let u=0;u<c;u++){let d=this.chunk.getUint16(t);if(a){if(r.has(d)&&(s.set(d,this.parseTag(t,d,n)),r.delete(d),r.size===0))break}else!l&&i.has(d)||s.set(d,this.parseTag(t,d,n));t+=12}return s}parseTag(t,n,s){let{chunk:r}=this,i=r.getUint16(t+2),a=r.getUint32(t+4),l=PX[i];if(l*a<=4?t+=8:t=r.getUint32(t+8),(i<1||i>13)&&Vt(`Invalid TIFF value type. block: ${s.toUpperCase()}, tag: ${n.toString(16)}, type: ${i}, offset ${t}`),t>r.byteLength&&Vt(`Invalid TIFF value offset. block: ${s.toUpperCase()}, tag: ${n.toString(16)}, type: ${i}, offset ${t} is outside of chunk size ${r.byteLength}`),i===1)return r.getUint8Array(t,a);if(i===2)return(c=function(u){for(;u.endsWith("\0");)u=u.slice(0,-1);return u}(c=r.getString(t,a)).trim())===""?void 0:c;var c;if(i===7)return r.getUint8Array(t,a);if(a===1)return this.parseTagValue(i,t);{let u=new(function(h){switch(h){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(i))(a),d=l;for(let h=0;h<a;h++)u[h]=this.parseTagValue(i,t),t+=d;return u}}parseTagValue(t,n){let{chunk:s}=this;switch(t){case 1:return s.getUint8(n);case 3:return s.getUint16(n);case 4:return s.getUint32(n);case 5:return s.getUint32(n)/s.getUint32(n+4);case 6:return s.getInt8(n);case 8:return s.getInt16(n);case 9:return s.getInt32(n);case 10:return s.getInt32(n)/s.getInt32(n+4);case 11:return s.getFloat(n);case 12:return s.getDouble(n);case 13:return s.getUint32(n);default:Vt(`Invalid tiff type ${t}`)}}}class gv extends kX{static canHandle(t,n){return t.getUint8(n+1)===225&&t.getUint32(n+4)===1165519206&&t.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:t}=this;return t.ifd0.enabled&&await this.parseIfd0Block(),t.exif.enabled&&await this.safeParse("parseExifBlock"),t.gps.enabled&&await this.safeParse("parseGpsBlock"),t.interop.enabled&&await this.safeParse("parseInteropBlock"),t.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(t){let n=this[t]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let t=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*t;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(t,n){let s=new Map;return this[n]=s,this.parseTags(t,n,s),s}async parseIfd0Block(){if(this.ifd0)return;let{file:t}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Vt("Malformed EXIF data"),!t.chunked&&this.ifd0Offset>t.byteLength&&Vt(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${t.byteLength}`),t.tiff&&await t.ensureChunk(this.ifd0Offset,L2(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,L2(this.options));let t=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=t.get(40965)),this.makerNote=t.get(37500),this.userComment=t.get(37510),this.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),this.unpack(t,41728),this.unpack(t,41729),t}unpack(t,n){let s=t.get(n);s&&s.length===1&&t.set(n,s[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let t=this.parseBlock(this.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",H2(...t.get(2),t.get(1))),t.set("longitude",H2(...t.get(4),t.get(3)))),t}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(t=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||t))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let t=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(t,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let t,n,s,r={};for(n of Lt)if(t=this[n],!bD(t))if(s=this.canTranslate?this.translateBlock(t,n):Object.fromEntries(t),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(r,s)}else r[n]=s;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}assignToOutput(t,n){if(this.globalOptions.mergeOutput)Object.assign(t,n);else for(let[s,r]of Object.entries(n))this.assignObjectToOutput(t,s,r)}}function H2(e,t,n,s){var r=e+t/60+n/3600;return s!=="S"&&s!=="W"||(r*=-1),r}qe(gv,"type","tiff"),qe(gv,"headerLength",10),Ms.set("tiff",gv);const ij={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},ij,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},ij,{tiff:!1,ifd1:!0,mergeOutput:!1});const TX=Object.assign({},ij,{firstChunkSize:4e4,ifd0:[274]});async function EX(e){let t=new SX(TX);await t.read(e);let n=await t.parse();if(n&&n.ifd0)return n.ifd0[274]}const AX=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ku=!0,Tu=!0;if(typeof navigator=="object"){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,n,s]=t;ku=Number(n)+.1*Number(s)<13.4,Tu=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);ku=Tu=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);ku=Tu=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);ku=Tu=Number(t)<77}}async function MX(e){let t=await EX(e);return Object.assign({canvas:ku,css:Tu},AX[t])}class RX extends Ls{constructor(...t){super(...t),qe(this,"ranges",new DX),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(t,n,s){if(t===0&&this.byteLength===0&&s){let r=new DataView(s.buffer||s,s.byteOffset,s.byteLength);this._swapDataView(r)}else{let r=t+n;if(r>this.byteLength){let{dataView:i}=this._extend(r);this._swapDataView(i)}}}_extend(t){let n;n=wD?xD.allocUnsafe(t):new Uint8Array(t);let s=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:s}}subarray(t,n,s=!1){return n=n||this._lengthToEnd(t),s&&this._tryExtend(t,n),this.ranges.add(t,n),super.subarray(t,n)}set(t,n,s=!1){s&&this._tryExtend(n,t.byteLength,t);let r=super.set(t,n);return this.ranges.add(n,r.byteLength),r}async ensureChunk(t,n){this.chunked&&(this.ranges.available(t,n)||await this.readChunk(t,n))}available(t,n){return this.ranges.available(t,n)}}class DX{constructor(){qe(this,"list",[])}get length(){return this.list.length}add(t,n,s=0){let r=t+n,i=this.list.filter(a=>q2(t,a.offset,r)||q2(t,a.end,r));if(i.length>0){t=Math.min(t,...i.map(l=>l.offset)),r=Math.max(r,...i.map(l=>l.end)),n=r-t;let a=i.shift();a.offset=t,a.length=n,a.end=r,this.list=this.list.filter(l=>!i.includes(l))}else this.list.push({offset:t,length:n,end:r})}available(t,n){let s=t+n;return this.list.some(r=>r.offset<=t&&s<=r.end)}}function q2(e,t,n){return e<=t&&t<=n}class FX extends RX{constructor(t,n){super(0),qe(this,"chunksRead",0),this.input=t,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(t=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,s=await this.readChunk(t,n);return!!s&&s.byteLength===n}async readChunk(t,n){if(this.chunksRead++,(n=this.safeWrapAddress(t,n))!==0)return this._readChunk(t,n)}safeWrapAddress(t,n){return this.size!==void 0&&t+n>this.size?Math.max(0,this.size-t):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}nj.set("blob",class extends FX{async readWhole(){this.chunked=!1;let e=await $0(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let n=t?e+t:void 0,s=this.input.slice(e,n),r=await $0(s);return this.set(r,e,!0)}});const OX="@uppy/thumbnail-generator",IX="Uppy plugin that generates small previews of images to show on your upload UI.",LX="4.2.3",$X="MIT",UX="lib/index.js",BX="module",VX={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},zX=["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],WX="https://uppy.io",HX={url:"https://github.com/transloadit/uppy/issues"},qX={type:"git",url:"git+https://github.com/transloadit/uppy.git"},KX=["src","lib","dist","CHANGELOG.md"],GX={"@uppy/utils":"^6.2.2",exifr:"^7.0.0"},YX={jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},QX={"@uppy/core":"^4.5.3"},ZX={name:OX,description:IX,version:LX,license:$X,main:UX,type:BX,scripts:VX,keywords:zX,homepage:WX,bugs:HX,repository:qX,files:KX,dependencies:GX,devDependencies:YX,peerDependencies:QX},XX={strings:{generatingThumbnails:"Generating thumbnails..."}};function JX(e,t,n){try{e.getContext("2d").getImageData(0,0,1,1)}catch(s){if(s.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise(s=>{e.toBlob(s,t,n)}).then(s=>{if(s===null)throw new Error("cannot read image, probably an svg with external resources");return s}):Promise.resolve().then(()=>yX(e.toDataURL(t,n),{})).then(s=>{if(s===null)throw new Error("could not extract blob, probably an old browser");return s})}function eJ(e,t){let n=e.width,s=e.height;(t.deg===90||t.deg===270)&&(n=e.height,s=e.width);const r=document.createElement("canvas");r.width=n,r.height=s;const i=r.getContext("2d");return i.translate(n/2,s/2),t.canvas&&(i.rotate(t.rad),i.scale(t.scaleX,t.scaleY)),i.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),r}function tJ(e){const t=e.width/e.height,n=5e6,s=4096;let r=Math.floor(Math.sqrt(n*t)),i=Math.floor(n/Math.sqrt(n*t));if(r>s&&(r=s,i=Math.round(r/t)),i>s&&(i=s,r=Math.round(t*i)),e.width>r){const a=document.createElement("canvas");return a.width=r,a.height=i,a.getContext("2d").drawImage(e,0,0,r,i),a}return e}const nJ={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class _D extends Mc{constructor(n,s){super(n,{...nJ,...s});L(this,"queue");L(this,"queueProcessing");L(this,"defaultThumbnailDimension");L(this,"thumbnailType");L(this,"onFileAdded",n=>{!n.preview&&n.data&&O2(n.type)&&!n.isRemote&&this.addToQueue(n.id)});L(this,"onCancelRequest",n=>{const s=this.queue.indexOf(n.id);s!==-1&&this.queue.splice(s,1)});L(this,"onFileRemoved",n=>{const s=this.queue.indexOf(n.id);s!==-1&&this.queue.splice(s,1),n.preview&&F2(n.preview)&&URL.revokeObjectURL(n.preview)});L(this,"onRestored",()=>{this.uppy.getFiles().filter(s=>s.isRestored).forEach(s=>{(!s.preview||F2(s.preview))&&this.addToQueue(s.id)})});L(this,"onAllFilesRemoved",()=>{this.queue=[]});L(this,"waitUntilAllProcessed",n=>{n.forEach(r=>{const i=this.uppy.getFile(r);this.uppy.emit("preprocess-progress",i,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const s=()=>{n.forEach(r=>{const i=this.uppy.getFile(r);this.uppy.emit("preprocess-complete",i)})};return new Promise(r=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{s(),r()}):(s(),r())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=XX,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(n,s,r){const i=URL.createObjectURL(n.data),a=new Promise((c,u)=>{const d=new Image;d.src=i,d.addEventListener("load",()=>{URL.revokeObjectURL(i),c(d)}),d.addEventListener("error",h=>{URL.revokeObjectURL(i),u(h.error||new Error("Could not create thumbnail"))})}),l=MX(n.data).catch(()=>1);return Promise.all([a,l]).then(([c,u])=>{const d=this.getProportionalDimensions(c,s,r,u.deg),h=eJ(c,u),f=this.resizeImage(h,d.width,d.height);return JX(f,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(n,s,r,i){let a=n.width/n.height;if((i===90||i===270)&&(a=n.height/n.width),s!=null){let l=s;return n.width<s&&(l=n.width),{width:l,height:Math.round(l/a)}}if(r!=null){let l=r;return n.height<r&&(l=n.height),{width:Math.round(l*a),height:l}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/a)}}resizeImage(n,s,r){let i=tJ(n),a=Math.ceil(Math.log2(i.width/s));a<1&&(a=1);let l=s*2**(a-1),c=r*2**(a-1);const u=2;for(;a--;){const d=document.createElement("canvas");d.width=l,d.height=c,d.getContext("2d").drawImage(i,0,0,l,c),i=d,l=Math.round(l/u),c=Math.round(c/u)}return i}setPreviewURL(n,s){this.uppy.setFileState(n,{preview:s})}addToQueue(n){this.queue.push(n),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const n=this.uppy.getFile(this.queue.shift());return n?this.requestThumbnail(n).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(n){return O2(n.type)&&!n.isRemote?this.createThumbnail(n,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(s=>{this.setPreviewURL(n.id,s),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${n.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(n.id),s)}).catch(s=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${n.id}:`,"warning"),this.uppy.log(s,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(n.id),s)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}L(_D,"VERSION",ZX.version);function K2(e){if(typeof e=="string"){const t=document.querySelectorAll(e);return t.length===0?null:Array.from(t)}return typeof e=="object"&&M5(e)?[e]:null}const Qu=Array.from;function sJ(e){const t=Qu(e.files);return Promise.resolve(t)}function PD(e,t,n,{onSuccess:s}){e.readEntries(r=>{const i=[...t,...r];r.length?queueMicrotask(()=>{PD(e,i,n,{onSuccess:s})}):s(i)},r=>{n(r),s(t)})}function kD(e,t){return e==null?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile(){return new Promise((n,s)=>e.file(n,s))},async*values(){const n=e.createReader();yield*await new Promise(r=>{PD(n,[],t,{onSuccess:i=>r(i.map(a=>kD(a,t)))})})},isSameEntry:void 0}}async function*TD(e,t,n=void 0){const s=()=>`${t}/${e.name}`;if(e.kind==="file"){const r=await e.getFile();r!=null?(r.relativePath=t?s():null,yield r):n!=null&&(yield n)}else if(e.kind==="directory")for await(const r of e.values())yield*TD(r,t?s():e.name);else n!=null&&(yield n)}async function*rJ(e,t){const n=await Promise.all(Array.from(e.items,async s=>{let r;return r??(r=kD(typeof s.getAsEntry=="function"?s.getAsEntry():s.webkitGetAsEntry(),t)),{fileSystemHandle:r,lastResortFile:s.getAsFile()}}));for(const{lastResortFile:s,fileSystemHandle:r}of n)if(r!=null)try{yield*TD(r,"",s)}catch(i){s!=null?yield s:t(i)}else s!=null&&(yield s)}async function iJ(e,t){const n=(t==null?void 0:t.logDropError)??Function.prototype;try{const s=[];for await(const r of rJ(e,n))s.push(r);return s}catch{return sJ(e)}}let aJ="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ED=(e=21)=>{let t="",n=e|0;for(;n--;)t+=aJ[Math.random()*64|0];return t};const oJ="@uppy/dashboard",lJ="Universal UI plugin for Uppy.",cJ="4.4.3",uJ="MIT",dJ="lib/index.js",hJ="dist/style.min.css",fJ="module",pJ={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest watch --project browser --browser.headless false"},mJ=["file uploader","uppy","uppy-plugin","dashboard","ui"],gJ="https://uppy.io",yJ={url:"https://github.com/transloadit/uppy/issues"},vJ={type:"git",url:"git+https://github.com/transloadit/uppy.git"},xJ=["src","lib","dist","CHANGELOG.md"],wJ={"@transloadit/prettier-bytes":"^0.3.4","@uppy/informer":"^4.3.2","@uppy/provider-views":"^4.5.2","@uppy/status-bar":"^4.2.3","@uppy/thumbnail-generator":"^4.2.2","@uppy/utils":"^6.2.2",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},bJ={"@uppy/core":"^4.5.2","@uppy/google-drive":"^4.4.2","@uppy/status-bar":"^4.2.3","@uppy/url":"^4.3.2","@uppy/webcam":"^4.3.2","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},jJ={"@uppy/core":"^4.5.2"},SJ={name:oJ,description:lJ,version:cJ,license:uJ,main:dJ,style:hJ,type:fJ,scripts:pJ,keywords:mJ,homepage:gJ,bugs:yJ,repository:vJ,files:xJ,dependencies:wJ,devDependencies:bJ,peerDependencies:jJ};function NJ(){const e=document.body;return!(!("draggable"in e)||!("ondragstart"in e&&"ondrop"in e)||!("FormData"in window)||!("FileReader"in window))}class AD extends In{constructor(){super(...arguments);L(this,"fileInput",null);L(this,"folderInput",null);L(this,"mobilePhotoFileInput",null);L(this,"mobileVideoFileInput",null);L(this,"triggerFileInputClick",()=>{var n;(n=this.fileInput)==null||n.click()});L(this,"triggerFolderInputClick",()=>{var n;(n=this.folderInput)==null||n.click()});L(this,"triggerVideoCameraInputClick",()=>{var n;(n=this.mobileVideoFileInput)==null||n.click()});L(this,"triggerPhotoCameraInputClick",()=>{var n;(n=this.mobilePhotoFileInput)==null||n.click()});L(this,"onFileInputChange",n=>{this.props.handleInputChange(n),n.currentTarget.value=""});L(this,"renderHiddenInput",(n,s)=>{var r;return P("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:n,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(r=this.props.allowedFileTypes)==null?void 0:r.join(", "),ref:s})});L(this,"renderHiddenCameraInput",(n,s,r)=>{const a={photo:"image/*",video:"video/*"}[n];return P("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${n}`,onChange:this.onFileInputChange,capture:s===""?"environment":s,accept:a,ref:r})});L(this,"renderMyDeviceAcquirer",()=>P("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:P("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[P("div",{className:"uppy-DashboardTab-inner",children:P("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:P("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),P("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));L(this,"renderPhotoCamera",()=>P("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:P("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[P("div",{className:"uppy-DashboardTab-inner",children:P("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:P("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),P("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));L(this,"renderVideoCamera",()=>P("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:P("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[P("div",{className:"uppy-DashboardTab-inner",children:P("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:P("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),P("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));L(this,"renderBrowseButton",(n,s)=>{const r=this.props.acquirers.length;return P("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:s,"data-uppy-super-focusable":r===0,children:n})});L(this,"renderDropPasteBrowseTagline",n=>{const s=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),r=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),i=this.props.fileManagerSelectionType,a=i.charAt(0).toUpperCase()+i.slice(1);return P("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):n>0?this.props.i18nArray(`dropPasteImport${a}`,{browseFiles:s,browseFolders:r,browse:s}):this.props.i18nArray(`dropPaste${a}`,{browseFiles:s,browseFolders:r,browse:s})})});L(this,"renderAcquirer",n=>{var s;return P("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":n.id,children:P("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":n.id,"aria-controls":`uppy-DashboardContent-panel--${n.id}`,"aria-selected":((s=this.props.activePickerPanel)==null?void 0:s.id)===n.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(n.id),children:[P("div",{className:"uppy-DashboardTab-inner",children:n.icon()}),P("div",{className:"uppy-DashboardTab-name",children:n.name})]})})});L(this,"renderAcquirers",n=>{const s=[...n],r=s.splice(n.length-2,n.length);return P(Bs,{children:[s.map(i=>this.renderAcquirer(i)),P("span",{role:"presentation",style:{"white-space":"nowrap"},children:r.map(i=>this.renderAcquirer(i))})]})});L(this,"renderSourcesList",(n,s)=>{const{showNativePhotoCameraButton:r,showNativeVideoCameraButton:i}=this.props;let a=[];const l="myDevice";s||a.push({key:l,elements:this.renderMyDeviceAcquirer()}),r&&a.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),i&&a.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),a.push(...n.map(h=>({key:h.id,elements:this.renderAcquirer(h)}))),a.length===1&&a[0].key===l&&(a=[]);const u=[...a],d=u.splice(a.length-2,a.length);return P(Bs,{children:[this.renderDropPasteBrowseTagline(a.length),P("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[u.map(({key:h,elements:f})=>P(Bs,{children:f},h)),P("span",{role:"presentation",style:{"white-space":"nowrap"},children:d.map(({key:h,elements:f})=>P(Bs,{children:f},h))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:n}=this.props,s=P("span",{children:[P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:P("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),P("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),r=n("poweredBy",{uppy:s});return P("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:r})}render(){const{showNativePhotoCameraButton:n,showNativeVideoCameraButton:s,nativeCameraFacingMode:r}=this.props;return P("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,i=>{this.fileInput=i}),this.renderHiddenInput(!0,i=>{this.folderInput=i}),n&&this.renderHiddenCameraInput("photo",r,i=>{this.mobilePhotoFileInput=i}),s&&this.renderHiddenCameraInput("video",r,i=>{this.mobileVideoFileInput=i}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),P("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&P("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const CJ=e=>P("div",{className:Js("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":!e.showAddFilesPanel,children:[P("div",{className:"uppy-DashboardContent-bar",children:[P("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18n("addingMoreFiles")}),P("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>e.toggleAddFilesPanel(!1),children:e.i18n("back")})]}),P(AD,{...e})]});function _J(e){const t=e.files[e.fileCardFor],n=()=>{e.uppy.emit("file-editor:cancel",t),e.closeFileEditor()};return P("div",{className:Js("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[P("div",{className:"uppy-DashboardContent-bar",children:[P("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18nArray("editing",{file:P("span",{className:"uppy-DashboardContent-titleFile",children:t.meta?t.meta.name:t.name})})}),P("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:e.i18n("cancel")}),P("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor,children:e.i18n("save")})]}),P("div",{className:"uppy-DashboardContent-panelBody",children:e.editors.map(s=>e.uppy.getPlugin(s.id).render(e.state))})]})}function PJ(){return P("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:P("g",{fill:"#686DE0",fillRule:"evenodd",children:[P("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),P("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),P("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function kJ(){return P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:P("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function TJ(){return P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:P("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function EJ(){return P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:P("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function AJ(){return P("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:P("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function MJ(){return P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:P("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[P("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),P("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function RJ(){return P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:P("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function aj(e){const t={color:"#838999",icon:MJ()};if(!e)return t;const n=e.split("/")[0],s=e.split("/")[1];return n==="text"?{color:"#5a5e69",icon:RJ()}:n==="image"?{color:"#686de0",icon:PJ()}:n==="audio"?{color:"#068dbb",icon:kJ()}:n==="video"?{color:"#19af67",icon:TJ()}:n==="application"&&s==="pdf"?{color:"#e25149",icon:EJ()}:n==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(s)!==-1?{color:"#00C469",icon:AJ()}:t}function Wi(e){const{tagName:t}=e.target;if(t==="INPUT"||t==="TEXTAREA"){e.stopPropagation();return}e.preventDefault(),e.stopPropagation()}function MD(e){const{file:t}=e;if(t.preview)return P("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});const{color:n,icon:s}=aj(t.type);return P("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[P("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n},children:s}),P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:P("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function DJ(e){const{computedMetaFields:t,requiredMetaFields:n,updateMeta:s,form:r,formState:i}=e,a={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return t.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,u=n.includes(l.id);return P("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[P("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:i[l.id],onChange:d=>s(d,l.id),fieldCSSClasses:a,required:u,form:r.id},Ad):P("input",{className:a.text,id:c,form:r.id,type:l.type||"text",required:u,value:i[l.id],placeholder:l.placeholder,onInput:d=>s(d.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function FJ(e){const{files:t,fileCardFor:n,toggleFileCard:s,saveFileCard:r,metaFields:i,requiredMetaFields:a,openFileEditor:l,i18n:c,i18nArray:u,className:d,canEditFile:h}=e,f=()=>typeof i=="function"?i(t[n]):i,p=t[n],x=f()??[],g=h(p),b={};x.forEach(C=>{b[C.id]=p.meta[C.id]??""});const[v,y]=wm(b),w=$G(C=>{C.preventDefault(),r(v,n)},[r,v,n]),j=(C,T)=>{y({...v,[T]:C})},N=()=>{s(!1)},[k]=wm(()=>{const C=document.createElement("form");return C.setAttribute("tabindex","-1"),C.id=ED(),C});return _0(()=>(document.body.appendChild(k),k.addEventListener("submit",w),()=>{k.removeEventListener("submit",w),document.body.removeChild(k)}),[k,w]),P("div",{className:Js("uppy-Dashboard-FileCard",d),"data-uppy-panelType":"FileCard",onDragOver:Wi,onDragLeave:Wi,onDrop:Wi,onPaste:Wi,children:[P("div",{className:"uppy-DashboardContent-bar",children:[P("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:u("editing",{file:P("span",{className:"uppy-DashboardContent-titleFile",children:p.meta?p.meta.name:p.name})})}),P("button",{className:"uppy-DashboardContent-back",type:"button",form:k.id,title:c("finishEditingFile"),onClick:N,children:c("cancel")})]}),P("div",{className:"uppy-Dashboard-FileCard-inner",children:[P("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:aj(p.type).color},children:[P(MD,{file:p}),g&&P("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:C=>{w(C),l(p)},children:c("editImage")})]}),P("div",{className:"uppy-Dashboard-FileCard-info",children:P(DJ,{computedMetaFields:x,requiredMetaFields:a,updateMeta:j,form:k,formState:v})}),P("div",{className:"uppy-Dashboard-FileCard-actions",children:[P("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:k.id,children:c("saveChanges")}),P("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:N,form:k.id,children:c("cancel")})]})]})]})}function OJ(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),s=Object.keys(t),r=n.length;if(s.length!==r)return!1;for(let i=0;i<r;i++){const a=n[i];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}function IJ(e,t="Copy the URL below"){return new Promise(n=>{const s=document.createElement("textarea");s.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),s.value=e,document.body.appendChild(s),s.select();const r=()=>{document.body.removeChild(s),window.prompt(t,e),n()};try{return document.execCommand("copy")?(document.body.removeChild(s),n()):r()}catch{return document.body.removeChild(s),r()}})}function LJ({file:e,uploadInProgressOrComplete:t,metaFields:n,canEditFile:s,i18n:r,onClick:i}){return!t&&n&&n.length>0||!t&&s(e)?P("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":r("editFileWithFilename",{file:e.meta.name}),title:r("editFileWithFilename",{file:e.meta.name}),onClick:()=>i(),children:P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:P("g",{fillRule:"evenodd",children:[P("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),P("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),P("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function $J({i18n:e,onClick:t,file:n}){return P("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:n.meta.name}),title:e("removeFile",{file:n.meta.name}),onClick:()=>t(),children:P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[P("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),P("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function UJ({file:e,uppy:t,i18n:n}){const s=r=>{IJ(e.uploadURL,n("copyLinkToClipboardFallback")).then(()=>{t.log("Link copied to clipboard."),t.info(n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(t.log).then(()=>r.target.focus({preventScroll:!0}))};return P("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":n("copyLink"),title:n("copyLink"),onClick:r=>s(r),children:P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:P("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function BJ(e){const{uppy:t,file:n,uploadInProgressOrComplete:s,canEditFile:r,metaFields:i,showLinkToFileUploadResult:a,showRemoveButton:l,i18n:c,toggleFileCard:u,openFileEditor:d}=e;return P("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[P(LJ,{i18n:c,file:n,uploadInProgressOrComplete:s,canEditFile:r,metaFields:i,onClick:()=>{i&&i.length>0?u(!0,n.id):d(n)}}),a&&n.uploadURL?P(UJ,{file:n,uppy:t,i18n:c}):null,l?P($J,{i18n:c,file:n,onClick:()=>t.removeFile(n.id)}):null]})}const yv="...";function RD(e,t){if(t===0)return"";if(e.length<=t)return e;if(t<=yv.length+1)return`${e.slice(0,t-1)}…`;const n=t-yv.length,s=Math.ceil(n/2),r=Math.floor(n/2);return e.slice(0,s)+yv+e.slice(-r)}const VJ=(e,t)=>(typeof t=="function"?t():t).filter(r=>r.id===e)[0].name;function DD(e){const{file:t,toggleFileCard:n,i18n:s,metaFields:r}=e,{missingRequiredMetaFields:i}=t;if(!(i!=null&&i.length))return null;const a=i.map(l=>VJ(l,r)).join(", ");return P("div",{className:"uppy-Dashboard-Item-errorMessage",children:[s("missingRequiredMetaFields",{smart_count:i.length,fields:a})," ",P("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>n(!0,t.id),children:s("editFile")})]})}const zJ=e=>{const{author:t,name:n}=e.file.meta;function s(){return e.isSingleFile&&e.containerHeight>=350?90:e.containerWidth<=352?35:e.containerWidth<=576?60:t?20:30}return P("div",{className:"uppy-Dashboard-Item-name",title:n,children:RD(n,s())})},WJ=e=>{var r;const{author:t}=e.file.meta,n=(r=e.file.remote)==null?void 0:r.providerName,s="·";return t?P("div",{className:"uppy-Dashboard-Item-author",children:[P("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:RD(t.name,13)}),n?P(Bs,{children:[` ${s} `,n,` ${s} `]}):null]}):null},HJ=e=>e.file.size&&P("div",{className:"uppy-Dashboard-Item-statusSize",children:Va(e.file.size)}),qJ=e=>e.file.isGhost&&P("span",{children:[" • ",P("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>e.toggleAddFilesPanel(!0),children:e.i18n("reSelect")})]}),KJ=({file:e,onClick:t})=>e.error?P("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":e.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:t,type:"button",children:"?"}):null;function GJ(e){const{file:t,i18n:n,toggleFileCard:s,metaFields:r,toggleAddFilesPanel:i,isSingleFile:a,containerHeight:l,containerWidth:c}=e;return P("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source,children:[P("div",{className:"uppy-Dashboard-Item-fileName",children:[zJ({file:t,isSingleFile:a,containerHeight:l,containerWidth:c}),P(KJ,{file:t,onClick:()=>alert(t.error)})]}),P("div",{className:"uppy-Dashboard-Item-status",children:[WJ({file:t}),HJ({file:t}),qJ({file:t,toggleAddFilesPanel:i,i18n:n})]}),P(DD,{file:t,i18n:n,toggleFileCard:s,metaFields:r})]})}function YJ(e){const{file:t,i18n:n,toggleFileCard:s,metaFields:r,showLinkToFileUploadResult:i}=e,l=t.preview?"rgba(255, 255, 255, 0.5)":aj(t.type).color;return P("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[i&&t.uploadURL&&P("a",{className:"uppy-Dashboard-Item-previewLink",href:t.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.meta.name,children:P("span",{hidden:!0,children:t.meta.name})}),P(MD,{file:t}),P(DD,{file:t,i18n:n,toggleFileCard:s,metaFields:r})]})}function QJ(e){if(!e.isUploaded){if(e.error&&!e.hideRetryButton){e.uppy.retryUpload(e.file.id);return}e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id)}}function G2(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function vv(e){return P("div",{className:"uppy-Dashboard-Item-progress",children:P("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":G2(e),title:G2(e),onClick:()=>QJ(e),children:e.children})})}function $f({children:e}){return P("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:e})}function xv({progress:e}){const t=2*Math.PI*15;return P("g",{children:[P("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),P("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":t,"stroke-dashoffset":t-t/100*e})]})}function ZJ(e){return!e.file.progress.uploadStarted||e.file.progress.percentage===void 0?null:e.isUploaded?P("div",{className:"uppy-Dashboard-Item-progress",children:P("div",{className:"uppy-Dashboard-Item-progressIndicator",children:P($f,{children:[P("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),P("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):e.recoveredState?null:e.error&&!e.hideRetryButton?P(vv,{...e,children:P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[P("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),P("path",{d:"M7.9 3H10v2H7.9z"}),P("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),P("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):e.resumableUploads&&!e.hidePauseResumeButton?P(vv,{...e,children:P($f,{children:[P(xv,{progress:e.file.progress.percentage}),e.file.isPaused?P("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):P("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[P("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),P("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!e.resumableUploads&&e.individualCancellation&&!e.hideCancelButton?P(vv,{...e,children:P($f,{children:[P(xv,{progress:e.file.progress.percentage}),P("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):P("div",{className:"uppy-Dashboard-Item-progress",children:P("div",{className:"uppy-Dashboard-Item-progressIndicator",children:P($f,{children:P(xv,{progress:e.file.progress.percentage})})})})}class XJ extends In{componentDidMount(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}shouldComponentUpdate(t){return!OJ(this.props,t)}componentDidUpdate(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}componentWillUnmount(){const{file:t}=this.props;t.preview||this.props.handleCancelThumbnail(t)}render(){const{file:t}=this.props,n=t.progress.preprocess||t.progress.postprocess,s=!!t.progress.uploadComplete&&!n&&!t.error,r=!!t.progress.uploadStarted||!!n,i=t.progress.uploadStarted&&!t.progress.uploadComplete||n,a=t.error||!1,{isGhost:l}=t;let c=(this.props.individualCancellation||!i)&&!s;s&&this.props.showRemoveButtonAfterComplete&&(c=!0);const u=Js({"uppy-Dashboard-Item":!0,"is-inprogress":i&&!this.props.recoveredState,"is-processing":n,"is-complete":s,"is-error":!!a,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return P("div",{className:u,id:`uppy_${t.id}`,role:this.props.role,children:[P("div",{className:"uppy-Dashboard-Item-preview",children:[P(YJ,{file:t,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),P(ZJ,{uppy:this.props.uppy,file:t,error:a,isUploaded:s,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),P("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[P(GJ,{file:t,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),P(BJ,{file:t,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:r,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function JJ(e,t){const n=[];let s=[];return e.forEach(r=>{s.length<t?s.push(r):(n.push(s),s=[r])}),s.length&&n.push(s),n}function eee({id:e,i18n:t,uppy:n,files:s,resumableUploads:r,hideRetryButton:i,hidePauseResumeButton:a,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:u,metaFields:d,isSingleFile:h,toggleFileCard:f,handleRequestThumbnail:p,handleCancelThumbnail:x,recoveredState:g,individualCancellation:b,itemsPerRow:v,openFileEditor:y,canEditFile:w,toggleAddFilesPanel:j,containerWidth:N,containerHeight:k}){const C=v===1?71:200,T=Jb(()=>{const E=(D,q)=>Number(s[q].isGhost)-Number(s[D].isGhost),O=Object.keys(s);return g&&O.sort(E),JJ(O,v)},[s,v,g]),M=E=>P("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:E.map(O=>P(XJ,{uppy:n,id:e,i18n:t,resumableUploads:r,individualCancellation:b,hideRetryButton:i,hidePauseResumeButton:a,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:u,metaFields:d,recoveredState:g,isSingleFile:h,containerWidth:N,containerHeight:k,toggleFileCard:f,handleRequestThumbnail:p,handleCancelThumbnail:x,role:"listitem",openFileEditor:y,canEditFile:w,toggleAddFilesPanel:j,file:s[O]},O))},E[0]);return h?P("div",{class:"uppy-Dashboard-files",children:M(T[0])}):P(TZ,{class:"uppy-Dashboard-files",role:"list",data:T,renderRow:M,rowHeight:C})}function tee({activePickerPanel:e,className:t,hideAllPanels:n,i18n:s,state:r,uppy:i}){const a=mp(null);return P("div",{className:Js("uppy-DashboardContent-panel",t),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${e.id}`,onDragOver:Wi,onDragLeave:Wi,onDrop:Wi,onPaste:Wi,children:[P("div",{className:"uppy-DashboardContent-bar",children:[P("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:s("importFrom",{name:e.name})}),P("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:s("cancel")})]}),P("div",{ref:a,className:"uppy-DashboardContent-panelBody",children:i.getPlugin(e.id).render(r,a.current)})]})}const rr={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function nee(e,t,n,s={}){if(e)return rr.STATE_ERROR;if(t)return rr.STATE_COMPLETE;if(n)return rr.STATE_PAUSED;let r=rr.STATE_WAITING;const i=Object.keys(s);for(let a=0;a<i.length;a++){const{progress:l}=s[i[a]];if(l.uploadStarted&&!l.uploadComplete)return rr.STATE_UPLOADING;l.preprocess&&r!==rr.STATE_UPLOADING&&(r=rr.STATE_PREPROCESSING),l.postprocess&&r!==rr.STATE_UPLOADING&&r!==rr.STATE_PREPROCESSING&&(r=rr.STATE_POSTPROCESSING)}return r}function see({files:e,i18n:t,isAllComplete:n,isAllErrored:s,isAllPaused:r,inProgressNotPausedFiles:i,newFiles:a,processingFiles:l}){switch(nee(s,n,r,e)){case"uploading":return t("uploadingXFiles",{smart_count:i.length});case"preprocessing":case"postprocessing":return t("processingXFiles",{smart_count:l.length});case"paused":return t("uploadPaused");case"waiting":return t("xFilesSelected",{smart_count:a.length});case"complete":return t("uploadComplete");case"error":return t("error")}}function ree(e){const{i18n:t,isAllComplete:n,hideCancelButton:s,maxNumberOfFiles:r,toggleAddFilesPanel:i,uppy:a}=e;let{allowNewUpload:l}=e;return l&&r&&(l=e.totalFileCount<e.maxNumberOfFiles),P("div",{className:"uppy-DashboardContent-bar",children:[!n&&!s?P("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>a.cancelAll(),children:t("cancel")}):P("div",{}),P("div",{className:"uppy-DashboardContent-title",children:P(see,{...e})}),l?P("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:()=>i(!0),children:[P("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:P("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),P("span",{className:"uppy-DashboardContent-addMoreCaption",children:t("addMore")})]}):P("div",{})]})}const Qo="uppy-transition-slideDownUp",Y2=250;function Uf({children:e}){const[t,n]=wm(null),[s,r]=wm(""),i=mp(),a=mp(),l=mp(),c=()=>{r(`${Qo}-enter`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{r(`${Qo}-enter ${Qo}-enter-active`),i.current=setTimeout(()=>{r("")},Y2)})},u=()=>{r(`${Qo}-leave`),cancelAnimationFrame(l.current),clearTimeout(i.current),i.current=void 0,l.current=requestAnimationFrame(()=>{r(`${Qo}-leave ${Qo}-leave-active`),a.current=setTimeout(()=>{n(null),r("")},Y2)})};return _0(()=>{const d=Os(e)[0];t!==d&&(d&&!t?c():t&&!d&&!a.current&&u(),n(d))},[e,t]),_0(()=>()=>{clearTimeout(i.current),clearTimeout(a.current),cancelAnimationFrame(l.current)},[]),t?H5(t,{className:Js(s,t.props.className)}):null}const Q2=900,Z2=700,wv=576,X2=330;function iee(e){const t=e.totalFileCount===0,n=e.totalFileCount===1,s=e.containerWidth>wv,r=e.containerHeight>X2,i=Js({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>wv,"uppy-size--lg":e.containerWidth>Z2,"uppy-size--xl":e.containerWidth>Q2,"uppy-size--height-md":e.containerHeight>X2,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":e.singleFileFullScreen&&n&&r});let a=1;e.containerWidth>Q2?a=5:e.containerWidth>Z2?a=4:e.containerWidth>wv&&(a=3);const l=e.showSelectedFiles&&!t,c=e.recoveredState?Object.keys(e.recoveredState.files).length:null,u=e.files?Object.keys(e.files).filter(f=>e.files[f].isGhost).length:0,d=()=>u>0?e.i18n("recoveredXFiles",{smart_count:u}):e.i18n("recoveredAllFiles");return P("div",{className:i,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&NJ(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop,children:[P("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),P("div",{className:"uppy-Dashboard-inner",role:e.inline?void 0:"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""},children:[e.inline?null:P("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal,children:P("span",{"aria-hidden":"true",children:"×"})}),P("div",{className:"uppy-Dashboard-innerWrap",children:[P("div",{className:"uppy-Dashboard-dropFilesHereHint",children:e.i18n("dropHint")}),l&&P(ree,{...e}),c&&P("div",{className:"uppy-Dashboard-serviceMsg",children:[P("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:P("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[P("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),P("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),P("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),P("strong",{className:"uppy-Dashboard-serviceMsg-title",children:e.i18n("sessionRestored")}),P("div",{className:"uppy-Dashboard-serviceMsg-text",children:d()})]}),l?P(eee,{id:e.id,i18n:e.i18n,uppy:e.uppy,files:e.files,resumableUploads:e.resumableUploads,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,metaFields:e.metaFields,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail,recoveredState:e.recoveredState,individualCancellation:e.individualCancellation,openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,isSingleFile:n,itemsPerRow:a,containerWidth:e.containerWidth,containerHeight:e.containerHeight}):P(AD,{i18n:e.i18n,i18nArray:e.i18nArray,acquirers:e.acquirers,handleInputChange:e.handleInputChange,maxNumberOfFiles:e.maxNumberOfFiles,allowedFileTypes:e.allowedFileTypes,showNativePhotoCameraButton:e.showNativePhotoCameraButton,showNativeVideoCameraButton:e.showNativeVideoCameraButton,nativeCameraFacingMode:e.nativeCameraFacingMode,showPanel:e.showPanel,activePickerPanel:e.activePickerPanel,disableLocalFiles:e.disableLocalFiles,fileManagerSelectionType:e.fileManagerSelectionType,note:e.note,proudlyDisplayPoweredByUppy:e.proudlyDisplayPoweredByUppy}),P(Uf,{children:e.showAddFilesPanel?P(CJ,{...e,isSizeMD:s},"AddFiles"):null}),P(Uf,{children:e.fileCardFor?P(FJ,{...e},"FileCard"):null}),P(Uf,{children:e.activePickerPanel?P(tee,{...e},"Picker"):null}),P(Uf,{children:e.showFileEditor?P(_J,{...e},"Editor"):null}),P("div",{className:"uppy-Dashboard-progressindicators",children:e.progressindicators.map(f=>e.uppy.getPlugin(f.id).render(e.state))})]})]})]})}const aee={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}},FD=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function OD(e,t){if(t){const n=e.querySelector(`[data-uppy-paneltype="${t}"]`);if(n)return n}return e}function oee(){let e=!1;return yQ((n,s)=>{const r=OD(n,s),i=r.contains(document.activeElement);if(i&&e)return;const a=r.querySelector("[data-uppy-super-focusable]");if(!(i&&!a))if(a)a.focus({preventScroll:!0}),e=!0;else{const l=r.querySelector(FD);l==null||l.focus({preventScroll:!0}),e=!1}},260)}function J2(e,t){const n=t[0];n&&(n.focus(),e.preventDefault())}function lee(e,t){const n=t[t.length-1];n&&(n.focus(),e.preventDefault())}function cee(e){return e.contains(document.activeElement)}function ID(e,t,n){const s=OD(n,t),r=Qu(s.querySelectorAll(FD)),i=r.indexOf(document.activeElement);cee(s)?e.shiftKey&&i===0?lee(e,r):!e.shiftKey&&i===r.length-1&&J2(e,r):J2(e,r)}function uee(e,t,n){t===null||ID(e,t,n)}const e_=9,dee=27;function t_(){const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}const hee={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:EZ,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var Av,Gl,to,ih,Yl,Bm,Vm,zm,no,Wm,Hm,Ql,Wt,B0,V0,LD,z0,W0,$D;let fee=(Av=class extends Mc{constructor(n,s){var i;const r=(s==null?void 0:s.autoOpen)??null;super(n,{...hee,...s,autoOpen:r});$(this,Wt);$(this,Gl);L(this,"modalName",`uppy-Dashboard-${ED()}`);L(this,"superFocus",oee());L(this,"ifFocusedOnUppyRecently",!1);L(this,"dashboardIsDisabled");L(this,"savedScrollPosition");L(this,"savedActiveElement");L(this,"resizeObserver");L(this,"darkModeMediaQuery");L(this,"makeDashboardInsidesVisibleAnywayTimeout");L(this,"removeTarget",n=>{const r=this.getPluginState().targets.filter(i=>i.id!==n.id);this.setPluginState({targets:r})});L(this,"addTarget",n=>{const s=n.id||n.constructor.name,r=n.title||s,i=n.type;if(i!=="acquirer"&&i!=="progressindicator"&&i!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const a={id:s,name:r,type:i},c=this.getPluginState().targets.slice();return c.push(a),this.setPluginState({targets:c}),this.el});L(this,"hideAllPanels",()=>{var r;const n=this.getPluginState(),s={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};n.activePickerPanel===s.activePickerPanel&&n.showAddFilesPanel===s.showAddFilesPanel&&n.showFileEditor===s.showFileEditor&&n.activeOverlayType===s.activeOverlayType||(this.setPluginState(s),this.uppy.emit("dashboard:close-panel",(r=n.activePickerPanel)==null?void 0:r.id))});L(this,"showPanel",n=>{const{targets:s}=this.getPluginState(),r=s.find(i=>i.type==="acquirer"&&i.id===n);this.setPluginState({activePickerPanel:r,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",n)});L(this,"canEditFile",n=>{const{targets:s}=this.getPluginState();return S(this,no).call(this,s).some(i=>this.uppy.getPlugin(i.id).canEditFile(n))});L(this,"openFileEditor",n=>{const{targets:s}=this.getPluginState(),r=S(this,no).call(this,s);this.setPluginState({showFileEditor:!0,fileCardFor:n.id||null,activeOverlayType:"FileEditor"}),r.forEach(i=>{this.uppy.getPlugin(i.id).selectFile(n)})});L(this,"closeFileEditor",()=>{const{metaFields:n}=this.getPluginState();n&&n.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});L(this,"saveFileEditor",()=>{const{targets:n}=this.getPluginState();S(this,no).call(this,n).forEach(r=>{this.uppy.getPlugin(r.id).save()}),this.closeFileEditor()});L(this,"openModal",()=>{const{promise:n,resolve:s}=t_();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const r=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",r,!1),s()};this.el.addEventListener("animationend",r,!1)}else this.setPluginState({isHidden:!1}),s();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),n});L(this,"closeModal",n=>{var c;const s=(n==null?void 0:n.manualClose)??!0,{isHidden:r,isClosing:i}=this.getPluginState();if(r||i)return;const{promise:a,resolve:l}=t_();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const u=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",u,!1),l()};this.el.addEventListener("animationend",u,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),s&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),a});L(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);L(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());L(this,"setDarkModeCapability",n=>{const{capabilities:s}=this.uppy.getState();this.uppy.setState({capabilities:{...s,darkMode:n}})});L(this,"handleSystemDarkModeChange",n=>{const s=n.matches;this.uppy.log(`[Dashboard] Dark mode is ${s?"on":"off"}`),this.setDarkModeCapability(s)});L(this,"toggleFileCard",(n,s)=>{const r=this.uppy.getFile(s);n?this.uppy.emit("dashboard:file-edit-start",r):this.uppy.emit("dashboard:file-edit-complete",r),this.setPluginState({fileCardFor:n?s:null,activeOverlayType:n?"FileCard":null})});L(this,"toggleAddFilesPanel",n=>{this.setPluginState({showAddFilesPanel:n,activeOverlayType:n?"AddFiles":null})});L(this,"addFiles",n=>{const s=n.map(r=>({source:this.id,name:r.name,type:r.type,data:r,meta:{relativePath:r.relativePath||r.webkitRelativePath||null}}));try{this.uppy.addFiles(s)}catch(r){this.uppy.log(r)}});L(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(n=>{const s=n[0],{width:r,height:i}=s.contentRect;this.setPluginState({containerWidth:r,containerHeight:i,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const n=this.getPluginState(),s=!this.opts.inline&&n.isHidden;!n.areInsidesReadyToBeVisible&&!s&&(this.uppy.log("[Dashboard] resize event didn’t fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});L(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});L(this,"recordIfFocusedOnUppyRecently",n=>{this.el.contains(n.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});L(this,"disableInteractiveElements",n=>{const s=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],r=S(this,Gl)??Qu(this.el.querySelectorAll(s)).filter(i=>!i.classList.contains("uppy-Dashboard-close"));for(const i of r)i.tagName==="A"?i.setAttribute("aria-disabled",n):i.disabled=n;n?U(this,Gl,r):U(this,Gl,null),this.dashboardIsDisabled=n});L(this,"updateBrowserHistory",()=>{var n;(n=history.state)!=null&&n[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});L(this,"handlePopState",n=>{var s;this.isModalOpen()&&(!n.state||!n.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((s=n.state)!=null&&s[this.modalName])&&history.back()});L(this,"handleKeyDownInModal",n=>{n.keyCode===dee&&this.requestCloseModal(),n.keyCode===e_&&ID(n,this.getPluginState().activeOverlayType,this.el)});L(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});L(this,"handlePaste",n=>{this.uppy.iteratePlugins(r=>{var i;r.type==="acquirer"&&((i=r.handleRootPaste)==null||i.call(r,n))});const s=Qu(n.clipboardData.files);s.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(s))});L(this,"handleInputChange",n=>{n.preventDefault();const s=Qu(n.currentTarget.files||[]);s.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(s))});L(this,"handleDragOver",n=>{n.preventDefault(),n.stopPropagation();const s=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var u;(u=c.canHandleRootDrop)!=null&&u.call(c,n)&&(l=!0)}),l},r=()=>{const{types:l}=n.dataTransfer;return l.some(c=>c==="Files")},i=s(),a=r();if(!i&&!a||this.opts.disabled||this.opts.disableLocalFiles&&(a||!i)||!this.uppy.getState().allowNewUpload){n.dataTransfer.dropEffect="none";return}n.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(n)});L(this,"handleDragLeave",n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(n)});L(this,"handleDrop",async n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(a=>{var l;a.type==="acquirer"&&((l=a.handleRootDrop)==null||l.call(a,n))});let s=!1;const r=a=>{this.uppy.log(a,"error"),s||(this.uppy.info(a.message,"error"),s=!0)};this.uppy.log("[Dashboard] Processing dropped files");const i=await iJ(n.dataTransfer,{logDropError:r});i.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(i)),this.opts.onDrop(n)});L(this,"handleRequestThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",n)});L(this,"handleCancelThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",n)});L(this,"handleKeyDownInInline",n=>{n.keyCode===e_&&uee(n,this.getPluginState().activeOverlayType,this.el)});L(this,"handlePasteOnBody",n=>{this.el.contains(document.activeElement)&&this.handlePaste(n)});L(this,"handleComplete",({failed:n})=>{this.opts.closeAfterFinish&&!(n!=null&&n.length)&&this.requestCloseModal()});L(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});$(this,to,()=>{if(this.opts.disableThumbnailGenerator)return;const n=600,s=this.uppy.getFiles();if(s.length===1){const r=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);r==null||r.setOptions({thumbnailWidth:n});const i={...s[0],preview:void 0};r==null||r.requestThumbnail(i).then(()=>{r==null||r.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});$(this,ih,n=>{const s=n[0],{metaFields:r}=this.getPluginState(),i=r&&r.length>0,a=this.canEditFile(s);i&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,s.id):a&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(s)});L(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const n=K2(this.opts.trigger);n?n.forEach(s=>s.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",S(this,Ql)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",S(this,to)),this.uppy.on("file-removed",S(this,to)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",S(this,ih))});L(this,"removeEvents",()=>{const n=K2(this.opts.trigger);!this.opts.inline&&n&&n.forEach(s=>s.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",S(this,Ql)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",S(this,to)),this.uppy.off("file-removed",S(this,to)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",S(this,ih))});L(this,"superFocusOnEachUpdate",()=>{const n=this.el.contains(document.activeElement),s=document.activeElement===document.body||document.activeElement===null,r=this.uppy.getState().info.length===0,i=!this.opts.inline;r&&(i||n||s&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});L(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});L(this,"saveFileCard",(n,s)=>{this.uppy.setFileMeta(s,n),this.toggleFileCard(!1,s)});$(this,Yl,n=>{const s=this.uppy.getPlugin(n.id);return{...n,icon:s.icon||this.opts.defaultPickerIcon,render:s.render}});$(this,Bm,n=>{const s=this.uppy.getPlugin(n.id);return typeof s.isSupported!="function"?!0:s.isSupported()});$(this,Vm,n=>n.filter(s=>s.type==="acquirer"&&S(this,Bm).call(this,s)).map(S(this,Yl)));$(this,zm,n=>n.filter(s=>s.type==="progressindicator").map(S(this,Yl)));$(this,no,n=>n.filter(s=>s.type==="editor").map(S(this,Yl)));L(this,"render",n=>{const s=this.getPluginState(),{files:r,capabilities:i,allowNewUpload:a}=n,{newFiles:l,uploadStartedFiles:c,completeFiles:u,erroredFiles:d,inProgressFiles:h,inProgressNotPausedFiles:f,processingFiles:p,isUploadStarted:x,isAllComplete:g,isAllPaused:b}=this.uppy.getObjectOfFilesPerState(),v=S(this,Vm).call(this,s.targets),y=S(this,zm).call(this,s.targets),w=S(this,no).call(this,s.targets);let j;return this.opts.theme==="auto"?j=i.darkMode?"dark":"light":j=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),iee({state:n,isHidden:s.isHidden,files:r,newFiles:l,uploadStartedFiles:c,completeFiles:u,erroredFiles:d,inProgressFiles:h,inProgressNotPausedFiles:f,processingFiles:p,isUploadStarted:x,isAllComplete:g,isAllPaused:b,totalFileCount:Object.keys(r).length,totalProgress:n.totalProgress,allowNewUpload:a,acquirers:v,theme:j,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:s.activePickerPanel,showFileEditor:s.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:s.isClosing,progressindicators:y,editors:w,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:n.recoveredState,metaFields:s.metaFields,resumableUploads:i.resumableUploads||!1,individualCancellation:i.individualCancellation,isMobileDevice:i.isMobileDevice,fileCardFor:s.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:s.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:s.containerWidth,containerHeight:s.containerHeight,areInsidesReadyToBeVisible:s.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:s.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})});$(this,Wm,()=>{const{plugins:n}=this.opts;n.forEach(s=>{const r=this.uppy.getPlugin(s);r?r.mount(this,r):this.uppy.log(`[Uppy] Dashboard could not find plugin '${s}', make sure to uppy.use() the plugins you are specifying`,"warning")})});$(this,Hm,()=>{this.uppy.iteratePlugins(S(this,Ql))});$(this,Ql,n=>{var r;const s=["acquirer","editor"];n&&!((r=n.opts)!=null&&r.target)&&s.includes(n.type)&&(this.getPluginState().targets.some(a=>n.id===a.id)||n.mount(this,n))});L(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:n,closeAfterFinish:s}=this.opts;if(n&&s)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:r,allowMultipleUploadBatches:i}=this.uppy.opts;(r||i)&&s&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:a}=this.opts;a&&this.mount(a,this),this.opts.disableStatusBar||this.uppy.use(mX,{id:z(this,Wt,z0).call(this),target:this,...z(this,Wt,B0).call(this)}),this.opts.disableInformer||this.uppy.use(fD,{id:z(this,Wt,$D).call(this),target:this,...z(this,Wt,LD).call(this)}),this.opts.disableThumbnailGenerator||this.uppy.use(_D,{id:z(this,Wt,W0).call(this),...z(this,Wt,V0).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),S(this,Wm).call(this),S(this,Hm).call(this),this.initEvents()});L(this,"uninstall",()=>{var s;if(!this.opts.disableInformer){const r=this.uppy.getPlugin(`${this.id}:Informer`);r&&this.uppy.removePlugin(r)}if(!this.opts.disableStatusBar){const r=this.uppy.getPlugin(`${this.id}:StatusBar`);r&&this.uppy.removePlugin(r)}if(!this.opts.disableThumbnailGenerator){const r=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);r&&this.uppy.removePlugin(r)}const{plugins:n}=this.opts;n.forEach(r=>{const i=this.uppy.getPlugin(r);i&&i.unmount()}),this.opts.theme==="auto"&&((s=this.darkModeMediaQuery)==null||s.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=aee,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(i=this.opts).onRequestCloseModal??(i.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(n){var s,r;super.setOptions(n),(s=this.uppy.getPlugin(z(this,Wt,z0).call(this)))==null||s.setOptions(z(this,Wt,B0).call(this)),(r=this.uppy.getPlugin(z(this,Wt,W0).call(this)))==null||r.setOptions(z(this,Wt,V0).call(this))}},Gl=new WeakMap,to=new WeakMap,ih=new WeakMap,Yl=new WeakMap,Bm=new WeakMap,Vm=new WeakMap,zm=new WeakMap,no=new WeakMap,Wm=new WeakMap,Hm=new WeakMap,Ql=new WeakMap,Wt=new WeakSet,B0=function(){const{hideUploadButton:n,hideRetryButton:s,hidePauseResumeButton:r,hideCancelButton:i,showProgressDetails:a,hideProgressAfterFinish:l,locale:c,doneButtonHandler:u}=this.opts;return{hideUploadButton:n,hideRetryButton:s,hidePauseResumeButton:r,hideCancelButton:i,showProgressDetails:a,hideAfterFinish:l,locale:c,doneButtonHandler:u}},V0=function(){const{thumbnailWidth:n,thumbnailHeight:s,thumbnailType:r,waitForThumbnailsBeforeUpload:i}=this.opts;return{thumbnailWidth:n,thumbnailHeight:s,thumbnailType:r,waitForThumbnailsBeforeUpload:i,lazy:!i}},LD=function(){return{}},z0=function(){return`${this.id}:StatusBar`},W0=function(){return`${this.id}:ThumbnailGenerator`},$D=function(){return`${this.id}:Informer`},L(Av,"VERSION",SJ.version),Av);const pee=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],mee=/^(aria-|data-)/,UD=e=>Object.fromEntries(Object.entries(e).filter(([t])=>mee.test(t)||pee.includes(t)));function gee(e,t){const n=UD(e);return Object.keys(e).some(s=>!Object.hasOwn(n,s)&&e[s]!==t[s])}class BD extends m.Component{constructor(){super(...arguments);L(this,"container");L(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(n){const{uppy:s,open:r,onRequestClose:i}=this.props;if(n.uppy!==s)this.uninstallPlugin(n),this.installPlugin();else if(gee(this.props,n)){const{uppy:a,...l}={...this.props,inline:!1,onRequestCloseModal:i};this.plugin.setOptions(l)}n.open&&!r?this.plugin.closeModal():!n.open&&r&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:n=this.container,open:s,onRequestClose:r,uppy:i,...a}=this.props,l={id:"DashboardModal",...a,inline:!1,target:n,open:s,onRequestCloseModal:r};i.use(fee,l),this.plugin=i.getPlugin(l.id),s&&this.plugin.openModal()}uninstallPlugin(n=this.props){const{uppy:s}=n;s.removePlugin(this.plugin)}render(){return m.createElement("div",{className:"uppy-Container",ref:n=>{this.container=n},...UD(this.props)})}}L(BD,"defaultProps",{open:void 0,onRequestClose:void 0});m.createContext({uppy:void 0,status:"init",progress:0});var yee={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=m;function vee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xee=typeof Object.is=="function"?Object.is:vee,wee=Gh.useSyncExternalStore,bee=Gh.useRef,jee=Gh.useEffect,See=Gh.useMemo,Nee=Gh.useDebugValue;yee.useSyncExternalStoreWithSelector=function(e,t,n,s,r){var i=bee(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=See(function(){function c(p){if(!u){if(u=!0,d=p,p=s(p),r!==void 0&&a.hasValue){var x=a.value;if(r(x,p))return h=x}return h=p}if(x=h,xee(d,p))return x;var g=s(p);return r!==void 0&&r(x,g)?x:(d=p,h=g)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,s,r]);var l=wee(e,i[0],i[1]);return jee(function(){a.hasValue=!0,a.value=l},[l]),Nee(l),l};function VD(e,t){return Object.hasOwn(e,t)}class Cee extends Error{constructor(n,s){super(n);L(this,"isNetworkError");L(this,"cause");this.cause=s==null?void 0:s.cause,this.cause&&VD(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}class _ee extends Error{constructor(n,s=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");L(this,"cause");L(this,"isNetworkError");L(this,"request");this.cause=n,this.isNetworkError=!0,this.request=s}}function Pee(...e){return fetch(...e).catch(t=>{throw t.name==="AbortError"?t:new _ee(t)})}function kee(e){var r;const n=(r=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(e))==null?void 0:r[1];return`${/^http:\/\//i.test(e)?"ws":"wss"}://${n}`}class Tee extends Error{constructor(){super(...arguments);L(this,"name","UserFacingApiError")}}var zD={};function ys(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Eee=ys;ys.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};ys.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};ys.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var s=this;return this._timer=setTimeout(function(){s._attempts++,s._operationTimeoutCb&&(s._timeout=setTimeout(function(){s._operationTimeoutCb(s._attempts)},s._operationTimeout),s._options.unref&&s._timeout.unref()),s._fn(s._attempts)},n),this._options.unref&&this._timer.unref(),!0};ys.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};ys.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};ys.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};ys.prototype.start=ys.prototype.try;ys.prototype.errors=function(){return this._errors};ys.prototype.attempts=function(){return this._attempts};ys.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,s=0;s<this._errors.length;s++){var r=this._errors[s],i=r.message,a=(e[i]||0)+1;e[i]=a,a>=n&&(t=r,n=a)}return t};(function(e){var t=Eee;e.operation=function(n){var s=e.timeouts(n);return new t(s,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var s={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in n)s[r]=n[r];if(s.minTimeout>s.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],a=0;a<s.retries;a++)i.push(this.createTimeout(a,s));return n&&n.forever&&!i.length&&i.push(this.createTimeout(a,s)),i.sort(function(l,c){return l-c}),i},e.createTimeout=function(n,s){var r=s.randomize?Math.random()+1:1,i=Math.round(r*Math.max(s.minTimeout,1)*Math.pow(s.factor,n));return i=Math.min(i,s.maxTimeout),i},e.wrap=function(n,s,r){if(s instanceof Array&&(r=s,s=null),!r){r=[];for(var i in n)typeof n[i]=="function"&&r.push(i)}for(var a=0;a<r.length;a++){var l=r[a],c=n[l];n[l]=(function(d){var h=e.operation(s),f=Array.prototype.slice.call(arguments,1),p=f.pop();f.push(function(x){h.retry(x)||(x&&(arguments[0]=h.mainError()),p.apply(this,arguments))}),h.attempt(function(){d.apply(n,f)})}).bind(n,c),n[l].options=s}}})(zD);var Aee=zD;const Mee=di(Aee),Ree=Object.prototype.toString,Dee=e=>Ree.call(e)==="[object Error]",Fee=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function Oee(e){return e&&Dee(e)&&e.name==="TypeError"&&typeof e.message=="string"?e.message==="Load failed"?e.stack===void 0:Fee.has(e.message):!1}class H0 extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const n_=(e,t,n)=>{const s=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=s,e};async function s_(e,t){return new Promise((n,s)=>{t={...t},t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.retries??(t.retries=10);const r=Mee.operation(t),i=()=>{var l;r.stop(),s((l=t.signal)==null?void 0:l.reason)};t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",i,{once:!0});const a=()=>{var l;(l=t.signal)==null||l.removeEventListener("abort",i),r.stop()};r.attempt(async l=>{try{const c=await e(l);a(),n(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof H0)throw c.originalError;if(c instanceof TypeError&&!Oee(c))throw c;if(n_(c,l,t),await t.shouldRetry(c)||(r.stop(),s(c)),await t.onFailedAttempt(c),!r.retry(c))throw r.mainError()}catch(u){n_(u,l,t),a(),s(u)}}})})}const Iee="@uppy/companion-client",Lee="Client library for communication with Companion. Intended for use in Uppy plugins.",$ee="4.5.2",Uee="MIT",Bee="lib/index.js",Vee="module",zee={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Wee=["file uploader","uppy","uppy-plugin","companion","provider"],Hee="https://uppy.io",qee={url:"https://github.com/transloadit/uppy/issues"},Kee={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Gee=["src","lib","dist","CHANGELOG.md"],Yee={"@uppy/utils":"^6.2.2","namespace-emitter":"^2.0.1","p-retry":"^6.1.0"},Qee={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},Zee={"@uppy/core":"^4.5.2"},Xee={name:Iee,description:Lee,version:$ee,license:Uee,main:Bee,type:Vee,scripts:zee,keywords:Wee,homepage:Hee,bugs:qee,repository:Kee,files:Gee,dependencies:Yee,devDependencies:Qee,peerDependencies:Zee};class Jee extends Error{constructor(){super("Authorization required");L(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function ete(e){return e.replace(/\/$/,"")}const r_=10,tte=5*60*1e3,nte=401;class ste extends Error{constructor({statusCode:n,message:s}){super(s);L(this,"statusCode");this.name="HttpError",this.statusCode=n}}async function rte(e){if(e.status===nte)throw new Jee;if(e.ok)return e.json();let t=`Failed request with status: ${e.status}. ${e.statusText}`,n;try{n=await e.json(),n.message&&(t=`${t} message: ${n.message}`),n.requestId&&(t=`${t} request-Id: ${n.requestId}`)}catch(s){throw new Error(t,{cause:s})}throw e.status>=400&&e.status<=499&&n.message?new Tee(n.message):new ste({statusCode:e.status,message:t})}function ite(e,t,n){const{progress:s,bytesUploaded:r,bytesTotal:i}=t;s&&(e.uppy.log(`Upload progress: ${s}`),e.uppy.emit("upload-progress",n,{uploadStarted:n.progress.uploadStarted??0,bytesUploaded:r,bytesTotal:i}))}var so,ga,q0,qm,K0;class WD{constructor(t,n){$(this,ga);$(this,so);L(this,"uppy");L(this,"opts");$(this,qm,async({file:t,postBody:n,signal:s})=>{var i;if(((i=t.remote)==null?void 0:i.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(t.remote.url,{...t.remote.body,...n},{signal:s})).token});this.uppy=t,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),U(this,so,n.companionHeaders)}setCompanionHeaders(t){U(this,so,t)}[Symbol.for("uppy test: getCompanionHeaders")](){return S(this,so)}get hostname(){const{companion:t}=this.uppy.getState(),n=this.opts.companionUrl;return ete(t!=null&&t[n]?t[n]:n)}async headers(t=!1){return{...{Accept:"application/json",...t?void 0:{"Content-Type":"application/json"}},...S(this,so)}}onReceiveResponse(t){const{headers:n}=t,r=this.uppy.getState().companion||{},i=this.opts.companionUrl;n.has("i-am")&&n.get("i-am")!==r[i]&&this.uppy.setState({companion:{...r,[i]:n.get("i-am")}})}async request({path:t,method:n="GET",data:s,skipPostResponse:r,signal:i}){try{const a=await this.headers(!s),l=await Pee(z(this,ga,q0).call(this,t),{method:n,signal:i,headers:a,credentials:this.opts.companionCookiesRule||"same-origin",body:s?JSON.stringify(s):null});return r||this.onReceiveResponse(l),await rte(l)}catch(a){throw a.isAuthError||a.name==="UserFacingApiError"||a.name==="AbortError"?a:new Cee(`Could not ${n} ${z(this,ga,q0).call(this,t)}`,{cause:a})}}async get(t,n){return this.request({...n,path:t})}async post(t,n,s){return this.request({...s,path:t,method:"POST",data:n})}async delete(t,n,s){return this.request({...s,path:t,method:"DELETE",data:n})}async uploadRemoteFile(t,n,s){try{const{signal:r,getQueue:i}=s||{};return await s_(async()=>{var u;const a=(u=this.uppy.getFile(t.id))==null?void 0:u.serverToken;if(a!=null)return this.uppy.log(`Connecting to exiting websocket ${a}`),z(this,ga,K0).call(this,{file:t,queue:i(),signal:r});const c=await i().wrapPromiseFunction(async(...d)=>{try{return await S(this,qm).call(this,...d)}catch(h){if(h.isAuthError)throw new H0(h);if(h.cause==null)throw h;const f=h.cause,p=()=>[408,409,429,418,423].includes(f.statusCode)||f.statusCode>=500&&f.statusCode<=599&&![501,505].includes(f.statusCode);throw f.name==="HttpError"&&!p()?new H0(f):f}},{priority:-1})({file:t,postBody:n,signal:r}).abortOn(r);if(this.uppy.getFile(t.id))return this.uppy.setFileState(t.id,{serverToken:c}),z(this,ga,K0).call(this,{file:this.uppy.getFile(t.id),queue:i(),signal:r})},{retries:r_,signal:r,onFailedAttempt:a=>this.uppy.log(`Retrying upload due to: ${a.message}`,"warning")})}catch(r){if(r.name==="AbortError")return;throw this.uppy.emit("upload-error",t,r),r}}}so=new WeakMap,ga=new WeakSet,q0=function(t){return/^(https?:|)\/\//.test(t)?t:`${this.hostname}/${t}`},qm=new WeakMap,K0=async function({file:t,queue:n,signal:s}){let r;const{capabilities:i}=this.uppy.getState();try{return await new Promise((a,l)=>{const c=t.serverToken,u=kee(t.remote.companionUrl);let d,h,f,{isPaused:p}=t;const x=(C,T)=>{if(d==null||d.readyState!==d.OPEN){this.uppy.log(`Cannot send "${C}" to socket ${t.id} because the socket state was ${String(d==null?void 0:d.readyState)}`,"warning");return}d.send(JSON.stringify({action:C,payload:T??{}}))};function g(){i.resumableUploads&&x(p?"pause":"resume")}const b=async()=>{h&&h.abort(),h=new AbortController;const C=M=>{var E;this.uppy.setFileState(t.id,{serverToken:null}),(E=h==null?void 0:h.abort)==null||E.call(h),l(M)};function T(){clearTimeout(f),!p&&(f=setTimeout(()=>C(new Error("Timeout waiting for message from Companion socket")),tte))}try{await n.wrapPromiseFunction(async()=>{await s_(async()=>new Promise((E,O)=>{d=new WebSocket(`${u}/api/${c}`),T(),d.addEventListener("close",()=>{d=void 0,O(new Error("Socket closed unexpectedly"))}),d.addEventListener("error",q=>{this.uppy.log(`Companion socket error ${JSON.stringify(q)}, closing socket`,"warning"),d==null||d.close()}),d.addEventListener("open",()=>{g()}),d.addEventListener("message",q=>{var W,R,K;T();try{const{action:I,payload:_}=JSON.parse(q.data);switch(I){case"progress":{ite(this,_,this.uppy.getFile(t.id));break}case"success":{const B=(W=_.response)==null?void 0:W.responseText;this.uppy.emit("upload-success",this.uppy.getFile(t.id),{uploadURL:_.url,status:((R=_.response)==null?void 0:R.status)??200,body:B?JSON.parse(B):void 0}),(K=h==null?void 0:h.abort)==null||K.call(h),a();break}case"error":{const{message:B}=_.error;throw Object.assign(new Error(B),{cause:_.error})}default:this.uppy.log(`Companion socket unknown action ${I}`,"warning")}}catch(I){C(I)}});const D=()=>{this.uppy.log(`Closing socket ${t.id}`),clearTimeout(f),d&&d.close(),d=void 0};h.signal.addEventListener("abort",()=>{D()})}),{retries:r_,signal:h.signal,onFailedAttempt:()=>{h.signal.aborted||this.uppy.log(`Retrying websocket ${t.id}`)}})})().abortOn(h.signal)}catch(M){if(h.signal.aborted)return;C(M)}},v=C=>{i.resumableUploads&&(p=C,d&&g())},y=C=>{var T;i.individualCancellation&&C.id===t.id&&(x("cancel"),(T=h==null?void 0:h.abort)==null||T.call(h),this.uppy.log(`upload ${t.id} was removed`),a())},w=()=>{var C;x("cancel"),(C=h==null?void 0:h.abort)==null||C.call(h),this.uppy.log(`upload ${t.id} was canceled`),a()},j=(C,T)=>{(C==null?void 0:C.id)===t.id&&v(T)},N=()=>v(!0),k=()=>v(!1);this.uppy.on("file-removed",y),this.uppy.on("cancel-all",w),this.uppy.on("upload-pause",j),this.uppy.on("pause-all",N),this.uppy.on("resume-all",k),r=()=>{this.uppy.off("file-removed",y),this.uppy.off("cancel-all",w),this.uppy.off("upload-pause",j),this.uppy.off("pause-all",N),this.uppy.off("resume-all",k)},s.addEventListener("abort",()=>{h==null||h.abort()}),b()})}finally{r==null||r()}},L(WD,"VERSION",Xee.version);var dr,ah;class ate{constructor(t){$(this,dr);$(this,ah,[]);U(this,dr,t)}on(t,n){return S(this,ah).push([t,n]),S(this,dr).on(t,n)}remove(){for(const[t,n]of S(this,ah).splice(0))S(this,dr).off(t,n)}onFilePause(t,n){this.on("upload-pause",(s,r)=>{t===(s==null?void 0:s.id)&&n(r)})}onFileRemove(t,n){this.on("file-removed",s=>{t===s.id&&n(s.id)})}onPause(t,n){this.on("upload-pause",(s,r)=>{t===(s==null?void 0:s.id)&&n(r)})}onRetry(t,n){this.on("upload-retry",s=>{t===(s==null?void 0:s.id)&&n()})}onRetryAll(t,n){this.on("retry-all",()=>{S(this,dr).getFile(t)&&n()})}onPauseAll(t,n){this.on("pause-all",()=>{S(this,dr).getFile(t)&&n()})}onCancelAll(t,n){this.on("cancel-all",(...s)=>{S(this,dr).getFile(t)&&n(...s)})}onResumeAll(t,n){this.on("resume-all",()=>{S(this,dr).getFile(t)&&n()})}}dr=new WeakMap,ah=new WeakMap;const{AbortController:bv}=globalThis,HD=(e="Aborted",t)=>{const n=new DOMException(e,"AbortError");return t!=null&&VD(t,"cause")&&Object.defineProperty(n,"cause",{__proto__:null,configurable:!0,writable:!0,value:t.cause}),n};function ote(e){const t=n=>"error"in n&&!!n.error;return e.filter(n=>!t(n))}function lte(e){return e.filter(t=>{var n;return!((n=t.progress)!=null&&n.uploadStarted)||!t.isRestored})}function i_(e,t){return e===!0?Object.keys(t):Array.isArray(e)?e:[]}function cte(e){return new Error("Cancelled",{cause:e})}function a_(e){var t;if(e!=null){const n=()=>this.abort(e.reason);e.addEventListener("abort",n,{once:!0});const s=()=>{e.removeEventListener("abort",n)};(t=this.then)==null||t.call(this,s,s)}return this}var Wr,hr,Hr,Zl,fr,Xl,ro,un,G0,Eu,qD,KD,GD,Km,Jl;class ute{constructor(t){$(this,un);$(this,Wr,0);$(this,hr,[]);$(this,Hr,!1);$(this,Zl);$(this,fr,1);$(this,Xl);$(this,ro);L(this,"limit");$(this,Km,()=>this.resume());$(this,Jl,()=>{if(S(this,Hr)){U(this,ro,setTimeout(S(this,Jl),0));return}U(this,fr,this.limit),this.limit=Math.ceil((S(this,Xl)+S(this,fr))/2);for(let t=S(this,fr);t<=this.limit;t++)z(this,un,Eu).call(this);S(this,Xl)-S(this,fr)>3?U(this,ro,setTimeout(S(this,Jl),2e3)):U(this,fr,Math.floor(S(this,fr)/2))});typeof t!="number"||t===0?this.limit=1/0:this.limit=t}run(t,n){return!S(this,Hr)&&S(this,Wr)<this.limit?z(this,un,G0).call(this,t):z(this,un,KD).call(this,t,n)}wrapSyncFunction(t,n){return(...s)=>{const r=this.run(()=>(t(...s),queueMicrotask(()=>r.done()),()=>{}),n);return{abortOn:a_,abort(){r.abort()}}}}wrapPromiseFunction(t,n){return(...s)=>{let r;const i=new Promise((a,l)=>{r=this.run(()=>{let c,u;try{u=Promise.resolve(t(...s))}catch(d){u=Promise.reject(d)}return u.then(d=>{c?l(c):(r.done(),a(d))},d=>{c?l(c):(r.done(),l(d))}),d=>{c=cte(d)}},n)});return i.abort=a=>{r.abort(a)},i.abortOn=a_,i}}resume(){U(this,Hr,!1),clearTimeout(S(this,Zl));for(let t=0;t<this.limit;t++)z(this,un,Eu).call(this)}pause(t=null){U(this,Hr,!0),clearTimeout(S(this,Zl)),t!=null&&U(this,Zl,setTimeout(S(this,Km),t))}rateLimit(t){clearTimeout(S(this,ro)),this.pause(t),this.limit>1&&Number.isFinite(this.limit)&&(U(this,Xl,this.limit-1),this.limit=S(this,fr),U(this,ro,setTimeout(S(this,Jl),t)))}get isPaused(){return S(this,Hr)}}Wr=new WeakMap,hr=new WeakMap,Hr=new WeakMap,Zl=new WeakMap,fr=new WeakMap,Xl=new WeakMap,ro=new WeakMap,un=new WeakSet,G0=function(t){U(this,Wr,S(this,Wr)+1);let n=!1,s;try{s=t()}catch(r){throw U(this,Wr,S(this,Wr)-1),r}return{abort:r=>{n||(n=!0,U(this,Wr,S(this,Wr)-1),s==null||s(r),z(this,un,Eu).call(this))},done:()=>{n||(n=!0,U(this,Wr,S(this,Wr)-1),z(this,un,Eu).call(this))}}},Eu=function(){queueMicrotask(()=>z(this,un,qD).call(this))},qD=function(){if(S(this,Hr)||S(this,Wr)>=this.limit||S(this,hr).length===0)return;const t=S(this,hr).shift();if(t==null)throw new Error("Invariant violation: next is null");const n=z(this,un,G0).call(this,t.fn);t.abort=n.abort,t.done=n.done},KD=function(t,n){const s={fn:t,priority:(n==null?void 0:n.priority)||0,abort:()=>{z(this,un,GD).call(this,s)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},r=S(this,hr).findIndex(i=>s.priority>i.priority);return r===-1?S(this,hr).push(s):S(this,hr).splice(r,0,s),s},GD=function(t){const n=S(this,hr).indexOf(t);n!==-1&&S(this,hr).splice(n,1)},Km=new WeakMap,Jl=new WeakMap;const dte="@uppy/aws-s3",hte="Upload to Amazon S3 with Uppy",fte="4.3.2",pte="MIT",mte="lib/index.js",gte="module",yte={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},vte=["file uploader","aws s3","amazon s3","s3","uppy","uppy-plugin","multipart"],xte="https://uppy.io",wte={url:"https://github.com/transloadit/uppy/issues"},bte={type:"git",url:"git+https://github.com/transloadit/uppy.git"},jte=["src","lib","dist","CHANGELOG.md"],Ste={"@uppy/companion-client":"^4.5.2","@uppy/utils":"^6.2.2"},Nte={"@aws-sdk/client-s3":"^3.362.0","@aws-sdk/s3-request-presigner":"^3.362.0","@uppy/core":"^4.5.2",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4","whatwg-fetch":"3.6.2"},Cte={"@uppy/core":"^4.5.2"},_te={name:dte,description:hte,version:fte,license:pte,main:mte,type:gte,scripts:yte,keywords:vte,homepage:xte,bugs:wte,repository:bte,files:jte,dependencies:Ste,devDependencies:Nte,peerDependencies:Cte};function Pte({method:e="PUT",CanonicalUri:t="/",CanonicalQueryString:n="",SignedHeaders:s,HashedPayload:r}){const i=Object.keys(s).map(a=>a.toLowerCase()).sort();return[e,t,n,...i.map(a=>`${a}:${s[a]}`),"",i.join(";"),r].join(`
`)}const oj=new TextEncoder,lj={name:"HMAC",hash:"SHA-256"};async function kte(e){const{subtle:t}=globalThis.crypto;return t.digest(lj.hash,oj.encode(e))}async function Tte(e){const{subtle:t}=globalThis.crypto;return t.importKey("raw",typeof e=="string"?oj.encode(e):e,lj,!1,["sign"])}function o_(e){const t=new Uint8Array(e);let n="";for(let s=0;s<t.length;s++)n+=t[s].toString(16).padStart(2,"0");return n}async function mu(e,t){const{subtle:n}=globalThis.crypto;return n.sign(lj,await Tte(e),oj.encode(t))}async function Ete({accountKey:e,accountSecret:t,sessionToken:n,bucketName:s,Key:r,Region:i,expires:a,uploadId:l,partNumber:c}){const u="s3",d=`${u}.${i}.amazonaws.com`,h=`/${s}/${encodeURI(r).replace(/[;?:@&=+$,#!'()*]/g,M=>`%${M.charCodeAt(0).toString(16).toUpperCase()}`)}`,f="UNSIGNED-PAYLOAD",p=new Date().toISOString().replace(/[-:]|\.\d+/g,""),x=p.slice(0,8),g=`${x}/${i}/${u}/aws4_request`,b=new URL(`https://${d}${h}`);b.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),b.searchParams.set("X-Amz-Content-Sha256",f),b.searchParams.set("X-Amz-Credential",`${e}/${g}`),b.searchParams.set("X-Amz-Date",p),b.searchParams.set("X-Amz-Expires",a),b.searchParams.set("X-Amz-Security-Token",n),b.searchParams.set("X-Amz-SignedHeaders","host"),c&&b.searchParams.set("partNumber",c),l&&b.searchParams.set("uploadId",l),b.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const v=Pte({CanonicalUri:h,CanonicalQueryString:b.search.slice(1),SignedHeaders:{host:d},HashedPayload:f}),y=o_(await kte(v)),w=["AWS4-HMAC-SHA256",p,g,y].join(`
`),j=await mu(`AWS4${t}`,x),N=await mu(j,i),k=await mu(N,u),C=await mu(k,"aws4_request"),T=o_(await mu(C,w));return b.searchParams.set("X-Amz-Signature",T),b}const Ate=1024*1024,l_={getChunkSize(e){return Math.ceil(e.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(e){throw e}};function Mte(e){if(typeof e=="string")return parseInt(e,10);if(typeof e=="number")return e;throw new TypeError("Expected a number")}const vp=Symbol("pausing upload, not an actual error");var _s,is,pr,qr,Kr,oh,lh,ec,io,tc,ch,nc,uh,tr,YD,QD,Y0,dh,hh,ZD;class Rte{constructor(t,n){$(this,tr);L(this,"options");$(this,_s,new bv);$(this,is,[]);$(this,pr,[]);$(this,qr);$(this,Kr);$(this,oh,!1);$(this,lh);$(this,ec);$(this,io);$(this,tc);$(this,ch,t=>(t==null?void 0:t.cause)===vp?null:S(this,lh).call(this,t));$(this,nc,1e4);$(this,uh,5*Ate);$(this,dh,t=>n=>{if(!n.lengthComputable)return;S(this,pr)[t].uploaded=Mte(n.loaded);const s=S(this,pr).reduce((r,i)=>r+i.uploaded,0);this.options.onProgress(s,S(this,qr).size)});$(this,hh,t=>n=>{S(this,is)[t]=null,S(this,pr)[t].etag=n,S(this,pr)[t].done=!0;const s={PartNumber:t+1,ETag:n};this.options.onPartComplete(s)});var s;this.options={...l_,...n},(s=this.options).getChunkSize??(s.getChunkSize=l_.getChunkSize),U(this,qr,t),U(this,Kr,n.file),U(this,ec,this.options.onSuccess),U(this,lh,this.options.onError),U(this,io,this.options.shouldUseMultipart),U(this,tc,n.uploadId&&n.key),z(this,tr,YD).call(this)}start(){S(this,oh)?(S(this,_s).signal.aborted||S(this,_s).abort(vp),U(this,_s,new bv),z(this,tr,Y0).call(this)):S(this,tc)?(this.options.companionComm.restoreUploadFile(S(this,Kr),{uploadId:this.options.uploadId,key:this.options.key}),z(this,tr,Y0).call(this)):z(this,tr,QD).call(this)}pause(){S(this,_s).abort(vp),U(this,_s,new bv)}abort(t){t!=null&&t.really?z(this,tr,ZD).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return S(this,pr)}}_s=new WeakMap,is=new WeakMap,pr=new WeakMap,qr=new WeakMap,Kr=new WeakMap,oh=new WeakMap,lh=new WeakMap,ec=new WeakMap,io=new WeakMap,tc=new WeakMap,ch=new WeakMap,nc=new WeakMap,uh=new WeakMap,tr=new WeakSet,YD=function(){const t=S(this,qr).size,n=typeof S(this,io)=="function"?S(this,io).call(this,S(this,Kr)):!!S(this,io);if(n&&t>S(this,uh)){let s=Math.max(this.options.getChunkSize(S(this,qr)),S(this,uh)),r=Math.floor(t/s);r>S(this,nc)&&(r=S(this,nc),s=t/S(this,nc)),U(this,is,Array(r));for(let i=0,a=0;i<t;i+=s,a++){const l=Math.min(t,i+s),c=()=>{const u=i;return S(this,qr).slice(u,l)};if(S(this,is)[a]={getData:c,onProgress:S(this,dh).call(this,a),onComplete:S(this,hh).call(this,a),shouldUseMultipart:n},S(this,tc)){const u=i+s>t?t-i:s;S(this,is)[a].setAsUploaded=()=>{S(this,is)[a]=null,S(this,pr)[a].uploaded=u}}}}else U(this,is,[{getData:()=>S(this,qr),onProgress:S(this,dh).call(this,0),onComplete:S(this,hh).call(this,0),shouldUseMultipart:n}]);U(this,pr,S(this,is).map(()=>({uploaded:0})))},QD=function(){this.options.companionComm.uploadFile(S(this,Kr),S(this,is),S(this,_s).signal).then(S(this,ec),S(this,ch)),U(this,oh,!0)},Y0=function(){this.options.companionComm.resumeUploadFile(S(this,Kr),S(this,is),S(this,_s).signal).then(S(this,ec),S(this,ch))},dh=new WeakMap,hh=new WeakMap,ZD=function(){S(this,_s).abort(),this.options.companionComm.abortFileUpload(S(this,Kr)).catch(t=>this.options.log(t))};function on(e){if(e!=null&&e.aborted)throw HD("The operation was aborted",{cause:e.reason})}function Dte(e){const t=new URL(e);return t.search="",t.hash="",t.href}var fh,Ps,ph,mh,gh,yh,sc,rc,ic,ac,ao,oc,ks,Lo,XD,Q0;class Fte{constructor(t,n,s,r){$(this,Lo);$(this,fh);$(this,Ps,new WeakMap);$(this,ph);$(this,mh);$(this,gh);$(this,yh);$(this,sc);$(this,rc);$(this,ic);$(this,ac);$(this,ao);$(this,oc);$(this,ks);U(this,rc,t),U(this,ao,s),U(this,ks,r),this.setOptions(n)}setOptions(t){const n=S(this,rc);"abortMultipartUpload"in t&&U(this,fh,n.wrapPromiseFunction(t.abortMultipartUpload,{priority:1})),"createMultipartUpload"in t&&U(this,ph,n.wrapPromiseFunction(t.createMultipartUpload,{priority:-1})),"signPart"in t&&U(this,mh,n.wrapPromiseFunction(t.signPart)),"listParts"in t&&U(this,yh,n.wrapPromiseFunction(t.listParts)),"completeMultipartUpload"in t&&U(this,ac,n.wrapPromiseFunction(t.completeMultipartUpload,{priority:1})),"retryDelays"in t&&U(this,ic,t.retryDelays??[]),"uploadPartBytes"in t&&U(this,oc,n.wrapPromiseFunction(t.uploadPartBytes,{priority:1/0})),"getUploadParameters"in t&&U(this,gh,n.wrapPromiseFunction(t.getUploadParameters))}async getUploadId(t,n){let s;for(;s=S(this,Ps).get(t.data),s!=null;)try{return await s}catch{}const r=S(this,ph).call(this,S(this,ks).call(this,t),n),i=()=>{r.abort(n.reason),S(this,Ps).delete(t.data)};return n.addEventListener("abort",i,{once:!0}),S(this,Ps).set(t.data,r),r.then(async a=>{n.removeEventListener("abort",i),S(this,ao).call(this,t,a),S(this,Ps).set(t.data,a)},()=>{n.removeEventListener("abort",i),S(this,Ps).delete(t.data)}),r}async abortFileUpload(t){const n=S(this,Ps).get(t.data);if(n==null)return;S(this,Ps).delete(t.data),S(this,ao).call(this,t,Object.create(null));let s;try{s=await n}catch{return}await S(this,fh).call(this,S(this,ks).call(this,t),s)}async uploadFile(t,n,s){if(on(s),n.length===1&&!n[0].shouldUseMultipart)return z(this,Lo,Q0).call(this,t,n[0],s);const{uploadId:r,key:i}=await this.getUploadId(t,s);on(s);try{const a=await Promise.all(n.map((l,c)=>this.uploadChunk(t,c+1,l,s)));return on(s),await S(this,ac).call(this,S(this,ks).call(this,t),{key:i,uploadId:r,parts:a,signal:s},s).abortOn(s)}catch(a){throw(a==null?void 0:a.cause)!==vp&&(a==null?void 0:a.name)!=="AbortError"&&this.abortFileUpload(t),a}}restoreUploadFile(t,n){S(this,Ps).set(t.data,n)}async resumeUploadFile(t,n,s){if(on(s),n.length===1&&n[0]!=null&&!n[0].shouldUseMultipart)return z(this,Lo,Q0).call(this,t,n[0],s);const{uploadId:r,key:i}=await this.getUploadId(t,s);on(s);const a=await S(this,yh).call(this,S(this,ks).call(this,t),{uploadId:r,key:i,signal:s},s).abortOn(s);on(s);const l=await Promise.all(n.map((c,u)=>{var f;const d=u+1,h=a.find(({PartNumber:p})=>p===d);return h==null?this.uploadChunk(t,d,c,s):((f=c==null?void 0:c.setAsUploaded)==null||f.call(c),{PartNumber:d,ETag:h.ETag})}));return on(s),S(this,ac).call(this,S(this,ks).call(this,t),{key:i,uploadId:r,parts:l,signal:s},s).abortOn(s)}async uploadChunk(t,n,s,r){on(r);const{uploadId:i,key:a}=await this.getUploadId(t,r),l=S(this,ic).values(),c=S(this,ic).values(),u=()=>{const d=l.next();return d==null||d.done?null:d.value};for(;;){on(r);const d=s.getData(),{onProgress:h,onComplete:f}=s;let p;try{p=await S(this,mh).call(this,S(this,ks).call(this,t),{uploadId:i,key:a,partNumber:n,body:d,signal:r}).abortOn(r)}catch(x){const g=u();if(g==null||r.aborted)throw x;await new Promise(b=>setTimeout(b,g));continue}on(r);try{return{PartNumber:n,...await S(this,oc).call(this,{signature:p,body:d,size:d.size,onProgress:h,onComplete:f,signal:r}).abortOn(r)}}catch(x){if(!await z(this,Lo,XD).call(this,x,c))throw x}}}}fh=new WeakMap,Ps=new WeakMap,ph=new WeakMap,mh=new WeakMap,gh=new WeakMap,yh=new WeakMap,sc=new WeakMap,rc=new WeakMap,ic=new WeakMap,ac=new WeakMap,ao=new WeakMap,oc=new WeakMap,ks=new WeakMap,Lo=new WeakSet,XD=async function(t,n){var i;const s=S(this,rc),r=(i=t==null?void 0:t.source)==null?void 0:i.status;if(r==null)return!1;if(r===403&&t.message==="Request has expired"){if(!s.isPaused){if(s.limit===1||S(this,sc)==null){const a=n.next();if(a==null||a.done)return!1;U(this,sc,a.value)}s.rateLimit(0),await new Promise(a=>setTimeout(a,S(this,sc)))}}else if(r===429){if(!s.isPaused){const a=n.next();if(a==null||a.done)return!1;s.rateLimit(a.value)}}else{if(r>400&&r<500&&r!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)s.isPaused||(s.pause(),window.addEventListener("online",()=>{s.resume()},{once:!0}));else{const a=n.next();if(a==null||a.done)return!1;await new Promise(l=>setTimeout(l,a.value))}}return!0},Q0=async function(t,n,s){const{method:r="POST",url:i,fields:a,headers:l}=await S(this,gh).call(this,S(this,ks).call(this,t),{signal:s}).abortOn(s);let c;const u=n.getData();if(r.toUpperCase()==="POST"){const x=new FormData;Object.entries(a).forEach(([g,b])=>x.set(g,b)),x.set("file",u),c=x}else c=u;const{onProgress:d,onComplete:h}=n,f=await S(this,oc).call(this,{signature:{url:i,headers:l,method:r},body:c,size:u.size,onProgress:d,onComplete:h,signal:s}).abortOn(s),p=a==null?void 0:a.key;return S(this,ao).call(this,t,{key:p}),{...f,location:f.location??Dte(i),bucket:a==null?void 0:a.bucket,key:p}};function Zo(e){if(e!=null&&e.error){const t=new Error(e.message);throw Object.assign(t,e.error),t}return e}function c_(e){const t=e.Expiration;if(t){const n=Math.floor((new Date(t)-Date.now())/1e3);if(n>9)return n}}function u_({meta:e,allowedMetaFields:t,querify:n=!1}){const s=t??Object.keys(e);return e?Object.fromEntries(s.filter(r=>e[r]!=null).map(r=>{const i=n?`metadata[${r}]`:r,a=String(e[r]);return[i,a]})):{}}const Ote={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:e=>(e.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var lc,vn,Ft,X0,Si,Ts,JD,Gm,cc,eF,tF,vh,uc,oo,xh;const Ym=class Ym extends A5{constructor(n,s){super(n,{...Ote,uploadPartBytes:Ym.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...s});$(this,Ft);$(this,lc);$(this,vn);L(this,"requests");L(this,"uploaderEvents");L(this,"uploaders");$(this,Ts);$(this,Gm,(n,{key:s,uploadId:r})=>{const i=this.uppy.getFile(n.id);i!=null&&this.uppy.setFileState(n.id,{s3Multipart:{...i.s3Multipart,key:s,uploadId:r}})});$(this,cc,n=>this.uppy.getFile(n.id)||n);$(this,vh,async n=>{if(n.length===0)return;const s=this.uppy.getFilesByIds(n),r=ote(s),i=lte(r);this.uppy.emit("upload-start",i);const a=r.map(c=>{if(c.isRemote){const u=()=>this.requests;S(this,oo).call(this,!1);const d=new AbortController,h=p=>{p.id===c.id&&d.abort()};this.uppy.on("file-removed",h);const f=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,z(this,Ft,tF).call(this,c),{signal:d.signal,getQueue:u});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",h)},{priority:-1})(),f}return z(this,Ft,eF).call(this,c)}),l=await Promise.allSettled(a);return S(this,oo).call(this,!0),l});$(this,uc,()=>{var n;(n=S(this,vn))==null||n.setCompanionHeaders(this.opts.headers)});$(this,oo,n=>{const{capabilities:s}=this.uppy.getState();this.uppy.setState({capabilities:{...s,resumableUploads:n}})});$(this,xh,()=>{S(this,oo).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",z(this,Ft,X0).call(this,s);const r={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:s!=null&&s.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:s!=null&&s.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const i of Object.keys(r))this.opts[i]==null&&(this.opts[i]=r[i].bind(this));this.requests=this.opts.rateLimitedQueue??new ute(this.opts.limit),U(this,lc,new Fte(this.requests,this.opts,S(this,Gm),S(this,cc))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return S(this,vn)}setOptions(n){S(this,lc).setOptions(n),super.setOptions(n),z(this,Ft,X0).call(this,n)}resetUploaderReferences(n,s){this.uploaders[n]&&(this.uploaders[n].abort({really:(s==null?void 0:s.abort)||!1}),this.uploaders[n]=null),this.uploaderEvents[n]&&(this.uploaderEvents[n].remove(),this.uploaderEvents[n]=null)}createMultipartUpload(n,s){z(this,Ft,Si).call(this,"createMultipartUpload"),on(s);const r=i_(this.opts.allowedMetaFields,n.meta),i=u_({meta:n.meta,allowedMetaFields:r});return S(this,vn).post("s3/multipart",{filename:n.name,type:n.type,metadata:i},{signal:s}).then(Zo)}listParts(n,{key:s,uploadId:r,signal:i},a){i??(i=a),z(this,Ft,Si).call(this,"listParts"),on(i);const l=encodeURIComponent(s);return S(this,vn).get(`s3/multipart/${encodeURIComponent(r)}?key=${l}`,{signal:i}).then(Zo)}completeMultipartUpload(n,{key:s,uploadId:r,parts:i,signal:a},l){a??(a=l),z(this,Ft,Si).call(this,"completeMultipartUpload"),on(a);const c=encodeURIComponent(s),u=encodeURIComponent(r);return S(this,vn).post(`s3/multipart/${u}/complete?key=${c}`,{parts:i.map(({ETag:d,PartNumber:h})=>({ETag:d,PartNumber:h}))},{signal:a}).then(Zo)}async createSignedURL(n,s){const r=await z(this,Ft,JD).call(this,s),i=c_(r.credentials)||604800,{uploadId:a,key:l,partNumber:c}=s;return{method:"PUT",expires:i,fields:{},url:`${await Ete({accountKey:r.credentials.AccessKeyId,accountSecret:r.credentials.SecretAccessKey,sessionToken:r.credentials.SessionToken,expires:i,bucketName:r.bucket,Region:r.region,Key:l??`${crypto.randomUUID()}-${n.name}`,uploadId:a,partNumber:c})}`,headers:{"Content-Type":n.type}}}signPart(n,{uploadId:s,key:r,partNumber:i,signal:a}){if(z(this,Ft,Si).call(this,"signPart"),on(a),s==null||r==null||i==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(r);return S(this,vn).get(`s3/multipart/${encodeURIComponent(s)}/${i}?key=${l}`,{signal:a}).then(Zo)}abortMultipartUpload(n,{key:s,uploadId:r,signal:i}){z(this,Ft,Si).call(this,"abortMultipartUpload");const a=encodeURIComponent(s),l=encodeURIComponent(r);return S(this,vn).delete(`s3/multipart/${l}?key=${a}`,void 0,{signal:i}).then(Zo)}getUploadParameters(n,s){z(this,Ft,Si).call(this,"getUploadParameters");const{meta:r}=n,{type:i,name:a}=r,l=i_(this.opts.allowedMetaFields,n.meta),c=u_({meta:r,allowedMetaFields:l,querify:!0}),u=new URLSearchParams({filename:a,type:i,...c});return S(this,vn).get(`s3/params?${u}`,s)}static async uploadPartBytes({signature:{url:n,expires:s,headers:r,method:i="PUT"},body:a,size:l=a.size,onProgress:c,onComplete:u,signal:d}){if(on(d),n==null)throw new Error("Cannot upload to an undefined URL");return new Promise((h,f)=>{const p=new XMLHttpRequest;p.open(i,n,!0),r&&Object.keys(r).forEach(b=>{p.setRequestHeader(b,r[b])}),p.responseType="text",typeof s=="number"&&(p.timeout=s*1e3);function x(){p.abort()}function g(){d==null||d.removeEventListener("abort",x)}d==null||d.addEventListener("abort",x),p.upload.addEventListener("progress",b=>{c(b)}),p.addEventListener("abort",()=>{g(),f(HD())}),p.addEventListener("timeout",()=>{g();const b=new Error("Request has expired");b.source={status:403},f(b)}),p.addEventListener("load",()=>{if(g(),p.status===403&&p.responseText.includes("<Message>Request has expired</Message>")){const j=new Error("Request has expired");j.source=p,f(j);return}if(p.status<200||p.status>=300){const j=new Error("Non 2xx");j.source=p,f(j);return}c==null||c({loaded:l,lengthComputable:!0});const b=p.getAllResponseHeaders().trim().split(/[\r\n]+/),v={__proto__:null};for(const j of b){const N=j.split(": "),k=N.shift(),C=N.join(": ");v[k]=C}const{etag:y,location:w}=v;if(i.toUpperCase()==="POST"&&w==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),y==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}u==null||u(y),h({...v,ETag:y})}),p.addEventListener("error",b=>{g();const v=new Error("Unknown error");v.source=b.target,f(v)}),p.send(a)})}install(){S(this,oo).call(this,!0),this.uppy.addPreProcessor(S(this,uc)),this.uppy.addUploader(S(this,vh)),this.uppy.on("cancel-all",S(this,xh))}uninstall(){this.uppy.removePreProcessor(S(this,uc)),this.uppy.removeUploader(S(this,vh)),this.uppy.off("cancel-all",S(this,xh))}};lc=new WeakMap,vn=new WeakMap,Ft=new WeakSet,X0=function(n){n==null||!("endpoint"in n||"companionUrl"in n||"headers"in n||"companionHeaders"in n||"cookiesRule"in n||"companionCookiesRule"in n)||("companionUrl"in n&&!("endpoint"in n)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in n&&!("headers"in n)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in n&&!("cookiesRule"in n)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in n?U(this,vn,new WD(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in n&&S(this,uc).call(this),"cookiesRule"in n&&(S(this,vn).opts.companionCookiesRule=n.cookiesRule)))},Si=function(n){if(!S(this,vn))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${n}\` implementation.`)},Ts=new WeakMap,JD=async function(n){if(on(n==null?void 0:n.signal),S(this,Ts)==null){const{getTemporarySecurityCredentials:s}=this.opts;s===!0?(z(this,Ft,Si).call(this,"getTemporarySecurityCredentials"),U(this,Ts,S(this,vn).get("s3/sts",n).then(Zo))):U(this,Ts,s(n)),U(this,Ts,await S(this,Ts)),setTimeout(()=>{U(this,Ts,null)},(c_(S(this,Ts).credentials)||0)*500)}return S(this,Ts)},Gm=new WeakMap,cc=new WeakMap,eF=function(n){return new Promise((s,r)=>{const i=(d,h)=>{const f=this.uppy.getFile(n.id);this.uppy.emit("upload-progress",f,{uploadStarted:f.progress.uploadStarted??0,bytesUploaded:d,bytesTotal:h})},a=d=>{this.uppy.log(d),this.uppy.emit("upload-error",n,d),this.resetUploaderReferences(n.id),r(d)},l=d=>{const h={body:{...d},status:200,uploadURL:d.location};this.resetUploaderReferences(n.id),this.uppy.emit("upload-success",S(this,cc).call(this,n),h),d.location&&this.uppy.log(`Download ${n.name} from ${d.location}`),s(void 0)},c=new Rte(n.data,{companionComm:S(this,lc),log:(...d)=>this.uppy.log(...d),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:i,onError:a,onSuccess:l,onPartComplete:d=>{this.uppy.emit("s3-multipart:part-uploaded",S(this,cc).call(this,n),d)},file:n,shouldUseMultipart:this.opts.shouldUseMultipart,...n.s3Multipart});this.uploaders[n.id]=c;const u=new ate(this.uppy);this.uploaderEvents[n.id]=u,u.onFileRemove(n.id,d=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),s(`upload ${d} was removed`)}),u.onCancelAll(n.id,()=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),s(`upload ${n.id} was canceled`)}),u.onFilePause(n.id,d=>{d?c.pause():c.start()}),u.onPauseAll(n.id,()=>{c.pause()}),u.onResumeAll(n.id,()=>{c.start()}),c.start()})},tF=function(n){var s;return{...(s=n.remote)==null?void 0:s.body,protocol:"s3-multipart",size:n.data.size,metadata:n.meta}},vh=new WeakMap,uc=new WeakMap,oo=new WeakMap,xh=new WeakMap,L(Ym,"VERSION",_te.version);let Z0=Ym;function Ite({maxNumberOfFiles:e=1,maxFileSize:t=10485760,onGetUploadParameters:n,onComplete:s,buttonClassName:r,children:i}){const[a,l]=m.useState(!1),[c]=m.useState(()=>new k0({restrictions:{maxNumberOfFiles:e,maxFileSize:t},autoProceed:!1}).use(Z0,{shouldUseMultipart:!1,getUploadParameters:n}).on("complete",u=>{s==null||s(u)}));return o.jsxs("div",{children:[o.jsx(V,{onClick:()=>l(!0),className:r,children:i}),o.jsx(BD,{uppy:c,open:a,onRequestClose:()=>l(!1),proudlyDisplayPoweredByUppy:!1})]})}function nF({teamMemberId:e,currentProfileImage:t,memberName:n,onImageUpdated:s,size:r="md",showUploadIcon:i=!0}){const{toast:a}=at(),l=_t(),[c,u]=m.useState(t),[d,h]=m.useState(0),f=Ne({mutationFn:async v=>{console.log("Updating profile image for member:",e,"with URL:",v);const w=await(await Ae("PUT",`/api/team-members/${e}/profile-image`,{profileImageURL:v})).json();return console.log("Profile image update response:",w),w},onSuccess:v=>{if(console.log("Profile image successfully updated:",v),a({title:"نجح الرفع",description:"تم تحديث الصورة الشخصية بنجاح"}),v.objectPath){u(v.objectPath),h(w=>w+1);const y=`${v.objectPath}?t=${Date.now()}`;u(y)}l.invalidateQueries({queryKey:["/api/team-members"]}),l.refetchQueries({queryKey:["/api/team-members"]}),s==null||s(v.objectPath)},onError:v=>{console.error("Error updating profile image:",v),a({title:"خطأ في الرفع",description:"فشل في تحديث الصورة الشخصية: "+v.message,variant:"destructive"})}}),p=async v=>{try{console.log("Getting upload parameters for file:",v.name,v.type,v.size);const w=await(await Ae("POST","/api/objects/upload",{})).json();return console.log("Got upload parameters:",w),{method:"PUT",url:w.uploadURL}}catch(y){throw console.error("Error getting upload parameters:",y),a({title:"خطأ",description:"فشل في الحصول على رابط الرفع",variant:"destructive"}),y}},x=v=>{if(console.log("Upload result:",v),v.successful&&v.successful.length>0){const y=v.successful[0].uploadURL;console.log("Upload completed, URL:",y);const j=new URL(y).pathname.split("/"),N=j.findIndex(k=>k.includes("replit-objstore"));if(N>=0){const k=j.slice(N).join("/");console.log("Extracted object path:",k),f.mutate(y)}else f.mutate(y)}else console.error("Upload failed:",v),a({title:"خطأ",description:"فشل في رفع الصورة",variant:"destructive"})},g={sm:"w-14 h-14",md:"w-20 h-20",lg:"w-32 h-32"},b=v=>v.split(" ").map(y=>y.charAt(0)).join("").toUpperCase().slice(0,2);return o.jsxs("div",{className:"relative group",children:[o.jsxs(Ng,{className:`${g[r]} ring-4 ring-blue-200/60 ring-offset-2 transition-all duration-300 group-hover:ring-blue-400/80 shadow-lg`,children:[o.jsx(T1,{src:c||t||void 0,alt:`صورة ${n}`,className:"object-cover",onError:v=>{if(console.log("Image failed to load:",c||t),c&&c.includes("?t=")){const y=c.split("?t=")[0];u(y)}},onLoad:()=>{console.log("Image loaded successfully:",c||t)}},d),o.jsx(Cg,{className:"bg-gradient-to-br from-blue-100 to-blue-200 text-blue-700 font-bold text-lg border-2 border-blue-300 shadow-inner",children:b(n)})]}),i&&o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 flex items-center justify-center backdrop-blur-sm",children:o.jsx(Ite,{maxNumberOfFiles:1,maxFileSize:5*1024*1024,onGetUploadParameters:p,onComplete:x,buttonClassName:"bg-transparent hover:bg-transparent p-2 h-auto border-none shadow-none rounded-full hover:bg-white/20 transition-colors",children:o.jsx(M6,{className:"w-5 h-5 text-white drop-shadow-sm"})})}),f.isPending&&o.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-80 rounded-full flex items-center justify-center backdrop-blur-sm",children:o.jsx("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})})]})}function Lte(){const{toast:e}=at(),t=_t(),{user:n}=wa(),[s,r]=m.useState(!1),[i,a]=m.useState(null),[l,c]=m.useState({name:"",role:"user",email:""}),u=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="supervisor",{data:d=[],isLoading:h}=We({queryKey:["/api/team-members"]}),f=Ne({mutationFn:async j=>await Ae("/api/team-members","POST",j),onSuccess:()=>{e({title:"تم إنشاء عضو الفريق",description:"تم إضافة عضو الفريق بنجاح"}),t.invalidateQueries({queryKey:["/api/team-members"]}),r(!1),c({name:"",role:"user",email:""})},onError:j=>{e({title:"خطأ",description:"فشل في إضافة عضو الفريق",variant:"destructive"})}}),p=Ne({mutationFn:async({id:j,updates:N})=>await Ae(`/api/team-members/${j}`,"PATCH",N),onSuccess:()=>{e({title:"تم تحديث عضو الفريق",description:"تم تحديث بيانات عضو الفريق بنجاح"}),t.invalidateQueries({queryKey:["/api/team-members"]}),a(null)},onError:j=>{e({title:"خطأ",description:"فشل في تحديث عضو الفريق",variant:"destructive"})}}),x=Ne({mutationFn:async j=>await Ae(`/api/team-members/${j}`,"DELETE"),onSuccess:()=>{e({title:"تم حذف عضو الفريق",description:"تم حذف عضو الفريق بنجاح"}),t.invalidateQueries({queryKey:["/api/team-members"]})},onError:j=>{e({title:"خطأ",description:"فشل في حذف عضو الفريق",variant:"destructive"})}}),g=()=>{if(!l.name||!l.email){e({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"});return}f.mutate(l)},b=()=>{i&&p.mutate({id:i.id,updates:i})},v=j=>{switch(j){case"available":return"bg-green-100 text-green-800";case"busy":return"bg-yellow-100 text-yellow-800";case"offline":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},y=j=>{switch(j){case"available":return"متاح";case"busy":return"مشغول";case"offline":return"غير متصل";default:return j}},w=j=>{switch(j){case"admin":return"مدير النظام";case"supervisor":return"مشرف";case"user":return"مستخدم";default:return j}};return h?o.jsx("div",{className:"flex items-center justify-center min-h-96",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"جاري تحميل أعضاء الفريق..."})]})}):o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"أعضاء الفريق"}),u&&o.jsxs(Xt,{open:s,onOpenChange:r,children:[o.jsx(sb,{asChild:!0,children:o.jsxs(V,{children:[o.jsx(Ah,{className:"w-4 h-4 ml-2"}),"إضافة عضو جديد"]})}),o.jsxs(zt,{children:[o.jsx(Sn,{children:o.jsx(Nn,{children:"إضافة عضو فريق جديد"})}),o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"name",children:"الاسم"}),o.jsx(Se,{id:"name",placeholder:"اسم العضو",value:l.name,onChange:j=>c({...l,name:j.target.value})})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"email",children:"البريد الإلكتروني"}),o.jsx(Se,{id:"email",type:"email",placeholder:"البريد الإلكتروني",value:l.email,onChange:j=>c({...l,email:j.target.value})})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"role",children:"الدور"}),o.jsxs(At,{value:l.role,onValueChange:j=>c({...l,role:j}),children:[o.jsx(jt,{children:o.jsx(Mt,{placeholder:"اختر الدور"})}),o.jsxs(St,{children:[o.jsx(ve,{value:"user",children:"مستخدم"}),o.jsx(ve,{value:"supervisor",children:"مشرف"}),(n==null?void 0:n.role)==="admin"&&o.jsx(ve,{value:"admin",children:"مدير النظام"})]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(V,{onClick:g,disabled:f.isPending,children:f.isPending?"جاري الإضافة...":"إضافة"}),o.jsx(V,{variant:"outline",onClick:()=>r(!1),children:"إلغاء"})]})]})]})]})]}),o.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:d.map(j=>o.jsxs(le,{className:"group hover:shadow-2xl hover:-translate-y-1 transition-all duration-500 border-0 bg-white rounded-3xl overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 via-purple-400 to-cyan-400 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{padding:"2px"},children:o.jsx("div",{className:"bg-white rounded-3xl h-full w-full"})}),o.jsxs("div",{className:"relative z-10 bg-white rounded-3xl",children:[o.jsxs(Le,{className:"pb-6 pt-8 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(nF,{teamMemberId:j.id,currentProfileImage:j.profileImage,memberName:j.name,size:"lg",showUploadIcon:u,onImageUpdated:N=>{t.invalidateQueries({queryKey:["/api/team-members"]}),t.refetchQueries({queryKey:["/api/team-members"]})}},`${j.id}-${j.profileImage||"no-image"}`)}),o.jsx($e,{className:"text-2xl mb-3 text-gray-800 font-bold",children:j.name}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[o.jsx(Te,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-0 font-semibold px-4 py-2 rounded-full text-sm shadow-md",children:w(j.role)}),o.jsx(Te,{className:`${v(j.status)} px-4 py-2 font-semibold rounded-full text-sm shadow-md border-0`,children:y(j.status)})]}),u&&o.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[o.jsx(V,{variant:"ghost",size:"icon",className:"h-12 w-12 rounded-full bg-blue-50 hover:bg-blue-100 hover:scale-110 transition-all duration-200 text-blue-600",onClick:()=>a(j),children:o.jsx(H6,{className:"w-5 h-5"})}),o.jsx(V,{variant:"ghost",size:"icon",className:"h-12 w-12 rounded-full bg-red-50 hover:bg-red-100 hover:scale-110 transition-all duration-200 text-red-600",onClick:()=>x.mutate(j.id),children:o.jsx(Eh,{className:"w-5 h-5"})})]})]}),o.jsx(ce,{className:"pt-0 pb-8",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 text-sm bg-gradient-to-r from-gray-50 to-blue-50 p-4 rounded-2xl border border-gray-100",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(Qp,{className:"w-5 h-5 text-blue-600"})}),o.jsx("span",{className:"truncate text-gray-700 font-medium",children:j.email})]}),j.phone&&o.jsxs("div",{className:"flex items-center gap-3 text-sm bg-gradient-to-r from-gray-50 to-green-50 p-4 rounded-2xl border border-gray-100",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-green-600 text-lg",children:"📱"})}),o.jsx("span",{className:"truncate text-gray-700 font-medium",children:j.phone})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-4 rounded-2xl text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-semibold text-lg",children:"المهام النشطة"}),o.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-2xl font-bold",children:j.activeTasks})})]})})]})})]})]},j.id))}),o.jsx(Xt,{open:!!i,onOpenChange:j=>!j&&a(null),children:o.jsxs(zt,{children:[o.jsx(Sn,{children:o.jsx(Nn,{children:"تعديل عضو الفريق"})}),i&&o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"edit-name",children:"الاسم"}),o.jsx(Se,{id:"edit-name",value:i.name,onChange:j=>a({...i,name:j.target.value})})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"edit-email",children:"البريد الإلكتروني"}),o.jsx(Se,{id:"edit-email",type:"email",value:i.email,onChange:j=>a({...i,email:j.target.value})})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"edit-phone",children:"رقم الهاتف (للواتساب)"}),o.jsx(Se,{id:"edit-phone",type:"text",placeholder:"مثال: 966501234567",value:i.phone||"",onChange:j=>a({...i,phone:j.target.value})})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"edit-role",children:"الدور"}),o.jsxs(At,{value:i.role,onValueChange:j=>a({...i,role:j}),children:[o.jsx(jt,{children:o.jsx(Mt,{})}),o.jsxs(St,{children:[o.jsx(ve,{value:"user",children:"مستخدم"}),o.jsx(ve,{value:"supervisor",children:"مشرف"}),(n==null?void 0:n.role)==="admin"&&o.jsx(ve,{value:"admin",children:"مدير النظام"})]})]})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"edit-status",children:"الحالة"}),o.jsxs(At,{value:i.status,onValueChange:j=>a({...i,status:j}),children:[o.jsx(jt,{children:o.jsx(Mt,{})}),o.jsxs(St,{children:[o.jsx(ve,{value:"available",children:"متاح"}),o.jsx(ve,{value:"busy",children:"مشغول"}),o.jsx(ve,{value:"offline",children:"غير متصل"})]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(V,{onClick:b,disabled:p.isPending,children:p.isPending?"جاري التحديث...":"تحديث"}),o.jsx(V,{variant:"outline",onClick:()=>a(null),children:"إلغاء"})]})]})]})})]})}var Yh=e=>e.type==="checkbox",za=e=>e instanceof Date,bn=e=>e==null;const sF=e=>typeof e=="object";var Nt=e=>!bn(e)&&!Array.isArray(e)&&sF(e)&&!za(e),rF=e=>Nt(e)&&e.target?Yh(e.target)?e.target.checked:e.target.value:e,$te=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,iF=(e,t)=>e.has($te(t)),Ute=e=>{const t=e.constructor&&e.constructor.prototype;return Nt(t)&&t.hasOwnProperty("isPrototypeOf")},cj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ht(e){let t;const n=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(cj&&(e instanceof Blob||s))&&(n||Nt(e)))if(t=n?[]:{},!n&&!Ute(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=Ht(e[r]));else return e;return t}var Bg=e=>Array.isArray(e)?e.filter(Boolean):[],vt=e=>e===void 0,ee=(e,t,n)=>{if(!t||!Nt(e))return n;const s=Bg(t.split(/[,[\].]+?/)).reduce((r,i)=>bn(r)?r:r[i],e);return vt(s)||s===e?vt(e[t])?n:e[t]:s},zn=e=>typeof e=="boolean",uj=e=>/^\w*$/.test(e),aF=e=>Bg(e.replace(/["|']|\]/g,"").split(/\.|\[/)),He=(e,t,n)=>{let s=-1;const r=uj(t)?[t]:aF(t),i=r.length,a=i-1;for(;++s<i;){const l=r[s];let c=n;if(s!==a){const u=e[l];c=Nt(u)||Array.isArray(u)?u:isNaN(+r[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const jm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$s={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Or={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},oF=je.createContext(null),Vg=()=>je.useContext(oF),Bte=e=>{const{children:t,...n}=e;return je.createElement(oF.Provider,{value:n},t)};var lF=(e,t,n,s=!0)=>{const r={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(r,i,{get:()=>{const a=i;return t._proxyFormState[a]!==$s.all&&(t._proxyFormState[a]=!s||$s.all),n&&(n[a]=!0),e[a]}});return r};function Vte(e){const t=Vg(),{control:n=t.control,disabled:s,name:r,exact:i}=e||{},[a,l]=je.useState(n._formState),c=je.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=je.useRef(r);return u.current=r,je.useEffect(()=>n._subscribe({name:u.current,formState:c.current,exact:i,callback:d=>{!s&&l({...n._formState,...d})}}),[n,s,i]),je.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),je.useMemo(()=>lF(a,n,c.current,!1),[a,n])}var xr=e=>typeof e=="string",cF=(e,t,n,s,r)=>xr(e)?(s&&t.watch.add(e),ee(n,e,r)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),ee(n,i))):(s&&(t.watchAll=!0),n);function zte(e){const t=Vg(),{control:n=t.control,name:s,defaultValue:r,disabled:i,exact:a}=e||{},l=je.useRef(s),c=je.useRef(r);l.current=s,je.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:a,callback:h=>!i&&d(cF(l.current,n._names,h.values||n._formValues,!1,c.current))}),[n,i,a]);const[u,d]=je.useState(n._getWatch(s,r));return je.useEffect(()=>n._removeUnmounted()),u}function Wte(e){const t=Vg(),{name:n,disabled:s,control:r=t.control,shouldUnregister:i}=e,a=iF(r._names.array,n),l=zte({control:r,name:n,defaultValue:ee(r._formValues,n,ee(r._defaultValues,n,e.defaultValue)),exact:!0}),c=Vte({control:r,name:n,exact:!0}),u=je.useRef(e),d=je.useRef(r.register(n,{...e.rules,value:l,...zn(e.disabled)?{disabled:e.disabled}:{}})),h=je.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ee(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!ee(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ee(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ee(c.validatingFields,n)},error:{enumerable:!0,get:()=>ee(c.errors,n)}}),[c,n]),f=je.useCallback(b=>d.current.onChange({target:{value:rF(b),name:n},type:jm.CHANGE}),[n]),p=je.useCallback(()=>d.current.onBlur({target:{value:ee(r._formValues,n),name:n},type:jm.BLUR}),[n,r._formValues]),x=je.useCallback(b=>{const v=ee(r._fields,n);v&&b&&(v._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:y=>b.setCustomValidity(y),reportValidity:()=>b.reportValidity()})},[r._fields,n]),g=je.useMemo(()=>({name:n,value:l,...zn(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:f,onBlur:p,ref:x}),[n,s,c.disabled,f,p,x,l]);return je.useEffect(()=>{const b=r._options.shouldUnregister||i;r.register(n,{...u.current.rules,...zn(u.current.disabled)?{disabled:u.current.disabled}:{}});const v=(y,w)=>{const j=ee(r._fields,y);j&&j._f&&(j._f.mount=w)};if(v(n,!0),b){const y=Ht(ee(r._options.defaultValues,n));He(r._defaultValues,n,y),vt(ee(r._formValues,n))&&He(r._formValues,n,y)}return!a&&r.register(n),()=>{(a?b&&!r._state.action:b)?r.unregister(n):v(n,!1)}},[n,r,a,i]),je.useEffect(()=>{r._setDisabledField({disabled:s,name:n})},[s,n,r]),je.useMemo(()=>({field:g,formState:c,fieldState:h}),[g,c,h])}const Hte=e=>e.render(Wte(e));var uF=(e,t,n,s,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:r||!0}}:{},Zu=e=>Array.isArray(e)?e:[e],d_=()=>{let e=[];return{get observers(){return e},next:r=>{for(const i of e)i.next&&i.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter(i=>i!==r)}}),unsubscribe:()=>{e=[]}}},J0=e=>bn(e)||!sF(e);function ki(e,t){if(J0(e)||J0(t))return e===t;if(za(e)&&za(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(const r of n){const i=e[r];if(!s.includes(r))return!1;if(r!=="ref"){const a=t[r];if(za(i)&&za(a)||Nt(i)&&Nt(a)||Array.isArray(i)&&Array.isArray(a)?!ki(i,a):i!==a)return!1}}return!0}var xn=e=>Nt(e)&&!Object.keys(e).length,dj=e=>e.type==="file",Us=e=>typeof e=="function",Sm=e=>{if(!cj)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},dF=e=>e.type==="select-multiple",hj=e=>e.type==="radio",qte=e=>hj(e)||Yh(e),jv=e=>Sm(e)&&e.isConnected;function Kte(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=vt(e)?s++:e[t[s++]];return e}function Gte(e){for(const t in e)if(e.hasOwnProperty(t)&&!vt(e[t]))return!1;return!0}function Rt(e,t){const n=Array.isArray(t)?t:uj(t)?[t]:aF(t),s=n.length===1?e:Kte(e,n),r=n.length-1,i=n[r];return s&&delete s[i],r!==0&&(Nt(s)&&xn(s)||Array.isArray(s)&&Gte(s))&&Rt(e,n.slice(0,-1)),e}var hF=e=>{for(const t in e)if(Us(e[t]))return!0;return!1};function Nm(e,t={}){const n=Array.isArray(e);if(Nt(e)||n)for(const s in e)Array.isArray(e[s])||Nt(e[s])&&!hF(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Nm(e[s],t[s])):bn(e[s])||(t[s]=!0);return t}function fF(e,t,n){const s=Array.isArray(e);if(Nt(e)||s)for(const r in e)Array.isArray(e[r])||Nt(e[r])&&!hF(e[r])?vt(t)||J0(n[r])?n[r]=Array.isArray(e[r])?Nm(e[r],[]):{...Nm(e[r])}:fF(e[r],bn(t)?{}:t[r],n[r]):n[r]=!ki(e[r],t[r]);return n}var gu=(e,t)=>fF(e,t,Nm(t));const h_={value:!1,isValid:!1},f_={value:!0,isValid:!0};var pF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!vt(e[0].attributes.value)?vt(e[0].value)||e[0].value===""?f_:{value:e[0].value,isValid:!0}:f_:h_}return h_},mF=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>vt(e)?e:t?e===""?NaN:e&&+e:n&&xr(e)?new Date(e):s?s(e):e;const p_={isValid:!1,value:null};var gF=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,p_):p_;function m_(e){const t=e.ref;return dj(t)?t.files:hj(t)?gF(e.refs).value:dF(t)?[...t.selectedOptions].map(({value:n})=>n):Yh(t)?pF(e.refs).value:mF(vt(t.value)?e.ref.value:t.value,e)}var Yte=(e,t,n,s)=>{const r={};for(const i of e){const a=ee(t,i);a&&He(r,i,a._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:s}},Cm=e=>e instanceof RegExp,yu=e=>vt(e)?e:Cm(e)?e.source:Nt(e)?Cm(e.value)?e.value.source:e.value:e,g_=e=>({isOnSubmit:!e||e===$s.onSubmit,isOnBlur:e===$s.onBlur,isOnChange:e===$s.onChange,isOnAll:e===$s.all,isOnTouch:e===$s.onTouched});const y_="AsyncFunction";var Qte=e=>!!e&&!!e.validate&&!!(Us(e.validate)&&e.validate.constructor.name===y_||Nt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===y_)),Zte=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),v_=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Xu=(e,t,n,s)=>{for(const r of n||Object.keys(e)){const i=ee(e,r);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],r)&&!s)return!0;if(a.ref&&t(a.ref,a.name)&&!s)return!0;if(Xu(l,t))break}else if(Nt(l)&&Xu(l,t))break}}};function x_(e,t,n){const s=ee(e,n);if(s||uj(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const i=r.join("."),a=ee(t,i),l=ee(e,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};r.pop()}return{name:n}}var Xte=(e,t,n,s)=>{n(e);const{name:r,...i}=e;return xn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!s||$s.all))},Jte=(e,t,n)=>!e||!t||e===t||Zu(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),ene=(e,t,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(t||e):(n?s.isOnBlur:r.isOnBlur)?!e:(n?s.isOnChange:r.isOnChange)?e:!0,tne=(e,t)=>!Bg(ee(e,t)).length&&Rt(e,t),nne=(e,t,n)=>{const s=Zu(ee(e,n));return He(s,"root",t[n]),He(e,n,s),e},xp=e=>xr(e);function w_(e,t,n="validate"){if(xp(e)||Array.isArray(e)&&e.every(xp)||zn(e)&&!e)return{type:n,message:xp(e)?e:"",ref:t}}var Xo=e=>Nt(e)&&!Cm(e)?e:{value:e,message:""},b_=async(e,t,n,s,r,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:x,name:g,valueAsNumber:b,mount:v}=e._f,y=ee(n,g);if(!v||t.has(g))return{};const w=l?l[0]:a,j=D=>{r&&w.reportValidity&&(w.setCustomValidity(zn(D)?"":D||""),w.reportValidity())},N={},k=hj(a),C=Yh(a),T=k||C,M=(b||dj(a))&&vt(a.value)&&vt(y)||Sm(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,E=uF.bind(null,g,s,N),O=(D,q,W,R=Or.maxLength,K=Or.minLength)=>{const I=D?q:W;N[g]={type:D?R:K,message:I,ref:a,...E(D?R:K,I)}};if(i?!Array.isArray(y)||!y.length:c&&(!T&&(M||bn(y))||zn(y)&&!y||C&&!pF(l).isValid||k&&!gF(l).isValid)){const{value:D,message:q}=xp(c)?{value:!!c,message:c}:Xo(c);if(D&&(N[g]={type:Or.required,message:q,ref:w,...E(Or.required,q)},!s))return j(q),N}if(!M&&(!bn(h)||!bn(f))){let D,q;const W=Xo(f),R=Xo(h);if(!bn(y)&&!isNaN(y)){const K=a.valueAsNumber||y&&+y;bn(W.value)||(D=K>W.value),bn(R.value)||(q=K<R.value)}else{const K=a.valueAsDate||new Date(y),I=Q=>new Date(new Date().toDateString()+" "+Q),_=a.type=="time",B=a.type=="week";xr(W.value)&&y&&(D=_?I(y)>I(W.value):B?y>W.value:K>new Date(W.value)),xr(R.value)&&y&&(q=_?I(y)<I(R.value):B?y<R.value:K<new Date(R.value))}if((D||q)&&(O(!!D,W.message,R.message,Or.max,Or.min),!s))return j(N[g].message),N}if((u||d)&&!M&&(xr(y)||i&&Array.isArray(y))){const D=Xo(u),q=Xo(d),W=!bn(D.value)&&y.length>+D.value,R=!bn(q.value)&&y.length<+q.value;if((W||R)&&(O(W,D.message,q.message),!s))return j(N[g].message),N}if(p&&!M&&xr(y)){const{value:D,message:q}=Xo(p);if(Cm(D)&&!y.match(D)&&(N[g]={type:Or.pattern,message:q,ref:a,...E(Or.pattern,q)},!s))return j(q),N}if(x){if(Us(x)){const D=await x(y,n),q=w_(D,w);if(q&&(N[g]={...q,...E(Or.validate,q.message)},!s))return j(q.message),N}else if(Nt(x)){let D={};for(const q in x){if(!xn(D)&&!s)break;const W=w_(await x[q](y,n),w,q);W&&(D={...W,...E(q,W.message)},j(W.message),s&&(N[g]=D))}if(!xn(D)&&(N[g]={ref:w,...D},!s))return N}}return j(!0),N};const sne={mode:$s.onSubmit,reValidateMode:$s.onChange,shouldFocusError:!0};function rne(e={}){let t={...sne,...e},n={submitCount:0,isDirty:!1,isLoading:Us(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const s={};let r=Nt(t.defaultValues)||Nt(t.values)?Ht(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:Ht(r),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:d_(),state:d_()},p=g_(t.mode),x=g_(t.reValidateMode),g=t.criteriaMode===$s.all,b=A=>F=>{clearTimeout(u),u=setTimeout(A,F)},v=async A=>{if(!t.disabled&&(d.isValid||h.isValid||A)){const F=t.resolver?xn((await M()).errors):await O(s,!0);F!==n.isValid&&f.state.next({isValid:F})}},y=(A,F)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((A||Array.from(l.mount)).forEach(H=>{H&&(F?He(n.validatingFields,H,F):Rt(n.validatingFields,H))}),f.state.next({validatingFields:n.validatingFields,isValidating:!xn(n.validatingFields)}))},w=(A,F=[],H,ae,J=!0,Z=!0)=>{if(ae&&H&&!t.disabled){if(a.action=!0,Z&&Array.isArray(ee(s,A))){const de=H(ee(s,A),ae.argA,ae.argB);J&&He(s,A,de)}if(Z&&Array.isArray(ee(n.errors,A))){const de=H(ee(n.errors,A),ae.argA,ae.argB);J&&He(n.errors,A,de),tne(n.errors,A)}if((d.touchedFields||h.touchedFields)&&Z&&Array.isArray(ee(n.touchedFields,A))){const de=H(ee(n.touchedFields,A),ae.argA,ae.argB);J&&He(n.touchedFields,A,de)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=gu(r,i)),f.state.next({name:A,isDirty:q(A,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else He(i,A,F)},j=(A,F)=>{He(n.errors,A,F),f.state.next({errors:n.errors})},N=A=>{n.errors=A,f.state.next({errors:n.errors,isValid:!1})},k=(A,F,H,ae)=>{const J=ee(s,A);if(J){const Z=ee(i,A,vt(H)?ee(r,A):H);vt(Z)||ae&&ae.defaultChecked||F?He(i,A,F?Z:m_(J._f)):K(A,Z),a.mount&&v()}},C=(A,F,H,ae,J)=>{let Z=!1,de=!1;const Ve={name:A};if(!t.disabled){if(!H||ae){(d.isDirty||h.isDirty)&&(de=n.isDirty,n.isDirty=Ve.isDirty=q(),Z=de!==Ve.isDirty);const kt=ki(ee(r,A),F);de=!!ee(n.dirtyFields,A),kt?Rt(n.dirtyFields,A):He(n.dirtyFields,A,!0),Ve.dirtyFields=n.dirtyFields,Z=Z||(d.dirtyFields||h.dirtyFields)&&de!==!kt}if(H){const kt=ee(n.touchedFields,A);kt||(He(n.touchedFields,A,H),Ve.touchedFields=n.touchedFields,Z=Z||(d.touchedFields||h.touchedFields)&&kt!==H)}Z&&J&&f.state.next(Ve)}return Z?Ve:{}},T=(A,F,H,ae)=>{const J=ee(n.errors,A),Z=(d.isValid||h.isValid)&&zn(F)&&n.isValid!==F;if(t.delayError&&H?(c=b(()=>j(A,H)),c(t.delayError)):(clearTimeout(u),c=null,H?He(n.errors,A,H):Rt(n.errors,A)),(H?!ki(J,H):J)||!xn(ae)||Z){const de={...ae,...Z&&zn(F)?{isValid:F}:{},errors:n.errors,name:A};n={...n,...de},f.state.next(de)}},M=async A=>{y(A,!0);const F=await t.resolver(i,t.context,Yte(A||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return y(A),F},E=async A=>{const{errors:F}=await M(A);if(A)for(const H of A){const ae=ee(F,H);ae?He(n.errors,H,ae):Rt(n.errors,H)}else n.errors=F;return F},O=async(A,F,H={valid:!0})=>{for(const ae in A){const J=A[ae];if(J){const{_f:Z,...de}=J;if(Z){const Ve=l.array.has(Z.name),kt=J._f&&Qte(J._f);kt&&d.validatingFields&&y([ae],!0);const en=await b_(J,l.disabled,i,g,t.shouldUseNativeValidation&&!F,Ve);if(kt&&d.validatingFields&&y([ae]),en[Z.name]&&(H.valid=!1,F))break;!F&&(ee(en,Z.name)?Ve?nne(n.errors,en,Z.name):He(n.errors,Z.name,en[Z.name]):Rt(n.errors,Z.name))}!xn(de)&&await O(de,F,H)}}return H.valid},D=()=>{for(const A of l.unMount){const F=ee(s,A);F&&(F._f.refs?F._f.refs.every(H=>!jv(H)):!jv(F._f.ref))&&Pt(A)}l.unMount=new Set},q=(A,F)=>!t.disabled&&(A&&F&&He(i,A,F),!ki(Ee(),r)),W=(A,F,H)=>cF(A,l,{...a.mount?i:vt(F)?r:xr(A)?{[A]:F}:F},H,F),R=A=>Bg(ee(a.mount?i:r,A,t.shouldUnregister?ee(r,A,[]):[])),K=(A,F,H={})=>{const ae=ee(s,A);let J=F;if(ae){const Z=ae._f;Z&&(!Z.disabled&&He(i,A,mF(F,Z)),J=Sm(Z.ref)&&bn(F)?"":F,dF(Z.ref)?[...Z.ref.options].forEach(de=>de.selected=J.includes(de.value)):Z.refs?Yh(Z.ref)?Z.refs.length>1?Z.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray(J)?!!J.find(Ve=>Ve===de.value):J===de.value)):Z.refs[0]&&(Z.refs[0].checked=!!J):Z.refs.forEach(de=>de.checked=de.value===J):dj(Z.ref)?Z.ref.value="":(Z.ref.value=J,Z.ref.type||f.state.next({name:A,values:Ht(i)})))}(H.shouldDirty||H.shouldTouch)&&C(A,J,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&se(A)},I=(A,F,H)=>{for(const ae in F){const J=F[ae],Z=`${A}.${ae}`,de=ee(s,Z);(l.array.has(A)||Nt(J)||de&&!de._f)&&!za(J)?I(Z,J,H):K(Z,J,H)}},_=(A,F,H={})=>{const ae=ee(s,A),J=l.array.has(A),Z=Ht(F);He(i,A,Z),J?(f.array.next({name:A,values:Ht(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&H.shouldDirty&&f.state.next({name:A,dirtyFields:gu(r,i),isDirty:q(A,Z)})):ae&&!ae._f&&!bn(Z)?I(A,Z,H):K(A,Z,H),v_(A,l)&&f.state.next({...n}),f.state.next({name:a.mount?A:void 0,values:Ht(i)})},B=async A=>{a.mount=!0;const F=A.target;let H=F.name,ae=!0;const J=ee(s,H),Z=de=>{ae=Number.isNaN(de)||za(de)&&isNaN(de.getTime())||ki(de,ee(i,H,de))};if(J){let de,Ve;const kt=F.type?m_(J._f):rF(A),en=A.type===jm.BLUR||A.type===jm.FOCUS_OUT,GF=!Zte(J._f)&&!t.resolver&&!ee(n.errors,H)&&!J._f.deps||ene(en,ee(n.touchedFields,H),n.isSubmitted,x,p),Qg=v_(H,l,en);He(i,H,kt),en?(J._f.onBlur&&J._f.onBlur(A),c&&c(0)):J._f.onChange&&J._f.onChange(A);const Zg=C(H,kt,en),YF=!xn(Zg)||Qg;if(!en&&f.state.next({name:H,type:A.type,values:Ht(i)}),GF)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?en&&v():en||v()),YF&&f.state.next({name:H,...Qg?{}:Zg});if(!en&&Qg&&f.state.next({...n}),t.resolver){const{errors:wj}=await M([H]);if(Z(kt),ae){const QF=x_(n.errors,s,H),bj=x_(wj,s,QF.name||H);de=bj.error,H=bj.name,Ve=xn(wj)}}else y([H],!0),de=(await b_(J,l.disabled,i,g,t.shouldUseNativeValidation))[H],y([H]),Z(kt),ae&&(de?Ve=!1:(d.isValid||h.isValid)&&(Ve=await O(s,!0)));ae&&(J._f.deps&&se(J._f.deps),T(H,Ve,de,Zg))}},Q=(A,F)=>{if(ee(n.errors,F)&&A.focus)return A.focus(),1},se=async(A,F={})=>{let H,ae;const J=Zu(A);if(t.resolver){const Z=await E(vt(A)?A:J);H=xn(Z),ae=A?!J.some(de=>ee(Z,de)):H}else A?(ae=(await Promise.all(J.map(async Z=>{const de=ee(s,Z);return await O(de&&de._f?{[Z]:de}:de)}))).every(Boolean),!(!ae&&!n.isValid)&&v()):ae=H=await O(s);return f.state.next({...!xr(A)||(d.isValid||h.isValid)&&H!==n.isValid?{}:{name:A},...t.resolver||!A?{isValid:H}:{},errors:n.errors}),F.shouldFocus&&!ae&&Xu(s,Q,A?J:l.mount),ae},Ee=A=>{const F={...a.mount?i:r};return vt(A)?F:xr(A)?ee(F,A):A.map(H=>ee(F,H))},ft=(A,F)=>({invalid:!!ee((F||n).errors,A),isDirty:!!ee((F||n).dirtyFields,A),error:ee((F||n).errors,A),isValidating:!!ee(n.validatingFields,A),isTouched:!!ee((F||n).touchedFields,A)}),X=A=>{A&&Zu(A).forEach(F=>Rt(n.errors,F)),f.state.next({errors:A?n.errors:{}})},Xe=(A,F,H)=>{const ae=(ee(s,A,{_f:{}})._f||{}).ref,J=ee(n.errors,A)||{},{ref:Z,message:de,type:Ve,...kt}=J;He(n.errors,A,{...kt,...F,ref:ae}),f.state.next({name:A,errors:n.errors,isValid:!1}),H&&H.shouldFocus&&ae&&ae.focus&&ae.focus()},nt=(A,F)=>Us(A)?f.state.subscribe({next:H=>A(W(void 0,F),H)}):W(A,F,!0),me=A=>f.state.subscribe({next:F=>{Jte(A.name,F.name,A.exact)&&Xte(F,A.formState||d,zo,A.reRenderRoot)&&A.callback({values:{...i},...n,...F})}}).unsubscribe,Ue=A=>(a.mount=!0,h={...h,...A.formState},me({...A,formState:h})),Pt=(A,F={})=>{for(const H of A?Zu(A):l.mount)l.mount.delete(H),l.array.delete(H),F.keepValue||(Rt(s,H),Rt(i,H)),!F.keepError&&Rt(n.errors,H),!F.keepDirty&&Rt(n.dirtyFields,H),!F.keepTouched&&Rt(n.touchedFields,H),!F.keepIsValidating&&Rt(n.validatingFields,H),!t.shouldUnregister&&!F.keepDefaultValue&&Rt(r,H);f.state.next({values:Ht(i)}),f.state.next({...n,...F.keepDirty?{isDirty:q()}:{}}),!F.keepIsValid&&v()},Ge=({disabled:A,name:F})=>{(zn(A)&&a.mount||A||l.disabled.has(F))&&(A?l.disabled.add(F):l.disabled.delete(F))},Be=(A,F={})=>{let H=ee(s,A);const ae=zn(F.disabled)||zn(t.disabled);return He(s,A,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:A}},name:A,mount:!0,...F}}),l.mount.add(A),H?Ge({disabled:zn(F.disabled)?F.disabled:t.disabled,name:A}):k(A,!0,F.value),{...ae?{disabled:F.disabled||t.disabled}:{},...t.progressive?{required:!!F.required,min:yu(F.min),max:yu(F.max),minLength:yu(F.minLength),maxLength:yu(F.maxLength),pattern:yu(F.pattern)}:{},name:A,onChange:B,onBlur:B,ref:J=>{if(J){Be(A,F),H=ee(s,A);const Z=vt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,de=qte(Z),Ve=H._f.refs||[];if(de?Ve.find(kt=>kt===Z):Z===H._f.ref)return;He(s,A,{_f:{...H._f,...de?{refs:[...Ve.filter(jv),Z,...Array.isArray(ee(r,A))?[{}]:[]],ref:{type:Z.type,name:A}}:{ref:Z}}}),k(A,!1,void 0,Z)}else H=ee(s,A,{}),H._f&&(H._f.mount=!1),(t.shouldUnregister||F.shouldUnregister)&&!(iF(l.array,A)&&a.action)&&l.unMount.add(A)}}},ze=()=>t.shouldFocusError&&Xu(s,Q,l.mount),pn=A=>{zn(A)&&(f.state.next({disabled:A}),Xu(s,(F,H)=>{const ae=ee(s,H);ae&&(F.disabled=ae._f.disabled||A,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(J=>{J.disabled=ae._f.disabled||A}))},0,!1))},Un=(A,F)=>async H=>{let ae;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let J=Ht(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:Z,values:de}=await M();n.errors=Z,J=de}else await O(s);if(l.disabled.size)for(const Z of l.disabled)He(J,Z,void 0);if(Rt(n.errors,"root"),xn(n.errors)){f.state.next({errors:{}});try{await A(J,H)}catch(Z){ae=Z}}else F&&await F({...n.errors},H),ze(),setTimeout(ze);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xn(n.errors)&&!ae,submitCount:n.submitCount+1,errors:n.errors}),ae)throw ae},_a=(A,F={})=>{ee(s,A)&&(vt(F.defaultValue)?_(A,Ht(ee(r,A))):(_(A,F.defaultValue),He(r,A,Ht(F.defaultValue))),F.keepTouched||Rt(n.touchedFields,A),F.keepDirty||(Rt(n.dirtyFields,A),n.isDirty=F.defaultValue?q(A,Ht(ee(r,A))):q()),F.keepError||(Rt(n.errors,A),d.isValid&&v()),f.state.next({...n}))},pi=(A,F={})=>{const H=A?Ht(A):r,ae=Ht(H),J=xn(A),Z=J?r:ae;if(F.keepDefaultValues||(r=H),!F.keepValues){if(F.keepDirtyValues){const de=new Set([...l.mount,...Object.keys(gu(r,i))]);for(const Ve of Array.from(de))ee(n.dirtyFields,Ve)?He(Z,Ve,ee(i,Ve)):_(Ve,ee(Z,Ve))}else{if(cj&&vt(A))for(const de of l.mount){const Ve=ee(s,de);if(Ve&&Ve._f){const kt=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if(Sm(kt)){const en=kt.closest("form");if(en){en.reset();break}}}}for(const de of l.mount)_(de,ee(Z,de))}i=Ht(Z),f.array.next({values:{...Z}}),f.state.next({values:{...Z}})}l={mount:F.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!F.keepIsValid||!!F.keepDirtyValues,a.watch=!!t.shouldUnregister,f.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:J?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!ki(A,r)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:F.keepDirtyValues?F.keepDefaultValues&&i?gu(r,i):n.dirtyFields:F.keepDefaultValues&&A?gu(r,A):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},mi=(A,F)=>pi(Us(A)?A(i):A,F),Yg=(A,F={})=>{const H=ee(s,A),ae=H&&H._f;if(ae){const J=ae.refs?ae.refs[0]:ae.ref;J.focus&&(J.focus(),F.shouldSelect&&Us(J.select)&&J.select())}},zo=A=>{n={...n,...A}},xj={control:{register:Be,unregister:Pt,getFieldState:ft,handleSubmit:Un,setError:Xe,_subscribe:me,_runSchema:M,_getWatch:W,_getDirty:q,_setValid:v,_setFieldArray:w,_setDisabledField:Ge,_setErrors:N,_getFieldArray:R,_reset:pi,_resetDefaultValues:()=>Us(t.defaultValues)&&t.defaultValues().then(A=>{mi(A,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:pn,_subjects:f,_proxyFormState:d,get _fields(){return s},get _formValues(){return i},get _state(){return a},set _state(A){a=A},get _defaultValues(){return r},get _names(){return l},set _names(A){l=A},get _formState(){return n},get _options(){return t},set _options(A){t={...t,...A}}},subscribe:Ue,trigger:se,register:Be,handleSubmit:Un,watch:nt,setValue:_,getValues:Ee,reset:mi,resetField:_a,clearErrors:X,unregister:Pt,setError:Xe,setFocus:Yg,getFieldState:ft};return{...xj,formControl:xj}}function ew(e={}){const t=je.useRef(void 0),n=je.useRef(void 0),[s,r]=je.useState({isDirty:!1,isValidating:!1,isLoading:Us(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Us(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:rne(e),formState:s},e.formControl&&e.defaultValues&&!Us(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,je.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>r({...i._formState}),reRenderRoot:!0}),[i]),je.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),je.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==s.isDirty&&i._subjects.state.next({isDirty:a})}},[i,s.isDirty]),je.useEffect(()=>{e.values&&!ki(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,r(a=>({...a}))):i._resetDefaultValues()},[e.values,i]),je.useEffect(()=>{e.errors&&!xn(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),je.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),je.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=lF(s,i),t.current}const tw=Bte,yF=m.createContext({}),Rs=({...e})=>o.jsx(yF.Provider,{value:{name:e.name},children:o.jsx(Hte,{...e})}),zg=()=>{const e=m.useContext(yF),t=m.useContext(vF),{getFieldState:n,formState:s}=Vg(),r=n(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...r}},vF=m.createContext({}),os=m.forwardRef(({className:e,...t},n)=>{const s=m.useId();return o.jsx(vF.Provider,{value:{id:s},children:o.jsx("div",{ref:n,className:ue("space-y-2",e),...t})})});os.displayName="FormItem";const ls=m.forwardRef(({className:e,...t},n)=>{const{error:s,formItemId:r}=zg();return o.jsx(ne,{ref:n,className:ue(s&&"text-destructive",e),htmlFor:r,...t})});ls.displayName="FormLabel";const cs=m.forwardRef(({...e},t)=>{const{error:n,formItemId:s,formDescriptionId:r,formMessageId:i}=zg();return o.jsx(PT,{ref:t,id:s,"aria-describedby":n?`${r} ${i}`:`${r}`,"aria-invalid":!!n,...e})});cs.displayName="FormControl";const ine=m.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:s}=zg();return o.jsx("p",{ref:n,id:s,className:ue("text-sm text-muted-foreground",e),...t})});ine.displayName="FormDescription";const us=m.forwardRef(({className:e,children:t,...n},s)=>{const{error:r,formMessageId:i}=zg(),a=r?String((r==null?void 0:r.message)??""):t;return a?o.jsx("p",{ref:s,id:i,className:ue("text-sm font-medium text-destructive",e),...n,children:a}):null});us.displayName="FormMessage";const j_=(e,t,n)=>{if(e&&"reportValidity"in e){const s=ee(n,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},xF=(e,t)=>{for(const n in t.fields){const s=t.fields[n];s&&s.ref&&"reportValidity"in s.ref?j_(s.ref,n,e):s.refs&&s.refs.forEach(r=>j_(r,n,e))}},ane=(e,t)=>{t.shouldUseNativeValidation&&xF(e,t);const n={};for(const s in e){const r=ee(t.fields,s),i=Object.assign(e[s]||{},{ref:r&&r.ref});if(one(t.names||Object.keys(e),s)){const a=Object.assign({},ee(n,s));He(a,"root",i),He(n,s,a)}else He(n,s,i)}return n},one=(e,t)=>e.some(n=>n.startsWith(t+"."));var lne=function(e,t){for(var n={};e.length;){var s=e[0],r=s.code,i=s.message,a=s.path.join(".");if(!n[a])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:r};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=n[a].types,u=c&&c[s.code];n[a]=uF(a,t,n,r,u?[].concat(u,s.message):s.message)}e.shift()}return n},nw=function(e,t,n){return n===void 0&&(n={}),function(s,r,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(u){return i.shouldUseNativeValidation&&xF({},i),{errors:{},values:n.raw?s:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:ane(lne(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},Oe;(function(e){e.assertEqual=r=>r;function t(r){}e.assertIs=t;function n(r){throw new Error}e.assertNever=n,e.arrayToEnum=r=>{const i={};for(const a of r)i[a]=a;return i},e.getValidEnumValues=r=>{const i=e.objectKeys(r).filter(l=>typeof r[r[l]]!="number"),a={};for(const l of i)a[l]=r[l];return e.objectValues(a)},e.objectValues=r=>e.objectKeys(r).map(function(i){return r[i]}),e.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&i.push(a);return i},e.find=(r,i)=>{for(const a of r)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function s(r,i=" | "){return r.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(Oe||(Oe={}));var sw;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(sw||(sw={}));const re=Oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Br=e=>{switch(typeof e){case"undefined":return re.undefined;case"string":return re.string;case"number":return isNaN(e)?re.nan:re.number;case"boolean":return re.boolean;case"function":return re.function;case"bigint":return re.bigint;case"symbol":return re.symbol;case"object":return Array.isArray(e)?re.array:e===null?re.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?re.promise:typeof Map<"u"&&e instanceof Map?re.map:typeof Set<"u"&&e instanceof Set?re.set:typeof Date<"u"&&e instanceof Date?re.date:re.object;default:return re.unknown}},G=Oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cne=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Gn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},s={_errors:[]},r=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(r);else if(a.code==="invalid_return_type")r(a.returnTypeError);else if(a.code==="invalid_arguments")r(a.argumentsError);else if(a.path.length===0)s._errors.push(n(a));else{let l=s,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return r(this),s}static assert(t){if(!(t instanceof Gn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const r of this.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):s.push(t(r));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Gn.create=e=>new Gn(e);const Rc=(e,t)=>{let n;switch(e.code){case G.invalid_type:e.received===re.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case G.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Oe.jsonStringifyReplacer)}`;break;case G.unrecognized_keys:n=`Unrecognized key(s) in object: ${Oe.joinValues(e.keys,", ")}`;break;case G.invalid_union:n="Invalid input";break;case G.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Oe.joinValues(e.options)}`;break;case G.invalid_enum_value:n=`Invalid enum value. Expected ${Oe.joinValues(e.options)}, received '${e.received}'`;break;case G.invalid_arguments:n="Invalid function arguments";break;case G.invalid_return_type:n="Invalid function return type";break;case G.invalid_date:n="Invalid date";break;case G.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Oe.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case G.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case G.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case G.custom:n="Invalid input";break;case G.invalid_intersection_types:n="Intersection results could not be merged";break;case G.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case G.not_finite:n="Number must be finite";break;default:n=t.defaultError,Oe.assertNever(e)}return{message:n}};let wF=Rc;function une(e){wF=e}function _m(){return wF}const Pm=e=>{const{data:t,path:n,errorMaps:s,issueData:r}=e,i=[...n,...r.path||[]],a={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let l="";const c=s.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:t,defaultError:l}).message;return{...r,path:i,message:l}},dne=[];function te(e,t){const n=_m(),s=Pm({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Rc?void 0:Rc].filter(r=>!!r)});e.common.issues.push(s)}class fn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const r of n){if(r.status==="aborted")return be;r.status==="dirty"&&t.dirty(),s.push(r.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const r of n){const i=await r.key,a=await r.value;s.push({key:i,value:a})}return fn.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const r of n){const{key:i,value:a}=r;if(i.status==="aborted"||a.status==="aborted")return be;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||r.alwaysSet)&&(s[i.value]=a.value)}return{status:t.value,value:s}}}const be=Object.freeze({status:"aborted"}),xl=e=>({status:"dirty",value:e}),Cn=e=>({status:"valid",value:e}),rw=e=>e.status==="aborted",iw=e=>e.status==="dirty",Fo=e=>e.status==="valid",Fd=e=>typeof Promise<"u"&&e instanceof Promise;function km(e,t,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function bF(e,t,n,s,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var he;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(he||(he={}));var Au,Mu;class kr{constructor(t,n,s,r){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const S_=(e,t)=>{if(Fo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Gn(e.common.issues);return this._error=n,this._error}}};function Ce(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:r}=e;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:r}:{errorMap:(a,l)=>{var c,u;const{message:d}=e;return a.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??s)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:l.defaultError}},description:r}}class ke{get description(){return this._def.description}_getType(t){return Br(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Br(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new fn,ctx:{common:t.parent.common,data:t.data,parsedType:Br(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Fd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){var s;const r={common:{issues:[],async:(s=n==null?void 0:n.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Br(t)},i=this._parseSync({data:t,path:r.path,parent:r});return S_(r,i)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Br(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Fo(i)?{value:i.value}:{issues:r.common.issues}}catch(i){!((s=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Fo(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Br(t)},r=this._parse({data:t,path:s.path,parent:s}),i=await(Fd(r)?r:Promise.resolve(r));return S_(s,i)}refine(t,n){const s=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,i)=>{const a=t(r),l=()=>i.addIssue({code:G.custom,...s(r)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,n){return this._refinement((s,r)=>t(s)?!0:(r.addIssue(typeof n=="function"?n(s,r):n),!1))}_refinement(t){return new er({schema:this,typeName:xe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Cr.create(this,this._def)}nullable(){return ma.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hs.create(this)}promise(){return Fc.create(this,this._def)}or(t){return $d.create([this,t],this._def)}and(t){return Ud.create(this,t,this._def)}transform(t){return new er({...Ce(this._def),schema:this,typeName:xe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Hd({...Ce(this._def),innerType:this,defaultValue:n,typeName:xe.ZodDefault})}brand(){return new fj({typeName:xe.ZodBranded,type:this,...Ce(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new qd({...Ce(this._def),innerType:this,catchValue:n,typeName:xe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Qh.create(this,t)}readonly(){return Kd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const hne=/^c[^\s-]{8,}$/i,fne=/^[0-9a-z]+$/,pne=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mne=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gne=/^[a-z0-9_-]{21}$/i,yne=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vne=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xne=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wne="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Sv;const bne=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,jne=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Sne=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Nne=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Cne=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,_ne=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,jF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Pne=new RegExp(`^${jF}$`);function SF(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function kne(e){return new RegExp(`^${SF(e)}$`)}function NF(e){let t=`${jF}T${SF(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Tne(e,t){return!!((t==="v4"||!t)&&bne.test(e)||(t==="v6"||!t)&&Sne.test(e))}function Ene(e,t){if(!yne.test(e))return!1;try{const[n]=e.split("."),s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||!r.typ||!r.alg||t&&r.alg!==t)}catch{return!1}}function Ane(e,t){return!!((t==="v4"||!t)&&jne.test(e)||(t==="v6"||!t)&&Nne.test(e))}class Vs extends ke{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==re.string){const i=this._getOrReturnCtx(t);return te(i,{code:G.invalid_type,expected:re.string,received:i.parsedType}),be}const s=new fn;let r;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(r=this._getOrReturnCtx(t,r),te(r,{code:G.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(r=this._getOrReturnCtx(t,r),te(r,{code:G.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,l=t.data.length<i.value;(a||l)&&(r=this._getOrReturnCtx(t,r),a?te(r,{code:G.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&te(r,{code:G.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")xne.test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"email",code:G.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Sv||(Sv=new RegExp(wne,"u")),Sv.test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"emoji",code:G.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")mne.test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"uuid",code:G.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")gne.test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"nanoid",code:G.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")hne.test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"cuid",code:G.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")fne.test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"cuid2",code:G.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")pne.test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"ulid",code:G.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),te(r,{validation:"url",code:G.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"regex",code:G.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(t,r),te(r,{code:G.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(r=this._getOrReturnCtx(t,r),te(r,{code:G.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(r=this._getOrReturnCtx(t,r),te(r,{code:G.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?NF(i).test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{code:G.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?Pne.test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{code:G.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?kne(i).test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{code:G.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?vne.test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"duration",code:G.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?Tne(t.data,i.version)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"ip",code:G.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?Ene(t.data,i.alg)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"jwt",code:G.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?Ane(t.data,i.version)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"cidr",code:G.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?Cne.test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"base64",code:G.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?_ne.test(t.data)||(r=this._getOrReturnCtx(t,r),te(r,{validation:"base64url",code:G.invalid_string,message:i.message}),s.dirty()):Oe.assertNever(i);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(r=>t.test(r),{validation:n,code:G.invalid_string,...he.errToObj(s)})}_addCheck(t){return new Vs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...he.errToObj(t)})}url(t){return this._addCheck({kind:"url",...he.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...he.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...he.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...he.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...he.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...he.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...he.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...he.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...he.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...he.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...he.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...he.errToObj(t)})}datetime(t){var n,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...he.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...he.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...he.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...he.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...he.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...he.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...he.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...he.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...he.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...he.errToObj(n)})}nonempty(t){return this.min(1,he.errToObj(t))}trim(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Vs.create=e=>{var t;return new Vs({checks:[],typeName:xe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ce(e)})};function Mne(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,r=n>s?n:s,i=parseInt(e.toFixed(r).replace(".","")),a=parseInt(t.toFixed(r).replace(".",""));return i%a/Math.pow(10,r)}class ha extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==re.number){const i=this._getOrReturnCtx(t);return te(i,{code:G.invalid_type,expected:re.number,received:i.parsedType}),be}let s;const r=new fn;for(const i of this._def.checks)i.kind==="int"?Oe.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{code:G.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),te(s,{code:G.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),te(s,{code:G.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?Mne(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),te(s,{code:G.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),te(s,{code:G.not_finite,message:i.message}),r.dirty()):Oe.assertNever(i);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,he.toString(n))}gt(t,n){return this.setLimit("min",t,!1,he.toString(n))}lte(t,n){return this.setLimit("max",t,!0,he.toString(n))}lt(t,n){return this.setLimit("max",t,!1,he.toString(n))}setLimit(t,n,s,r){return new ha({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:he.toString(r)}]})}_addCheck(t){return new ha({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:he.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:he.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:he.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:he.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:he.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:he.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:he.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:he.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:he.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Oe.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}ha.create=e=>new ha({checks:[],typeName:xe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ce(e)});class fa extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==re.bigint)return this._getInvalidInput(t);let s;const r=new fn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),te(s,{code:G.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),te(s,{code:G.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),te(s,{code:G.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):Oe.assertNever(i);return{status:r.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return te(n,{code:G.invalid_type,expected:re.bigint,received:n.parsedType}),be}gte(t,n){return this.setLimit("min",t,!0,he.toString(n))}gt(t,n){return this.setLimit("min",t,!1,he.toString(n))}lte(t,n){return this.setLimit("max",t,!0,he.toString(n))}lt(t,n){return this.setLimit("max",t,!1,he.toString(n))}setLimit(t,n,s,r){return new fa({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:he.toString(r)}]})}_addCheck(t){return new fa({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:he.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:he.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:he.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:he.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:he.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}fa.create=e=>{var t;return new fa({checks:[],typeName:xe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ce(e)})};class Od extends ke{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==re.boolean){const s=this._getOrReturnCtx(t);return te(s,{code:G.invalid_type,expected:re.boolean,received:s.parsedType}),be}return Cn(t.data)}}Od.create=e=>new Od({typeName:xe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ce(e)});class Oo extends ke{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==re.date){const i=this._getOrReturnCtx(t);return te(i,{code:G.invalid_type,expected:re.date,received:i.parsedType}),be}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return te(i,{code:G.invalid_date}),be}const s=new fn;let r;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(r=this._getOrReturnCtx(t,r),te(r,{code:G.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(r=this._getOrReturnCtx(t,r),te(r,{code:G.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Oe.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Oo({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:he.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:he.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Oo.create=e=>new Oo({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:xe.ZodDate,...Ce(e)});class Tm extends ke{_parse(t){if(this._getType(t)!==re.symbol){const s=this._getOrReturnCtx(t);return te(s,{code:G.invalid_type,expected:re.symbol,received:s.parsedType}),be}return Cn(t.data)}}Tm.create=e=>new Tm({typeName:xe.ZodSymbol,...Ce(e)});class Id extends ke{_parse(t){if(this._getType(t)!==re.undefined){const s=this._getOrReturnCtx(t);return te(s,{code:G.invalid_type,expected:re.undefined,received:s.parsedType}),be}return Cn(t.data)}}Id.create=e=>new Id({typeName:xe.ZodUndefined,...Ce(e)});class Ld extends ke{_parse(t){if(this._getType(t)!==re.null){const s=this._getOrReturnCtx(t);return te(s,{code:G.invalid_type,expected:re.null,received:s.parsedType}),be}return Cn(t.data)}}Ld.create=e=>new Ld({typeName:xe.ZodNull,...Ce(e)});class Dc extends ke{constructor(){super(...arguments),this._any=!0}_parse(t){return Cn(t.data)}}Dc.create=e=>new Dc({typeName:xe.ZodAny,...Ce(e)});class ho extends ke{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Cn(t.data)}}ho.create=e=>new ho({typeName:xe.ZodUnknown,...Ce(e)});class ui extends ke{_parse(t){const n=this._getOrReturnCtx(t);return te(n,{code:G.invalid_type,expected:re.never,received:n.parsedType}),be}}ui.create=e=>new ui({typeName:xe.ZodNever,...Ce(e)});class Em extends ke{_parse(t){if(this._getType(t)!==re.undefined){const s=this._getOrReturnCtx(t);return te(s,{code:G.invalid_type,expected:re.void,received:s.parsedType}),be}return Cn(t.data)}}Em.create=e=>new Em({typeName:xe.ZodVoid,...Ce(e)});class Hs extends ke{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),r=this._def;if(n.parsedType!==re.array)return te(n,{code:G.invalid_type,expected:re.array,received:n.parsedType}),be;if(r.exactLength!==null){const a=n.data.length>r.exactLength.value,l=n.data.length<r.exactLength.value;(a||l)&&(te(n,{code:a?G.too_big:G.too_small,minimum:l?r.exactLength.value:void 0,maximum:a?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(te(n,{code:G.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(te(n,{code:G.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>r.type._parseAsync(new kr(n,a,n.path,l)))).then(a=>fn.mergeArray(s,a));const i=[...n.data].map((a,l)=>r.type._parseSync(new kr(n,a,n.path,l)));return fn.mergeArray(s,i)}get element(){return this._def.type}min(t,n){return new Hs({...this._def,minLength:{value:t,message:he.toString(n)}})}max(t,n){return new Hs({...this._def,maxLength:{value:t,message:he.toString(n)}})}length(t,n){return new Hs({...this._def,exactLength:{value:t,message:he.toString(n)}})}nonempty(t){return this.min(1,t)}}Hs.create=(e,t)=>new Hs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:xe.ZodArray,...Ce(t)});function Jo(e){if(e instanceof lt){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=Cr.create(Jo(s))}return new lt({...e._def,shape:()=>t})}else return e instanceof Hs?new Hs({...e._def,type:Jo(e.element)}):e instanceof Cr?Cr.create(Jo(e.unwrap())):e instanceof ma?ma.create(Jo(e.unwrap())):e instanceof Tr?Tr.create(e.items.map(t=>Jo(t))):e}class lt extends ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Oe.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==re.object){const u=this._getOrReturnCtx(t);return te(u,{code:G.invalid_type,expected:re.object,received:u.parsedType}),be}const{status:s,ctx:r}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof ui&&this._def.unknownKeys==="strip"))for(const u in r.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],h=r.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new kr(r,h,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof ui){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:r.data[d]}});else if(u==="strict")l.length>0&&(te(r,{code:G.unrecognized_keys,keys:l}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=r.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new kr(r,h,r.path,d)),alwaysSet:d in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>fn.mergeObjectSync(s,u)):fn.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return he.errToObj,new lt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var r,i,a,l;const c=(a=(i=(r=this._def).errorMap)===null||i===void 0?void 0:i.call(r,n,s).message)!==null&&a!==void 0?a:s.defaultError;return n.code==="unrecognized_keys"?{message:(l=he.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new lt({...this._def,unknownKeys:"strip"})}passthrough(){return new lt({...this._def,unknownKeys:"passthrough"})}extend(t){return new lt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new lt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:xe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new lt({...this._def,catchall:t})}pick(t){const n={};return Oe.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new lt({...this._def,shape:()=>n})}omit(t){const n={};return Oe.objectKeys(this.shape).forEach(s=>{t[s]||(n[s]=this.shape[s])}),new lt({...this._def,shape:()=>n})}deepPartial(){return Jo(this)}partial(t){const n={};return Oe.objectKeys(this.shape).forEach(s=>{const r=this.shape[s];t&&!t[s]?n[s]=r:n[s]=r.optional()}),new lt({...this._def,shape:()=>n})}required(t){const n={};return Oe.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Cr;)i=i._def.innerType;n[s]=i}}),new lt({...this._def,shape:()=>n})}keyof(){return CF(Oe.objectKeys(this.shape))}}lt.create=(e,t)=>new lt({shape:()=>e,unknownKeys:"strip",catchall:ui.create(),typeName:xe.ZodObject,...Ce(t)});lt.strictCreate=(e,t)=>new lt({shape:()=>e,unknownKeys:"strict",catchall:ui.create(),typeName:xe.ZodObject,...Ce(t)});lt.lazycreate=(e,t)=>new lt({shape:e,unknownKeys:"strip",catchall:ui.create(),typeName:xe.ZodObject,...Ce(t)});class $d extends ke{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function r(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new Gn(l.ctx.common.issues));return te(n,{code:G.invalid_union,unionErrors:a}),be}if(n.common.async)return Promise.all(s.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(r);{let i;const a=[];for(const c of s){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new Gn(c));return te(n,{code:G.invalid_union,unionErrors:l}),be}}get options(){return this._def.options}}$d.create=(e,t)=>new $d({options:e,typeName:xe.ZodUnion,...Ce(t)});const Lr=e=>e instanceof Vd?Lr(e.schema):e instanceof er?Lr(e.innerType()):e instanceof zd?[e.value]:e instanceof pa?e.options:e instanceof Wd?Oe.objectValues(e.enum):e instanceof Hd?Lr(e._def.innerType):e instanceof Id?[void 0]:e instanceof Ld?[null]:e instanceof Cr?[void 0,...Lr(e.unwrap())]:e instanceof ma?[null,...Lr(e.unwrap())]:e instanceof fj||e instanceof Kd?Lr(e.unwrap()):e instanceof qd?Lr(e._def.innerType):[];class Wg extends ke{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==re.object)return te(n,{code:G.invalid_type,expected:re.object,received:n.parsedType}),be;const s=this.discriminator,r=n.data[s],i=this.optionsMap.get(r);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(te(n,{code:G.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,s){const r=new Map;for(const i of n){const a=Lr(i.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of a){if(r.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);r.set(l,i)}}return new Wg({typeName:xe.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:r,...Ce(s)})}}function aw(e,t){const n=Br(e),s=Br(t);if(e===t)return{valid:!0,data:e};if(n===re.object&&s===re.object){const r=Oe.objectKeys(t),i=Oe.objectKeys(e).filter(l=>r.indexOf(l)!==-1),a={...e,...t};for(const l of i){const c=aw(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===re.array&&s===re.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let i=0;i<e.length;i++){const a=e[i],l=t[i],c=aw(a,l);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return n===re.date&&s===re.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ud extends ke{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),r=(i,a)=>{if(rw(i)||rw(a))return be;const l=aw(i.value,a.value);return l.valid?((iw(i)||iw(a))&&n.dirty(),{status:n.value,value:l.data}):(te(s,{code:G.invalid_intersection_types}),be)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,a])=>r(i,a)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Ud.create=(e,t,n)=>new Ud({left:e,right:t,typeName:xe.ZodIntersection,...Ce(n)});class Tr extends ke{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==re.array)return te(s,{code:G.invalid_type,expected:re.array,received:s.parsedType}),be;if(s.data.length<this._def.items.length)return te(s,{code:G.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&s.data.length>this._def.items.length&&(te(s,{code:G.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new kr(s,a,s.path,l)):null}).filter(a=>!!a);return s.common.async?Promise.all(i).then(a=>fn.mergeArray(n,a)):fn.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Tr({...this._def,rest:t})}}Tr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Tr({items:e,typeName:xe.ZodTuple,rest:null,...Ce(t)})};class Bd extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==re.object)return te(s,{code:G.invalid_type,expected:re.object,received:s.parsedType}),be;const r=[],i=this._def.keyType,a=this._def.valueType;for(const l in s.data)r.push({key:i._parse(new kr(s,l,s.path,l)),value:a._parse(new kr(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?fn.mergeObjectAsync(n,r):fn.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(t,n,s){return n instanceof ke?new Bd({keyType:t,valueType:n,typeName:xe.ZodRecord,...Ce(s)}):new Bd({keyType:Vs.create(),valueType:t,typeName:xe.ZodRecord,...Ce(n)})}}class Am extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==re.map)return te(s,{code:G.invalid_type,expected:re.map,received:s.parsedType}),be;const r=this._def.keyType,i=this._def.valueType,a=[...s.data.entries()].map(([l,c],u)=>({key:r._parse(new kr(s,l,s.path,[u,"key"])),value:i._parse(new kr(s,c,s.path,[u,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return be;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return be;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}Am.create=(e,t,n)=>new Am({valueType:t,keyType:e,typeName:xe.ZodMap,...Ce(n)});class Io extends ke{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==re.set)return te(s,{code:G.invalid_type,expected:re.set,received:s.parsedType}),be;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(te(s,{code:G.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(te(s,{code:G.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return be;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...s.data.values()].map((c,u)=>i._parse(new kr(s,c,s.path,u)));return s.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,n){return new Io({...this._def,minSize:{value:t,message:he.toString(n)}})}max(t,n){return new Io({...this._def,maxSize:{value:t,message:he.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Io.create=(e,t)=>new Io({valueType:e,minSize:null,maxSize:null,typeName:xe.ZodSet,...Ce(t)});class Al extends ke{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==re.function)return te(n,{code:G.invalid_type,expected:re.function,received:n.parsedType}),be;function s(l,c){return Pm({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_m(),Rc].filter(u=>!!u),issueData:{code:G.invalid_arguments,argumentsError:c}})}function r(l,c){return Pm({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_m(),Rc].filter(u=>!!u),issueData:{code:G.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Fc){const l=this;return Cn(async function(...c){const u=new Gn([]),d=await l._def.args.parseAsync(c,i).catch(p=>{throw u.addIssue(s(c,p)),u}),h=await Reflect.apply(a,this,d);return await l._def.returns._def.type.parseAsync(h,i).catch(p=>{throw u.addIssue(r(h,p)),u})})}else{const l=this;return Cn(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new Gn([s(c,u.error)]);const d=Reflect.apply(a,this,u.data),h=l._def.returns.safeParse(d,i);if(!h.success)throw new Gn([r(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Al({...this._def,args:Tr.create(t).rest(ho.create())})}returns(t){return new Al({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,s){return new Al({args:t||Tr.create([]).rest(ho.create()),returns:n||ho.create(),typeName:xe.ZodFunction,...Ce(s)})}}class Vd extends ke{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Vd.create=(e,t)=>new Vd({getter:e,typeName:xe.ZodLazy,...Ce(t)});class zd extends ke{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return te(n,{received:n.data,code:G.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:t.data}}get value(){return this._def.value}}zd.create=(e,t)=>new zd({value:e,typeName:xe.ZodLiteral,...Ce(t)});function CF(e,t){return new pa({values:e,typeName:xe.ZodEnum,...Ce(t)})}class pa extends ke{constructor(){super(...arguments),Au.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return te(n,{expected:Oe.joinValues(s),received:n.parsedType,code:G.invalid_type}),be}if(km(this,Au)||bF(this,Au,new Set(this._def.values)),!km(this,Au).has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return te(n,{received:n.data,code:G.invalid_enum_value,options:s}),be}return Cn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return pa.create(t,{...this._def,...n})}exclude(t,n=this._def){return pa.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}Au=new WeakMap;pa.create=CF;class Wd extends ke{constructor(){super(...arguments),Mu.set(this,void 0)}_parse(t){const n=Oe.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==re.string&&s.parsedType!==re.number){const r=Oe.objectValues(n);return te(s,{expected:Oe.joinValues(r),received:s.parsedType,code:G.invalid_type}),be}if(km(this,Mu)||bF(this,Mu,new Set(Oe.getValidEnumValues(this._def.values))),!km(this,Mu).has(t.data)){const r=Oe.objectValues(n);return te(s,{received:s.data,code:G.invalid_enum_value,options:r}),be}return Cn(t.data)}get enum(){return this._def.values}}Mu=new WeakMap;Wd.create=(e,t)=>new Wd({values:e,typeName:xe.ZodNativeEnum,...Ce(t)});class Fc extends ke{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==re.promise&&n.common.async===!1)return te(n,{code:G.invalid_type,expected:re.promise,received:n.parsedType}),be;const s=n.parsedType===re.promise?n.data:Promise.resolve(n.data);return Cn(s.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Fc.create=(e,t)=>new Fc({type:e,typeName:xe.ZodPromise,...Ce(t)});class er extends ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),r=this._def.effect||null,i={addIssue:a=>{te(s,a),a.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const a=r.transform(s.data,i);if(s.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return be;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?be:c.status==="dirty"||n.value==="dirty"?xl(c.value):c});{if(n.value==="aborted")return be;const l=this._def.schema._parseSync({data:a,path:s.path,parent:s});return l.status==="aborted"?be:l.status==="dirty"||n.value==="dirty"?xl(l.value):l}}if(r.type==="refinement"){const a=l=>{const c=r.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?be:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?be:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(r.type==="transform")if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Fo(a))return a;const l=r.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>Fo(a)?Promise.resolve(r.transform(a.value,i)).then(l=>({status:n.value,value:l})):a);Oe.assertNever(r)}}er.create=(e,t,n)=>new er({schema:e,typeName:xe.ZodEffects,effect:t,...Ce(n)});er.createWithPreprocess=(e,t,n)=>new er({schema:t,effect:{type:"preprocess",transform:e},typeName:xe.ZodEffects,...Ce(n)});class Cr extends ke{_parse(t){return this._getType(t)===re.undefined?Cn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Cr.create=(e,t)=>new Cr({innerType:e,typeName:xe.ZodOptional,...Ce(t)});class ma extends ke{_parse(t){return this._getType(t)===re.null?Cn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ma.create=(e,t)=>new ma({innerType:e,typeName:xe.ZodNullable,...Ce(t)});class Hd extends ke{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===re.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Hd.create=(e,t)=>new Hd({innerType:e,typeName:xe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ce(t)});class qd extends ke{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Fd(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Gn(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Gn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}qd.create=(e,t)=>new qd({innerType:e,typeName:xe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ce(t)});class Mm extends ke{_parse(t){if(this._getType(t)!==re.nan){const s=this._getOrReturnCtx(t);return te(s,{code:G.invalid_type,expected:re.nan,received:s.parsedType}),be}return{status:"valid",value:t.data}}}Mm.create=e=>new Mm({typeName:xe.ZodNaN,...Ce(e)});const Rne=Symbol("zod_brand");class fj extends ke{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Qh extends ke{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?be:i.status==="dirty"?(n.dirty(),xl(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?be:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(t,n){return new Qh({in:t,out:n,typeName:xe.ZodPipeline})}}class Kd extends ke{_parse(t){const n=this._def.innerType._parse(t),s=r=>(Fo(r)&&(r.value=Object.freeze(r.value)),r);return Fd(n)?n.then(r=>s(r)):s(n)}unwrap(){return this._def.innerType}}Kd.create=(e,t)=>new Kd({innerType:e,typeName:xe.ZodReadonly,...Ce(t)});function N_(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function _F(e,t={},n){return e?Dc.create().superRefine((s,r)=>{var i,a;const l=e(s);if(l instanceof Promise)return l.then(c=>{var u,d;if(!c){const h=N_(t,s),f=(d=(u=h.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;r.addIssue({code:"custom",...h,fatal:f})}});if(!l){const c=N_(t,s),u=(a=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0;r.addIssue({code:"custom",...c,fatal:u})}}):Dc.create()}const Dne={object:lt.lazycreate};var xe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(xe||(xe={}));const Fne=(e,t={message:`Input not instance of ${e.name}`})=>_F(n=>n instanceof e,t),PF=Vs.create,kF=ha.create,One=Mm.create,Ine=fa.create,TF=Od.create,Lne=Oo.create,$ne=Tm.create,Une=Id.create,Bne=Ld.create,Vne=Dc.create,zne=ho.create,Wne=ui.create,Hne=Em.create,qne=Hs.create,Kne=lt.create,Gne=lt.strictCreate,Yne=$d.create,Qne=Wg.create,Zne=Ud.create,Xne=Tr.create,Jne=Bd.create,ese=Am.create,tse=Io.create,nse=Al.create,sse=Vd.create,rse=zd.create,ise=pa.create,ase=Wd.create,ose=Fc.create,C_=er.create,lse=Cr.create,cse=ma.create,use=er.createWithPreprocess,dse=Qh.create,hse=()=>PF().optional(),fse=()=>kF().optional(),pse=()=>TF().optional(),mse={string:e=>Vs.create({...e,coerce:!0}),number:e=>ha.create({...e,coerce:!0}),boolean:e=>Od.create({...e,coerce:!0}),bigint:e=>fa.create({...e,coerce:!0}),date:e=>Oo.create({...e,coerce:!0})},gse=be;var $t=Object.freeze({__proto__:null,defaultErrorMap:Rc,setErrorMap:une,getErrorMap:_m,makeIssue:Pm,EMPTY_PATH:dne,addIssueToContext:te,ParseStatus:fn,INVALID:be,DIRTY:xl,OK:Cn,isAborted:rw,isDirty:iw,isValid:Fo,isAsync:Fd,get util(){return Oe},get objectUtil(){return sw},ZodParsedType:re,getParsedType:Br,ZodType:ke,datetimeRegex:NF,ZodString:Vs,ZodNumber:ha,ZodBigInt:fa,ZodBoolean:Od,ZodDate:Oo,ZodSymbol:Tm,ZodUndefined:Id,ZodNull:Ld,ZodAny:Dc,ZodUnknown:ho,ZodNever:ui,ZodVoid:Em,ZodArray:Hs,ZodObject:lt,ZodUnion:$d,ZodDiscriminatedUnion:Wg,ZodIntersection:Ud,ZodTuple:Tr,ZodRecord:Bd,ZodMap:Am,ZodSet:Io,ZodFunction:Al,ZodLazy:Vd,ZodLiteral:zd,ZodEnum:pa,ZodNativeEnum:Wd,ZodPromise:Fc,ZodEffects:er,ZodTransformer:er,ZodOptional:Cr,ZodNullable:ma,ZodDefault:Hd,ZodCatch:qd,ZodNaN:Mm,BRAND:Rne,ZodBranded:fj,ZodPipeline:Qh,ZodReadonly:Kd,custom:_F,Schema:ke,ZodSchema:ke,late:Dne,get ZodFirstPartyTypeKind(){return xe},coerce:mse,any:Vne,array:qne,bigint:Ine,boolean:TF,date:Lne,discriminatedUnion:Qne,effect:C_,enum:ise,function:nse,instanceof:Fne,intersection:Zne,lazy:sse,literal:rse,map:ese,nan:One,nativeEnum:ase,never:Wne,null:Bne,nullable:cse,number:kF,object:Kne,oboolean:pse,onumber:fse,optional:lse,ostring:hse,pipeline:dse,preprocess:use,promise:ose,record:Jne,set:tse,strictObject:Gne,string:PF,symbol:$ne,transformer:C_,tuple:Xne,undefined:Une,union:Yne,unknown:zne,void:Hne,NEVER:gse,ZodIssueCode:G,quotelessJson:cne,ZodError:Gn});const yse=$t.object({firstName:$t.string().min(1,"الاسم الأول مطلوب"),lastName:$t.string().min(1,"الاسم الأخير مطلوب"),email:$t.string().email("البريد الإلكتروني غير صالح"),phone:$t.string().optional()}),vse=$t.object({currentPassword:$t.string().min(1,"كلمة المرور الحالية مطلوبة"),newPassword:$t.string().min(6,"كلمة المرور الجديدة يجب أن تكون 6 أحرف على الأقل"),confirmPassword:$t.string().min(1,"تأكيد كلمة المرور مطلوب")}).refine(e=>e.newPassword===e.confirmPassword,{message:"كلمات المرور غير متطابقة",path:["confirmPassword"]});function xse(){var g,b,v,y;const{toast:e}=at(),t=_t(),[,n]=_h(),{t:s}=Jt(),[r,i]=m.useState(!1),[a,l]=m.useState(!1),{data:c}=We({queryKey:["/api/auth/user"],retry:!1}),u=ew({resolver:nw(yse),defaultValues:{firstName:"",lastName:"",email:"",phone:""}});m.useEffect(()=>{c&&u.reset({firstName:(c==null?void 0:c.firstName)||"",lastName:(c==null?void 0:c.lastName)||"",email:(c==null?void 0:c.email)||"",phone:(c==null?void 0:c.phone)||""})},[c,u]);const d=ew({resolver:nw(vse),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),h=Ne({mutationFn:async w=>(console.log("Updating profile with data:",w),await Ae("PUT","/api/auth/profile",w)),onSuccess:w=>{console.log("Profile update success:",w),e({title:"تم التحديث بنجاح",description:"تم تحديث معلومات الملف الشخصي"}),i(!1),t.invalidateQueries({queryKey:["/api/auth/user"]})},onError:w=>{console.error("Profile update error:",w),e({title:"خطأ في التحديث",description:"فشل في تحديث معلومات الملف الشخصي",variant:"destructive"})}}),f=Ne({mutationFn:async w=>await Ae("PUT","/api/auth/change-password",w),onSuccess:()=>{e({title:"تم تغيير كلمة المرور",description:"تم تغيير كلمة المرور بنجاح"}),l(!1),d.reset()},onError:()=>{e({title:"خطأ في تغيير كلمة المرور",description:"فشل في تغيير كلمة المرور. تأكد من كلمة المرور الحالية",variant:"destructive"})}}),p=Ne({mutationFn:async()=>{await Ae("POST","/api/auth/logout")},onSuccess:()=>{e({title:"تم تسجيل الخروج بنجاح",description:"تم تسجيل خروجك من النظام"}),t.clear(),window.location.reload()},onError:()=>{e({title:"خطأ في تسجيل الخروج",description:"حدث خطأ أثناء تسجيل الخروج",variant:"destructive"})}}),x=()=>{p.mutate()};return o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsx("h1",{className:"text-lg font-semibold text-primary mb-2","data-testid":"text-welcome-message",children:"اهلا بكم في برنامج تتبع العمل في شركة اشراق الودق لتكنولوجيا المعلومات"})}),o.jsx("h2",{className:"text-xl font-medium mb-4","data-testid":"text-profile-title",children:s("nav.profile")}),o.jsxs(le,{children:[o.jsx(Le,{children:o.jsxs($e,{className:"flex items-center space-x-2",children:[o.jsx(_r,{className:"h-5 w-5"}),o.jsx("span",{children:"معلومات المستخدم"})]})}),o.jsx(ce,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"relative",children:o.jsx(nF,{teamMemberId:((g=c==null?void 0:c.teamMember)==null?void 0:g.id)||"",currentProfileImage:c==null?void 0:c.profileImageUrl,memberName:(c==null?void 0:c.firstName)||(c==null?void 0:c.username)||"مستخدم",size:"lg",showUploadIcon:!0,onImageUpdated:w=>{t.invalidateQueries({queryKey:["/api/auth/user"]})}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-lg","data-testid":"text-user-name",children:((b=c==null?void 0:c.teamMember)==null?void 0:b.name)||(c==null?void 0:c.username)||"مستخدم"}),o.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-user-role",children:[((v=c==null?void 0:c.teamMember)==null?void 0:v.role)||"عضو فريق"," - شركة اشراق الودق"]}),o.jsx("p",{className:"text-xs text-muted-foreground","data-testid":"text-user-email",children:(y=c==null?void 0:c.teamMember)==null?void 0:y.email}),o.jsxs("div",{className:"flex items-center mt-2 space-x-2 space-x-reverse",children:[o.jsx(Ua,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"مستوى الصلاحيات:"}),(c==null?void 0:c.role)==="admin"&&o.jsx(Te,{className:"bg-red-100 text-red-800",children:"مدير النظام"}),(c==null?void 0:c.role)==="supervisor"&&o.jsx(Te,{className:"bg-blue-100 text-blue-800",children:"مشرف"}),((c==null?void 0:c.role)==="user"||!(c!=null&&c.role))&&o.jsx(Te,{className:"bg-gray-100 text-gray-800",children:"مستخدم عادي"})]})]})]})})]}),o.jsxs(le,{children:[o.jsx(Le,{children:o.jsxs($e,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(wd,{className:"h-5 w-5"}),o.jsx("span",{children:"إعدادات المعلومات الشخصية"})]}),!r&&o.jsxs(V,{variant:"outline",size:"sm",onClick:()=>i(!0),"data-testid":"button-edit-profile",children:[o.jsx(Xp,{className:"h-4 w-4 mr-1"}),"تعديل"]})]})}),o.jsx(ce,{children:r?o.jsx(tw,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(w=>h.mutate(w)),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Rs,{control:u.control,name:"firstName",render:({field:w})=>o.jsxs(os,{children:[o.jsx(ls,{children:"الاسم الأول"}),o.jsx(cs,{children:o.jsx(Se,{...w,"data-testid":"input-first-name"})}),o.jsx(us,{})]})}),o.jsx(Rs,{control:u.control,name:"lastName",render:({field:w})=>o.jsxs(os,{children:[o.jsx(ls,{children:"الاسم الأخير"}),o.jsx(cs,{children:o.jsx(Se,{...w,"data-testid":"input-last-name"})}),o.jsx(us,{})]})})]}),o.jsx(Rs,{control:u.control,name:"email",render:({field:w})=>o.jsxs(os,{children:[o.jsx(ls,{children:"البريد الإلكتروني"}),o.jsx(cs,{children:o.jsx(Se,{type:"email",...w,"data-testid":"input-email"})}),o.jsx(us,{})]})}),o.jsx(Rs,{control:u.control,name:"phone",render:({field:w})=>o.jsxs(os,{children:[o.jsx(ls,{children:"رقم الهاتف (اختياري)"}),o.jsx(cs,{children:o.jsx(Se,{...w,"data-testid":"input-phone"})}),o.jsx(us,{})]})}),o.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[o.jsxs(V,{type:"submit",disabled:h.isPending,"data-testid":"button-save-profile",children:[o.jsx(sN,{className:"h-4 w-4 mr-1"}),h.isPending?"جاري الحفظ...":"حفظ"]}),o.jsxs(V,{type:"button",variant:"outline",onClick:()=>{i(!1),u.reset()},"data-testid":"button-cancel-profile",children:[o.jsx(So,{className:"h-4 w-4 mr-1"}),"إلغاء"]})]})]})}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(ne,{className:"text-sm font-medium",children:"الاسم الكامل"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:c!=null&&c.firstName&&(c!=null&&c.lastName)?`${c==null?void 0:c.firstName} ${c==null?void 0:c.lastName}`:"غير محدد"})]}),o.jsxs("div",{children:[o.jsx(ne,{className:"text-sm font-medium",children:"البريد الإلكتروني"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:(c==null?void 0:c.email)||"غير محدد"})]}),o.jsxs("div",{children:[o.jsx(ne,{className:"text-sm font-medium",children:"رقم الهاتف"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:(c==null?void 0:c.phone)||"غير محدد"})]})]})})]}),o.jsxs(le,{children:[o.jsx(Le,{children:o.jsxs($e,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ua,{className:"h-5 w-5"}),o.jsx("span",{children:"تغيير كلمة المرور"})]}),!a&&o.jsxs(V,{variant:"outline",size:"sm",onClick:()=>l(!0),"data-testid":"button-change-password",children:[o.jsx(Xp,{className:"h-4 w-4 mr-1"}),"تغيير"]})]})}),o.jsx(ce,{children:a?o.jsx(tw,{...d,children:o.jsxs("form",{onSubmit:d.handleSubmit(w=>f.mutate(w)),className:"space-y-4",children:[o.jsx(Rs,{control:d.control,name:"currentPassword",render:({field:w})=>o.jsxs(os,{children:[o.jsx(ls,{children:"كلمة المرور الحالية"}),o.jsx(cs,{children:o.jsx(Se,{type:"password",...w,"data-testid":"input-current-password"})}),o.jsx(us,{})]})}),o.jsx(Rs,{control:d.control,name:"newPassword",render:({field:w})=>o.jsxs(os,{children:[o.jsx(ls,{children:"كلمة المرور الجديدة"}),o.jsx(cs,{children:o.jsx(Se,{type:"password",...w,"data-testid":"input-new-password"})}),o.jsx(us,{})]})}),o.jsx(Rs,{control:d.control,name:"confirmPassword",render:({field:w})=>o.jsxs(os,{children:[o.jsx(ls,{children:"تأكيد كلمة المرور الجديدة"}),o.jsx(cs,{children:o.jsx(Se,{type:"password",...w,"data-testid":"input-confirm-password"})}),o.jsx(us,{})]})}),o.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[o.jsxs(V,{type:"submit",disabled:f.isPending,"data-testid":"button-save-password",children:[o.jsx(sN,{className:"h-4 w-4 mr-1"}),f.isPending?"جاري الحفظ...":"حفظ"]}),o.jsxs(V,{type:"button",variant:"outline",onClick:()=>{l(!1),d.reset()},"data-testid":"button-cancel-password",children:[o.jsx(So,{className:"h-4 w-4 mr-1"}),"إلغاء"]})]})]})}):o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:'انقر على "تغيير" لتحديث كلمة المرور الخاصة بك'}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ua,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-sm text-green-600",children:"كلمة المرور محمية بتشفير قوي"})]})]})})]}),(c==null?void 0:c.role)==="admin"&&o.jsxs(le,{children:[o.jsx(Le,{children:o.jsxs($e,{className:"flex items-center space-x-2",children:[o.jsx(Ua,{className:"h-5 w-5"}),o.jsx("span",{children:"وظائف المدير"})]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs(V,{className:"w-full",onClick:()=>n("/admin/users"),"data-testid":"button-admin-users",children:[o.jsx(Hu,{className:"h-4 w-4 mr-2"}),"إدارة المستخدمين"]}),o.jsxs(V,{className:"w-full",variant:"outline",onClick:()=>n("/admin/logs"),"data-testid":"button-admin-logs",children:[o.jsx(Da,{className:"h-4 w-4 mr-2"}),"سجل أحداث النظام"]}),o.jsxs(V,{className:"w-full",variant:"outline",onClick:()=>n("/admin/whatsapp"),"data-testid":"button-admin-whatsapp",children:[o.jsx(Xr,{className:"h-4 w-4 mr-2"}),"إدارة الواتساب"]}),o.jsxs(V,{className:"w-full",variant:"outline",onClick:()=>n("/admin/team-points"),"data-testid":"button-admin-team-points",children:[o.jsx(Wu,{className:"h-4 w-4 mr-2"}),"نقاط الفريق"]})]})]}),o.jsxs(le,{children:[o.jsx(Le,{children:o.jsxs($e,{className:"flex items-center space-x-2",children:[o.jsx(wd,{className:"h-5 w-5"}),o.jsx("span",{children:"إعدادات أخرى"})]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hl,{className:"h-4 w-4"}),o.jsx("span",{children:"إعدادات الإشعارات"})]}),o.jsx(V,{variant:"outline",size:"sm",disabled:!0,children:"قريباً"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(R6,{className:"h-4 w-4"}),o.jsx("span",{children:"المساعدة والدعم"})]}),o.jsx(V,{variant:"outline",size:"sm",disabled:!0,children:"قريباً"})]})]})]}),o.jsx(le,{children:o.jsx(ce,{className:"pt-6",children:o.jsxs(V,{variant:"destructive",className:"w-full",onClick:x,disabled:p.isPending,"data-testid":"button-logout",children:[o.jsx(oE,{className:"h-4 w-4 mr-2"}),p.isPending?"جاري تسجيل الخروج...":"تسجيل الخروج"]})})})]})}var wse="Separator",__="horizontal",bse=["horizontal","vertical"],EF=m.forwardRef((e,t)=>{const{decorative:n,orientation:s=__,...r}=e,i=jse(s)?s:__,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(ge.div,{"data-orientation":i,...l,...r,ref:t})});EF.displayName=wse;function jse(e){return bse.includes(e)}var AF=EF;const Rm=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},r)=>o.jsx(AF,{ref:r,decorative:n,orientation:t,className:ue("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Rm.displayName=AF.displayName;function Nv(e){return/^401: .*/.test(e.message)}const Sse=$t.object({name:$t.string().min(2,"الاسم يجب أن يكون على الأقل حرفين"),phone:$t.string().min(1,"رقم الهاتف مطلوب"),email:$t.string().email("البريد الإلكتروني غير صحيح").optional().or($t.literal("")),address:$t.string().optional(),gpsLatitude:$t.string().optional(),gpsLongitude:$t.string().optional(),gpsAddress:$t.string().optional()}),Nse=({customers:e,onCustomerSelect:t})=>{const n=e.filter(s=>s.gpsLatitude&&s.gpsLongitude);return n.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[o.jsx(zu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"لا توجد مواقع GPS"}),o.jsx("p",{className:"text-gray-500",children:"لا يحتوي أي من العملاء المعروضين على إحداثيات GPS صحيحة"}),o.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"يرجى إضافة إحداثيات GPS للعملاء لعرضهم على الخريطة"})]}):o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(zu,{className:"h-5 w-5 text-blue-600 mr-2"}),o.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"عملاء مع مواقع GPS"})]}),o.jsxs("p",{className:"text-blue-700 mb-4",children:["يتم عرض ",n.length," من العملاء الذين لديهم إحداثيات GPS صحيحة"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(s=>o.jsx(le,{className:"border-l-4 border-l-green-500 bg-white hover:shadow-md transition-shadow",children:o.jsxs(ce,{className:"p-4",children:[o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:s.name}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(xd,{className:"h-3 w-3 mr-1"}),o.jsx("span",{children:s.phone})]}),s.email&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(Qp,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"truncate",children:s.email})]}),s.address&&o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"mr-1 text-xs",children:"📍"}),o.jsx("span",{className:"text-xs leading-tight",children:s.address})]}),s.gpsAddress&&o.jsxs("div",{className:"flex items-start",children:[o.jsx(Wx,{className:"h-3 w-3 mr-1 text-green-600 mt-0.5"}),o.jsx("span",{className:"text-xs leading-tight text-green-700",children:s.gpsAddress})]})]})]})}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-xs text-gray-500",children:["GPS: ",parseFloat(s.gpsLatitude).toFixed(4),", ",parseFloat(s.gpsLongitude).toFixed(4)]}),o.jsxs("div",{className:"flex space-x-1 space-x-reverse",children:[o.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{const r=`https://www.google.com/maps?q=${s.gpsLatitude},${s.gpsLongitude}`;window.open(r,"_blank")},className:"px-2 py-1 h-7","data-testid":`button-open-maps-${s.id}`,children:[o.jsx(Wx,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"text-xs",children:"خرائط"})]}),o.jsxs(V,{size:"sm",variant:"outline",onClick:()=>t(s),className:"px-2 py-1 h-7","data-testid":`button-details-${s.id}`,children:[o.jsx(p1,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"text-xs",children:"تفاصيل"})]})]})]})})]})},s.id))}),n.length>0&&o.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full mr-2"}),o.jsx("span",{className:"text-sm text-green-800",children:'يمكنك النقر على "خرائط" لفتح الموقع في تطبيق الخرائط، أو "تفاصيل" لعرض معلومات العميل'})]})})]})})};function Cse(){const[e,t]=m.useState(!1),[n,s]=m.useState(null),[r,i]=m.useState(""),[a,l]=m.useState(null),[c,u]=m.useState(!1),[d,h]=m.useState(!1),[f,p]=m.useState("list"),{toast:x}=at(),g=_t(),{isAuthenticated:b,isLoading:v}=wa(),{data:y,isLoading:w}=We({queryKey:["/api/customers"]}),{data:j,isLoading:N}=We({queryKey:["/api/tasks","customer",a==null?void 0:a.id],enabled:!!(a!=null&&a.id)}),k=(y==null?void 0:y.filter(_=>{var B;return _.name.toLowerCase().includes(r.toLowerCase())||_.phone.includes(r)||((B=_.address)==null?void 0:B.toLowerCase().includes(r.toLowerCase()))}))||[],C=ew({resolver:nw(Sse),defaultValues:{name:"",phone:"",email:"",address:"",gpsLatitude:"",gpsLongitude:"",gpsAddress:""}}),T=Ne({mutationFn:async _=>{const B={name:_.name,phone:_.phone,email:_.email||void 0,address:_.address||void 0,gpsLatitude:_.gpsLatitude||void 0,gpsLongitude:_.gpsLongitude||void 0,gpsAddress:_.gpsAddress||void 0};return(await Ae("POST","/api/customers",B)).json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/customers"]}),x({title:"تم إضافة العميل بنجاح",description:"تم حفظ معلومات العميل في النظام."}),C.reset(),t(!1)},onError:_=>{if(Nv(_)){x({title:"غير مخول",description:"انت غير مسجل الدخول. جاري تسجيل الدخول مرة أخرى...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}x({title:"خطأ في إضافة العميل",description:"حدث خطأ أثناء إضافة العميل. يرجى المحاولة مرة أخرى.",variant:"destructive"})}}),M=Ne({mutationFn:async _=>{const B={name:_.name,phone:_.phone,email:_.email||void 0,address:_.address||void 0,gpsLatitude:_.gpsLatitude||void 0,gpsLongitude:_.gpsLongitude||void 0,gpsAddress:_.gpsAddress||void 0};return(await Ae("PUT",`/api/customers/${_.id}`,B)).json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/customers"]}),x({title:"تم تحديث العميل بنجاح",description:"تم حفظ التغييرات في النظام."}),C.reset(),s(null),t(!1)},onError:_=>{if(Nv(_)){x({title:"غير مخول",description:"انت غير مسجل الدخول. جاري تسجيل الدخول مرة أخرى...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}x({title:"خطأ في تحديث العميل",description:"حدث خطأ أثناء تحديث معلومات العميل.",variant:"destructive"})}}),E=Ne({mutationFn:async _=>{await Ae("DELETE",`/api/customers/${_}`)},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/customers"]}),x({title:"تم حذف العميل بنجاح",description:"تم حذف العميل من النظام."})},onError:_=>{if(Nv(_)){x({title:"غير مخول",description:"انت غير مسجل الدخول. جاري تسجيل الدخول مرة أخرى...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}x({title:"خطأ في حذف العميل",description:"حدث خطأ أثناء حذف العميل.",variant:"destructive"})}}),O=_=>{n?M.mutate({..._,id:n.id}):T.mutate(_)},D=_=>{s(_),C.reset({name:_.name,phone:_.phone,email:_.email||"",address:_.address||"",gpsLatitude:_.gpsLatitude||"",gpsLongitude:_.gpsLongitude||"",gpsAddress:_.gpsAddress||""}),t(!0)},q=_=>{confirm(`هل أنت متأكد من حذف العميل "${_.name}"؟`)&&E.mutate(_.id)},W=()=>{s(null),C.reset(),t(!0)},R=()=>{if(h(!0),!navigator.geolocation){x({title:"خطأ",description:"المتصفح لا يدعم خدمة الموقع",variant:"destructive"}),h(!1);return}navigator.geolocation.getCurrentPosition(_=>{const B=_.coords.latitude.toString(),Q=_.coords.longitude.toString();C.setValue("gpsLatitude",B),C.setValue("gpsLongitude",Q),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${B}&lon=${Q}&addressdetails=1`,{headers:{"User-Agent":"TaskFlow App (task@example.com)"}}).then(se=>{if(!se.ok)throw new Error("فشل في الحصول على العنوان");return se.json()}).then(se=>{se&&se.display_name&&C.setValue("gpsAddress",se.display_name)}).catch(se=>{console.log("فشل في الحصول على العنوان:",se)}),h(!1),x({title:"تم الحصول على الموقع",description:`تم حفظ الإحداثيات: ${B.substring(0,8)}, ${Q.substring(0,8)}`})},_=>{console.error("خطأ في الموقع:",_),h(!1);let B="لم نتمكن من الحصول على موقعك";switch(_.code){case _.PERMISSION_DENIED:B="تم رفض الإذن للوصول للموقع. يرجى السماح بالوصول في إعدادات المتصفح";break;case _.POSITION_UNAVAILABLE:B="معلومات الموقع غير متاحة";break;case _.TIMEOUT:B="انتهت مهلة البحث عن الموقع";break;default:B="حدث خطأ غير معروف في تحديد الموقع";break}x({title:"خطأ في الموقع",description:B,variant:"destructive"})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},K=(_,B)=>{const Q=`https://www.google.com/maps?q=${_},${B}`;window.open(Q,"_blank")},I=_=>{l(_),u(!0)};return v||w?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"جاري تحميل قائمة العملاء..."})]})}):b?o.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[o.jsxs(le,{children:[o.jsx(Le,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Jr,{className:"h-6 w-6"}),o.jsx($e,{className:"text-xl",children:"إدارة العملاء"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex border rounded-lg p-1",children:[o.jsxs(V,{onClick:()=>p("list"),variant:f==="list"?"default":"ghost",size:"sm",className:"px-3","data-testid":"button-list-view",children:[o.jsx(z6,{className:"h-4 w-4 mr-1"}),"قائمة"]}),o.jsxs(V,{onClick:()=>p("map"),variant:f==="map"?"default":"ghost",size:"sm",className:"px-3","data-testid":"button-map-view",children:[o.jsx(tN,{className:"h-4 w-4 mr-1"}),"خريطة"]})]}),o.jsxs(V,{onClick:W,className:"flex items-center space-x-2","data-testid":"button-add-customer-main",children:[o.jsx(Hc,{className:"h-4 w-4"}),o.jsx("span",{children:"إضافة عميل جديد"})]})]})]})}),o.jsxs(ce,{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(ip,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Se,{placeholder:"البحث في العملاء...",value:r,onChange:_=>i(_.target.value),className:"pl-10","data-testid":"input-search-customers"})]}),r&&o.jsx(V,{variant:"outline",size:"icon",onClick:()=>i(""),"data-testid":"button-clear-search",children:o.jsx(So,{className:"h-4 w-4"})})]}),f==="list"?o.jsx("div",{className:"space-y-4",children:k.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Jr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:r?"لا توجد نتائج للبحث":"لا يوجد عملاء حتى الآن"})]}):k.map(_=>o.jsx(le,{className:"border-l-4 border-l-blue-500",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:_.name}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(xd,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:_.phone})]}),_.email&&o.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(Qp,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:_.email})]}),_.address&&o.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx("span",{className:"mr-2",children:"📍"}),o.jsx("span",{children:_.address})]}),_.gpsLatitude&&_.gpsLongitude&&o.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(zu,{className:"h-4 w-4 mr-2 text-green-600"}),o.jsx("button",{onClick:()=>K(_.gpsLatitude,_.gpsLongitude),className:"text-blue-600 hover:text-blue-700 underline",children:"عرض على الخريطة"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(V,{variant:"outline",size:"sm",onClick:()=>I(_),"data-testid":`button-view-customer-${_.id}`,children:o.jsx(p1,{className:"h-4 w-4"})}),o.jsx(V,{variant:"outline",size:"sm",onClick:()=>D(_),"data-testid":`button-edit-customer-${_.id}`,children:o.jsx(Xp,{className:"h-4 w-4"})}),o.jsx(V,{variant:"outline",size:"sm",onClick:()=>q(_),className:"text-red-600 hover:text-red-700","data-testid":`button-delete-customer-${_.id}`,children:o.jsx(Eh,{className:"h-4 w-4"})})]})]})})},_.id))}):o.jsx("div",{className:"space-y-4",children:k.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(tN,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:r?"لا توجد نتائج للبحث":"لا يوجد عملاء لعرضهم على الخريطة"})]}):o.jsx(Nse,{customers:k,onCustomerSelect:I})})]})]}),o.jsx(Xt,{open:e,onOpenChange:t,children:o.jsxs(zt,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[o.jsx(Sn,{children:o.jsx(Nn,{children:n?"تعديل بيانات العميل":"إضافة عميل جديد"})}),o.jsx(tw,{...C,children:o.jsxs("form",{onSubmit:C.handleSubmit(O),className:"space-y-4",children:[o.jsx(Rs,{control:C.control,name:"name",render:({field:_})=>o.jsxs(os,{children:[o.jsx(ls,{children:"اسم العميل *"}),o.jsx(cs,{children:o.jsx(Se,{placeholder:"أدخل اسم العميل",..._,"data-testid":"input-customer-name"})}),o.jsx(us,{})]})}),o.jsx(Rs,{control:C.control,name:"phone",render:({field:_})=>o.jsxs(os,{children:[o.jsx(ls,{children:"رقم الهاتف *"}),o.jsx(cs,{children:o.jsx(Se,{type:"tel",placeholder:"مثال: +9647812345678",..._,"data-testid":"input-customer-phone"})}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"يرجى إدخال رقم الهاتف مع مفتاح الدولة (مثال: +964 للعراق)"}),o.jsx(us,{})]})}),o.jsx(Rs,{control:C.control,name:"email",render:({field:_})=>o.jsxs(os,{children:[o.jsx(ls,{children:"البريد الإلكتروني"}),o.jsx(cs,{children:o.jsx(Se,{type:"email",placeholder:"أدخل البريد الإلكتروني",..._,"data-testid":"input-customer-email"})}),o.jsx(us,{})]})}),o.jsx(Rs,{control:C.control,name:"address",render:({field:_})=>o.jsxs(os,{children:[o.jsx(ls,{children:"العنوان"}),o.jsx(cs,{children:o.jsx(Qn,{placeholder:"أدخل عنوان العميل",rows:2,..._,"data-testid":"textarea-customer-address"})}),o.jsx(us,{})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("label",{className:"text-sm font-medium",children:"الموقع الجغرافي (GPS)"}),o.jsxs(V,{type:"button",onClick:R,disabled:d,size:"sm",variant:"outline",className:"text-xs","data-testid":"button-get-location",children:[o.jsx(Wx,{className:"h-3 w-3 mr-1"}),d?"جاري التحديد...":"تحديد الموقع"]})]}),C.watch("gpsLatitude")&&C.watch("gpsLongitude")&&o.jsxs("div",{className:"border rounded-lg overflow-hidden bg-muted",children:[o.jsxs("div",{className:"relative h-32 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{const _=C.watch("gpsLatitude"),B=C.watch("gpsLongitude");_&&B&&K(_,B)},"data-testid":"map-preview",children:[o.jsx("iframe",{src:`https://maps.google.com/maps?q=${C.watch("gpsLatitude")},${C.watch("gpsLongitude")}&t=m&z=15&output=embed`,width:"100%",height:"100%",style:{border:0,pointerEvents:"none"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"معاينة الموقع"}),o.jsx("div",{className:"absolute inset-0 bg-transparent hover:bg-black/10 transition-colors flex items-center justify-center",children:o.jsx("div",{className:"bg-white/90 px-3 py-1.5 rounded-md text-sm font-medium shadow-sm opacity-0 hover:opacity-100 transition-opacity",children:"انقر لفتح في خرائط جوجل"})})]}),o.jsxs("div",{className:"p-3 bg-background",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(zu,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"font-medium",children:"تم تحديد الموقع"})]}),C.watch("gpsAddress")&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:C.watch("gpsAddress")})]})]}),!C.watch("gpsLatitude")&&o.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-4 text-center",children:[o.jsx(zu,{className:"h-6 w-6 text-muted-foreground mx-auto mb-2"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:'اضغط "تحديد الموقع" لإضافة موقع العميل'})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),"data-testid":"button-cancel-customer",children:"إلغاء"}),o.jsx(V,{type:"submit",disabled:T.isPending||M.isPending,"data-testid":"button-save-customer",children:T.isPending||M.isPending?"جاري الحفظ...":n?"تحديث العميل":"إضافة العميل"})]})]})})]})}),o.jsx(Xt,{open:c,onOpenChange:u,children:o.jsxs(zt,{className:"sm:max-w-md",children:[o.jsx(Sn,{children:o.jsx(Nn,{children:"تفاصيل العميل"})}),a&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx("h3",{className:"text-lg font-semibold",children:a.name})}),o.jsx(Rm,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(xd,{className:"h-4 w-4 mr-2 text-muted-foreground"}),o.jsx("span",{children:a.phone})]}),a.email&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(Qp,{className:"h-4 w-4 mr-2 text-muted-foreground"}),o.jsx("span",{children:a.email})]}),a.address&&o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"mr-2 mt-0.5 text-muted-foreground",children:"📍"}),o.jsx("span",{children:a.address})]}),a.createdAt&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fn,{className:"h-4 w-4 mr-2 text-muted-foreground"}),o.jsxs("span",{children:["تم الإضافة: ",new Date(a.createdAt).toLocaleDateString("en-GB")]})]})]}),o.jsx(Rm,{}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium mb-2 flex items-center",children:[o.jsx(L6,{className:"h-4 w-4 mr-2"}),"المهام المرتبطة"]}),N?o.jsx("p",{className:"text-sm text-muted-foreground",children:"جاري تحميل المهام..."}):j&&j.length>0?o.jsx("div",{className:"space-y-2",children:j.map(_=>o.jsxs("div",{className:"text-sm p-2 bg-muted rounded",children:[o.jsx("div",{className:"font-medium",children:_.title}),o.jsxs("div",{className:"text-muted-foreground",children:[_.taskNumber," - ",_.status]})]},_.id))}):o.jsx("p",{className:"text-sm text-muted-foreground",children:"لا توجد مهام مرتبطة بهذا العميل"})]})]})]})})]}):null}function _se(){const[e,t]=m.useState(""),[n,s]=m.useState("private"),[r,i]=m.useState(""),[a,l]=m.useState(null),[c,u]=m.useState([]),[d,h]=m.useState(!0),{toast:f}=at(),{user:p}=zh(),x=m.useRef(null),{data:g=[],isLoading:b}=We({queryKey:["/api/messages"]}),{data:v=[]}=We({queryKey:["/api/team-members"]}),{data:y=[],refetch:w}=We({queryKey:["/api/messages/conversation",a==null?void 0:a.participantId,a==null?void 0:a.type],enabled:!!a,refetchInterval:3e3,staleTime:1e3,gcTime:5*60*1e3}),j=g.reduce((E,O)=>{var I,_,B,Q;const D=O.messageScope==="group",q=D?"group":O.senderId===(p==null?void 0:p.id)?O.receiverId:O.senderId,W=D?"المحادثة الجماعية":((I=O.sender)==null?void 0:I.name)||((_=O.sender)==null?void 0:_.username)||"مجهول";if(!q&&!D)return E;const R=D?"group":q,K=E.find(se=>se.id===R);return K?new Date(O.createdAt)>new Date(K.lastMessageTime)&&(K.lastMessage=O.content.substring(0,50)+(O.content.length>50?"...":""),K.lastMessageTime=O.createdAt,O.isRead==="false"&&K.unreadCount++):E.push({id:R,participantId:D?void 0:q,participantName:W,lastMessage:O.content.substring(0,50)+(O.content.length>50?"...":""),lastMessageTime:O.createdAt,unreadCount:O.isRead==="false"?1:0,type:D?"group":"private",avatar:((Q=(B=O.sender)==null?void 0:B.username)==null?void 0:Q.charAt(0))||"M"}),E},[]),N=Ne({mutationFn:async E=>await Ae("POST","/api/messages",E),onSuccess:E=>{i(""),a&&setTimeout(()=>{w()},100),Kp.invalidateQueries({queryKey:["/api/messages"]}),a&&Kp.invalidateQueries({queryKey:["/api/messages/conversation",a.participantId,a.type]}),f({title:"تم الإرسال",description:a?"تم إرسال الرسالة بنجاح":n==="group"?"تم إرسال الرسالة الجماعية بنجاح":"تم إرسال الرسالة بنجاح"})},onError:()=>{f({title:"خطأ",description:"فشل في إرسال الرسالة",variant:"destructive"})}});m.useEffect(()=>{x.current&&x.current.scrollIntoView({behavior:"smooth"})},[y]),m.useEffect(()=>{u(a?y:[])},[y,a]);const k=()=>{if(!r.trim())return;let E;if(a)E={receiverId:a.type==="group"?void 0:a.participantId,content:r.trim(),messageScope:a.type};else{if(n==="private"&&!e){f({title:"خطأ",description:"يرجى اختيار المستلم للرسالة الخاصة",variant:"destructive"});return}E={receiverId:n==="private"?e:void 0,content:r.trim(),messageScope:n}}if(a){const O={id:`temp-${Date.now()}`,senderId:(p==null?void 0:p.id)||"",receiverId:E.receiverId||null,content:E.content,messageType:"text",messageScope:E.messageScope,taskId:null,isRead:"true",createdAt:new Date().toISOString(),sender:{id:(p==null?void 0:p.id)||"",name:p==null?void 0:p.username,username:p==null?void 0:p.username}};u(D=>D.some(W=>W.content===E.content&&(W.id.startsWith("temp-")||W.senderId===(p==null?void 0:p.id))&&Math.abs(new Date(W.createdAt).getTime()-Date.now())<5e3)?D:[...D,O])}N.mutate(E)},C=E=>{l(E),h(!1),w()},T=()=>{l(null),h(!0)},M=E=>{const O=new Date(E),q=(new Date().getTime()-O.getTime())/(1e3*60*60);return q<24?Je(O,"HH:mm"):q<24*7?Je(O,"EEEE HH:mm"):Je(O,"dd/MM/yyyy HH:mm")};return b?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.jsxs("div",{className:"flex flex-col h-screen md:h-[calc(100vh-2rem)] md:container md:mx-auto md:p-4 md:max-w-6xl",dir:"rtl",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 md:p-0 md:mb-4 border-b md:border-0 bg-background md:bg-transparent",children:[a&&o.jsx(V,{variant:"ghost",size:"icon",onClick:T,className:"md:hidden",children:o.jsx(T6,{className:"h-5 w-5"})}),o.jsx(Xr,{className:"h-6 w-6 text-primary"}),o.jsx("h1",{className:"text-xl font-bold",children:a?a.participantName:"الرسائل"})]}),o.jsxs("div",{className:"flex-1 flex md:grid md:grid-cols-12 md:gap-4 overflow-hidden",children:[o.jsx("div",{className:`${d?"flex":"hidden"} md:flex md:col-span-4 flex-col w-full md:w-auto`,children:o.jsxs(le,{className:"h-full flex flex-col",children:[o.jsx(Le,{className:"pb-3 flex-shrink-0",children:o.jsx($e,{className:"text-lg",children:"المحادثات"})}),o.jsx(ce,{className:"p-0 flex-1 flex flex-col",children:o.jsx(da,{className:"flex-1",children:j.length===0?o.jsxs("div",{className:"text-center text-muted-foreground py-8 px-4",children:[o.jsx(Xr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"لا توجد محادثات بعد"})]}):o.jsx("div",{className:"space-y-1",children:j.map(E=>o.jsx("div",{className:`p-4 hover:bg-muted/50 cursor-pointer border-b transition-colors ${(a==null?void 0:a.id)===E.id?"bg-primary/10 border-primary/20":""}`,onClick:()=>C(E),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-medium ${E.type==="group"?"bg-blue-500":"bg-green-500"}`,children:E.type==="group"?o.jsx(Jr,{className:"h-5 w-5"}):E.avatar}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("h3",{className:"font-medium truncate text-sm",children:E.participantName}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:M(E.lastMessageTime)}),E.unreadCount>0&&o.jsx(Te,{variant:"destructive",className:"text-xs px-1 min-w-[20px] h-5",children:E.unreadCount})]})]}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:E.lastMessage})]})]})},E.id))})})})]})}),o.jsx("div",{className:`${d?"hidden":"flex"} md:flex md:col-span-8 flex-col w-full md:w-auto`,children:a?o.jsxs(le,{className:"h-full flex flex-col",children:[o.jsx(Le,{className:"pb-3 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs($e,{className:"flex items-center gap-2 text-lg",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-medium ${a.type==="group"?"bg-blue-500":"bg-green-500"}`,children:a.type==="group"?o.jsx(Jr,{className:"h-4 w-4"}):a.avatar}),a.participantName]}),o.jsx(Te,{variant:a.type==="group"?"default":"secondary",children:a.type==="group"?"جماعية":"خاصة"})]})}),o.jsxs(ce,{className:"flex-1 p-0 flex flex-col min-h-0",children:[o.jsx(da,{className:"flex-1 p-4 min-h-0",children:o.jsxs("div",{className:"space-y-3",children:[c.length===0?o.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[o.jsx(Xr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"ابدأ محادثتك الآن"})]}):c.map((E,O)=>{var D,q;return o.jsx("div",{className:`flex ${E.senderId===(p==null?void 0:p.id)?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${E.senderId===(p==null?void 0:p.id)?"bg-primary text-primary-foreground":"bg-muted"}`,children:[E.senderId!==(p==null?void 0:p.id)&&o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(_r,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs font-medium",children:((D=E.sender)==null?void 0:D.name)||((q=E.sender)==null?void 0:q.username)||"مجهول"})]}),o.jsx("p",{className:"text-sm",children:E.content}),o.jsxs("div",{className:`flex items-center justify-end gap-1 mt-1 ${E.senderId===(p==null?void 0:p.id)?"text-primary-foreground/70":"text-muted-foreground"}`,children:[o.jsx(Ks,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:E.createdAt?Je(new Date(E.createdAt),"HH:mm"):"الآن"})]})]})},E.id||`temp-${O}`)}),o.jsx("div",{ref:x})]})}),o.jsx("div",{className:"border-t p-4 flex-shrink-0",children:o.jsxs("div",{className:"flex gap-2 items-end",children:[o.jsx(Qn,{placeholder:"اكتب رسالتك هنا...",value:r,onChange:E=>i(E.target.value),onKeyPress:E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),k())},rows:2,className:"flex-1 resize-none min-h-[2.5rem] max-h-24"}),o.jsx(V,{onClick:k,disabled:N.isPending||!r.trim(),size:"icon",className:"flex-shrink-0",children:o.jsx(xc,{className:"h-4 w-4"})})]})})]})]}):o.jsx("div",{className:"flex flex-col h-full",children:o.jsxs(le,{className:"flex-1 flex flex-col",children:[o.jsx(Le,{className:"flex-shrink-0",children:o.jsxs($e,{className:"flex items-center gap-2",children:[o.jsx(xc,{className:"h-5 w-5"}),"محادثة جديدة"]})}),o.jsxs(ce,{className:"space-y-4 flex-1 flex flex-col justify-center",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"نوع الرسالة"}),o.jsxs(At,{value:n,onValueChange:E=>{s(E),E==="group"&&t("")},children:[o.jsx(jt,{children:o.jsx(Mt,{placeholder:"اختر نوع الرسالة"})}),o.jsxs(St,{children:[o.jsx(ve,{value:"private",children:"رسالة خاصة"}),o.jsx(ve,{value:"group",children:"رسالة جماعية"})]})]})]}),n==="private"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"المستلم"}),o.jsxs(At,{value:e,onValueChange:t,children:[o.jsx(jt,{children:o.jsx(Mt,{placeholder:"اختر عضو الفريق"})}),o.jsx(St,{children:v.map(E=>o.jsx(ve,{value:E.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center text-xs font-medium text-primary",children:E.avatar||E.name.charAt(0)}),E.name]})},E.id))})]})]}),n==="group"&&o.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jr,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm text-primary",children:"سيتم إرسال هذه الرسالة لجميع أعضاء الفريق"})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"الرسالة"}),o.jsx(Qn,{placeholder:"اكتب رسالتك هنا...",value:r,onChange:E=>i(E.target.value),rows:6,className:"min-h-32",onKeyPress:E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),k())}})]}),o.jsx(V,{onClick:k,disabled:N.isPending,className:"w-full mt-auto",children:N.isPending?"جاري الإرسال...":"إرسال الرسالة"})]})]})})})]})]})}function Pse(){const{toast:e}=at(),[t,n]=m.useState("newest"),{data:s=[],isLoading:r}=We({queryKey:["/api/notifications"]}),i=Ne({mutationFn:async p=>await Ae(`/api/notifications/${p}/read`,"PATCH"),onSuccess:()=>{Kp.invalidateQueries({queryKey:["/api/notifications"]}),e({title:"تم التحديث",description:"تم وضع علامة مقروء على الإشعار"})},onError:()=>{e({title:"خطأ",description:"فشل في تحديث حالة الإشعار",variant:"destructive"})}}),a=p=>{switch(p){case"task_assigned":return o.jsx(Yp,{className:"h-5 w-5 text-blue-600"});case"task_completed":return o.jsx(iE,{className:"h-5 w-5 text-green-600"});case"task_overdue":return o.jsx(Ks,{className:"h-5 w-5 text-red-600"});case"new_message":return o.jsx(hl,{className:"h-5 w-5 text-purple-600"});default:return o.jsx(hl,{className:"h-5 w-5 text-gray-600"})}},l=p=>{switch(p){case"task_assigned":return"bg-blue-50 border-blue-200 dark:bg-blue-900/20";case"task_completed":return"bg-green-50 border-green-200 dark:bg-green-900/20";case"task_overdue":return"bg-red-50 border-red-200 dark:bg-red-900/20";case"new_message":return"bg-purple-50 border-purple-200 dark:bg-purple-900/20";default:return"bg-gray-50 border-gray-200 dark:bg-gray-900/20"}},c=p=>{switch(p){case"task_assigned":return"مهمة جديدة";case"task_completed":return"مهمة مكتملة";case"task_overdue":return"مهمة متأخرة";case"new_message":return"رسالة جديدة";default:return"إشعار"}},u=s.filter(p=>p.isRead==="false").length,d=[...s].sort((p,x)=>{const g=new Date(p.createdAt),b=new Date(x.createdAt);return t==="newest"?b.getTime()-g.getTime():g.getTime()-b.getTime()});if(r)return o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const h=d.filter(p=>p.isRead==="false"),f=d.filter(p=>p.isRead==="true");return o.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",dir:"rtl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(hl,{className:"h-8 w-8 text-blue-600"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"الإشعارات"}),u>0&&o.jsxs(Te,{variant:"destructive",className:"text-xs",children:[u," جديد"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[o.jsx(mg,{className:"h-4 w-4"}),o.jsxs(At,{value:t,onValueChange:p=>n(p),children:[o.jsx(jt,{className:"w-28",children:o.jsx(Mt,{placeholder:"الترتيب"})}),o.jsxs(St,{children:[o.jsx(ve,{value:"newest",children:"الأحدث أولاً"}),o.jsx(ve,{value:"oldest",children:"الأقدم أولاً"})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[h.length>0&&o.jsxs(le,{children:[o.jsx(Le,{children:o.jsxs($e,{className:"text-lg",children:["الإشعارات الجديدة (",h.length,")"]})}),o.jsx(ce,{children:o.jsx(da,{className:"max-h-96",children:o.jsx("div",{className:"space-y-3",children:h.map(p=>o.jsx("div",{className:`border rounded-lg p-4 ${l(p.type)}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex gap-3 flex-1",children:[a(p.type),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:p.title}),o.jsx(Te,{variant:"outline",className:"text-xs",children:c(p.type)})]}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:p.content}),o.jsx("p",{className:"text-xs text-gray-500",children:Je(new Date(p.createdAt),"dd/MM/yyyy HH:mm")})]})]}),o.jsx(V,{size:"sm",variant:"ghost",onClick:()=>i.mutate(p.id),disabled:i.isPending,"data-testid":`button-mark-read-${p.id}`,children:o.jsx(gg,{className:"h-4 w-4"})})]})},p.id))})})})]}),o.jsxs(le,{children:[o.jsx(Le,{children:o.jsxs($e,{className:"text-lg",children:["الإشعارات المقروءة (",f.length,")"]})}),o.jsx(ce,{children:o.jsx(da,{className:"max-h-96",children:f.length===0?o.jsx("div",{className:"text-center text-gray-500 py-8",children:"لا توجد إشعارات مقروءة"}):o.jsx("div",{className:"space-y-3",children:f.map(p=>o.jsx("div",{className:"border rounded-lg p-4 opacity-75 hover:opacity-100",children:o.jsxs("div",{className:"flex gap-3",children:[a(p.type),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:p.title}),o.jsx(Te,{variant:"outline",className:"text-xs",children:c(p.type)})]}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-1",children:p.content}),o.jsx("p",{className:"text-xs text-gray-500",children:Je(new Date(p.createdAt),"dd/MM/yyyy HH:mm")})]})]})},p.id))})})})]}),s.length===0&&o.jsx(le,{children:o.jsxs(ce,{className:"text-center py-12",children:[o.jsx(hl,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"لا توجد إشعارات"}),o.jsx("p",{className:"text-gray-500",children:"ستظهر الإشعارات هنا عند إضافة مهام جديدة أو استلام رسائل"})]})})]})]})}function kse(){Jt();const[e,t]=m.useState("all"),[n,s]=m.useState("newest"),{data:r=[],isLoading:i}=We({queryKey:["/api/admin/logs"],refetchInterval:3e4}),a=f=>{switch(f){case"login_success":return"bg-green-100 text-green-800";case"login_failed":return"bg-red-100 text-red-800";case"logout":return"bg-gray-100 text-gray-800";case"task_created":return"bg-blue-100 text-blue-800";case"task_updated":return"bg-yellow-100 text-yellow-800";case"task_status_changed":return"bg-orange-100 text-orange-800";case"task_progress_updated":return"bg-indigo-100 text-indigo-800";case"task_deleted":return"bg-red-100 text-red-800";case"role_changed":return"bg-purple-100 text-purple-800";case"user_created":return"bg-cyan-100 text-cyan-800";case"user_approved":return"bg-green-100 text-green-800";case"user_rejected":return"bg-red-100 text-red-800";case"user_role_changed":return"bg-purple-100 text-purple-800";case"user_disabled":return"bg-gray-100 text-gray-800";case"user_deleted":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=f=>{switch(f){case"login_success":return"تسجيل دخول ناجح";case"login_failed":return"فشل تسجيل الدخول";case"logout":return"تسجيل خروج";case"task_created":return"إنشاء مهمة";case"task_updated":return"تحديث مهمة";case"task_status_changed":return"تغيير حالة مهمة";case"task_progress_updated":return"تحديث تقدم مهمة";case"task_deleted":return"حذف مهمة";case"role_changed":return"تغيير صلاحيات";case"user_created":return"إنشاء مستخدم";case"user_approved":return"موافقة على مستخدم";case"user_rejected":return"رفض مستخدم";case"user_role_changed":return"تغيير دور مستخدم";case"user_disabled":return"تعطيل مستخدم";case"user_deleted":return"حذف مستخدم";default:return f}},c=f=>{if(!f)return null;try{return JSON.parse(f)}catch{return f}},u=r.filter(f=>e==="all"?!0:f.action===e),d=[...u].sort((f,p)=>{const x=new Date(f.timestamp),g=new Date(p.timestamp);return n==="newest"?g.getTime()-x.getTime():x.getTime()-g.getTime()}),h=Array.from(new Set(r.map(f=>f.action)));return i?o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsx("h1",{className:"text-xl font-medium",children:"سجل أحداث النظام"}),o.jsx("div",{className:"space-y-4",children:[...Array(10)].map((f,p)=>o.jsx(le,{className:"animate-pulse",children:o.jsxs(ce,{className:"pt-6",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},p))})]}):o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsx("h1",{className:"text-lg font-semibold text-primary mb-2",children:"اهلا بكم في برنامج تتبع العمل في شركة اشراق الودق لتكنولوجيا المعلومات"})}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h1",{className:"text-xl font-medium flex items-center","data-testid":"text-admin-logs-title",children:[o.jsx(Da,{className:"h-5 w-5 mr-2"}),"سجل أحداث النظام"]}),o.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[o.jsx($6,{className:"h-4 w-4"}),o.jsxs(At,{value:e,onValueChange:t,children:[o.jsx(jt,{className:"w-40",children:o.jsx(Mt,{placeholder:"فلترة الأحداث"})}),o.jsxs(St,{children:[o.jsx(ve,{value:"all",children:"جميع الأحداث"}),h.map(f=>o.jsx(ve,{value:f,children:l(f)},f))]})]}),o.jsx(mg,{className:"h-4 w-4"}),o.jsxs(At,{value:n,onValueChange:f=>s(f),children:[o.jsx(jt,{className:"w-28",children:o.jsx(Mt,{placeholder:"الترتيب"})}),o.jsxs(St,{children:[o.jsx(ve,{value:"newest",children:"الأحدث أولاً"}),o.jsx(ve,{value:"oldest",children:"الأقدم أولاً"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsx(le,{children:o.jsxs(ce,{className:"pt-4 text-center",children:[o.jsx(Da,{className:"h-6 w-6 mx-auto mb-2 text-blue-600"}),o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"إجمالي الأحداث"})]})}),o.jsx(le,{children:o.jsxs(ce,{className:"pt-4 text-center",children:[o.jsx(_r,{className:"h-6 w-6 mx-auto mb-2 text-green-600"}),o.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.filter(f=>f.action==="login_success").length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"تسجيلات دخول ناجحة"})]})}),o.jsx(le,{children:o.jsxs(ce,{className:"pt-4 text-center",children:[o.jsx(Da,{className:"h-6 w-6 mx-auto mb-2 text-yellow-600"}),o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.filter(f=>f.action.includes("task")).length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"أحداث المهام"})]})}),o.jsx(le,{children:o.jsxs(ce,{className:"pt-4 text-center",children:[o.jsx(Da,{className:"h-6 w-6 mx-auto mb-2 text-purple-600"}),o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.filter(f=>f.action==="role_changed").length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"تغييرات الصلاحيات"})]})})]}),o.jsx("div",{className:"space-y-4",children:u.length===0?o.jsx(le,{children:o.jsxs(ce,{className:"pt-6 text-center",children:[o.jsx(Da,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"لا توجد أحداث"}),o.jsx("p",{className:"text-muted-foreground",children:e==="all"?"لم يتم تسجيل أي أحداث بعد":`لا توجد أحداث من نوع "${l(e)}"`})]})}):d.map(f=>{const p=c(f.details);return o.jsx(le,{className:"hover:shadow-md transition-shadow",children:o.jsxs(ce,{className:"pt-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[o.jsx(Te,{className:a(f.action),children:l(f.action)}),o.jsx("span",{className:"text-sm font-medium",children:f.username||"نظام"})]}),o.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(Fn,{className:"h-4 w-4 mr-1"}),new Date(f.timestamp).toLocaleString("en-GB")]})]}),p&&o.jsx("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg text-sm",children:typeof p=="object"?o.jsx("div",{className:"space-y-1",children:Object.entries(p).map(([x,g])=>o.jsxs("div",{className:"flex items-center",children:[o.jsxs("span",{className:"font-medium mr-2",children:[x,":"]}),o.jsx("span",{children:String(g)})]},x))}):o.jsx("span",{children:p})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[f.ipAddress&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(U6,{className:"h-3 w-3 mr-1"}),f.ipAddress]}),f.userAgent&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(lE,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"truncate max-w-xs",children:f.userAgent.split(" ")[0]})]})]})]})},f.id)})})]})}function Tse({onSuccess:e}){const[t,n]=m.useState(""),[s,r]=m.useState(""),[i,a]=m.useState("user"),[l,c]=m.useState(!1),{toast:u}=at(),d=_t(),h=Ne({mutationFn:async p=>(await Ae("POST","/api/auth/register",p)).json(),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/admin/users"]}),u({title:"تم إنشاء المستخدم بنجاح",description:"تم إنشاء حساب المستخدم الجديد"}),n(""),r(""),a("user"),e()},onError:p=>{u({title:"خطأ في إنشاء المستخدم",description:p.message||"حدث خطأ أثناء إنشاء الحساب",variant:"destructive"})}}),f=p=>{if(p.preventDefault(),!t.trim()||!s.trim()){u({title:"حقول مطلوبة",description:"يرجى ملء اسم المستخدم وكلمة المرور",variant:"destructive"});return}if(s.length<6){u({title:"كلمة مرور ضعيفة",description:"كلمة المرور يجب أن تكون 6 أحرف على الأقل",variant:"destructive"});return}h.mutate({username:t.trim(),password:s,role:i})};return o.jsxs("div",{children:[o.jsx(Sn,{children:o.jsx(Nn,{"data-testid":"modal-add-user-title",children:"إضافة مستخدم جديد"})}),o.jsxs("form",{onSubmit:f,className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"username",children:"اسم المستخدم *"}),o.jsx(Se,{id:"username",value:t,onChange:p=>n(p.target.value),placeholder:"أدخل اسم المستخدم","data-testid":"input-username",dir:"ltr"})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"password",children:"كلمة المرور *"}),o.jsxs("div",{className:"relative",children:[o.jsx(Se,{id:"password",type:l?"text":"password",value:s,onChange:p=>r(p.target.value),placeholder:"أدخل كلمة المرور","data-testid":"input-password",dir:"ltr",className:"pl-10"}),o.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700","data-testid":"button-toggle-password",children:l?o.jsx(O6,{className:"h-4 w-4"}):o.jsx(p1,{className:"h-4 w-4"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"كلمة المرور يجب أن تكون 6 أحرف على الأقل"})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"role",children:"الدور"}),o.jsxs(At,{value:i,onValueChange:a,children:[o.jsx(jt,{"data-testid":"select-user-role",children:o.jsx(Mt,{})}),o.jsxs(St,{children:[o.jsx(ve,{value:"user",children:"مستخدم عادي"}),o.jsx(ve,{value:"admin",children:"مدير"})]})]})]}),o.jsxs("div",{className:"flex space-x-3 space-x-reverse pt-4",children:[o.jsx(V,{type:"submit",className:"flex-1",disabled:h.isPending,"data-testid":"button-submit-user",children:h.isPending?"جاري الإنشاء...":"إنشاء المستخدم"}),o.jsx(V,{type:"button",variant:"outline",onClick:e,"data-testid":"button-cancel-add-user",children:"إلغاء"})]})]})]})}function Ese(){const{toast:e}=at(),t=_t(),[n,s]=m.useState(!1),[r,i]=m.useState(null),[a,l]=m.useState(""),[c,u]=m.useState(!1),[d,h]=m.useState(!1),{data:f=[],isLoading:p}=We({queryKey:["/api/admin/users"]}),x=Ne({mutationFn:async({userId:R,action:K})=>{await Ae("PATCH",`/api/admin/users/${R}/approve`,{isApproved:K})},onSuccess:(R,{action:K})=>{e({title:K==="approved"?"تم قبول المستخدم":"تم رفض المستخدم",description:K==="approved"?"المستخدم يمكنه الآن الدخول للنظام":"تم رفض طلب المستخدم"}),t.invalidateQueries({queryKey:["/api/admin/users"]})},onError:()=>{e({title:"خطأ",description:"حدث خطأ في معالجة الطلب",variant:"destructive"})}}),g=Ne({mutationFn:async({userId:R,role:K})=>{await Ae("PATCH",`/api/admin/users/${R}/role`,{role:K})},onSuccess:()=>{e({title:"تم تحديث الصلاحيات",description:"تم تحديث صلاحيات المستخدم بنجاح"}),t.invalidateQueries({queryKey:["/api/admin/users"]})},onError:()=>{e({title:"خطأ",description:"حدث خطأ في تحديث الصلاحيات",variant:"destructive"})}}),b=Ne({mutationFn:async R=>{await Ae("PATCH",`/api/admin/users/${R}/toggle`)},onSuccess:()=>{e({title:"تم تغيير حالة المستخدم",description:"تم تحديث حالة المستخدم بنجاح"}),t.invalidateQueries({queryKey:["/api/admin/users"]})},onError:()=>{e({title:"خطأ في تغيير الحالة",description:"حدث خطأ أثناء تغيير حالة المستخدم",variant:"destructive"})}}),v=Ne({mutationFn:async R=>{await Ae("DELETE",`/api/admin/users/${R}`)},onSuccess:()=>{e({title:"تم حذف المستخدم",description:"تم حذف المستخدم بنجاح من النظام"}),t.invalidateQueries({queryKey:["/api/admin/users"]})},onError:()=>{e({title:"خطأ في الحذف",description:"حدث خطأ أثناء حذف المستخدم",variant:"destructive"})}}),y=Ne({mutationFn:async({userId:R,newPassword:K})=>{await Ae("PATCH",`/api/admin/users/${R}/reset-password`,{newPassword:K})},onSuccess:()=>{e({title:"تم إعادة تعيين كلمة المرور",description:"تم إعادة تعيين كلمة مرور المستخدم بنجاح"}),i(null),l("")},onError:()=>{e({title:"خطأ في إعادة تعيين كلمة المرور",description:"حدث خطأ أثناء إعادة تعيين كلمة المرور",variant:"destructive"})}}),w=R=>{x.mutate({userId:R,action:"approved"})},j=R=>{x.mutate({userId:R,action:"rejected"})},N=R=>{switch(R){case"approved":return o.jsx(Te,{className:"bg-green-100 text-green-800",children:"موافق عليه"});case"rejected":return o.jsx(Te,{className:"bg-red-100 text-red-800",children:"مرفوض"});case"pending":return o.jsx(Te,{className:"bg-yellow-100 text-yellow-800",children:"في الانتظار"});default:return o.jsx(Te,{className:"bg-gray-100 text-gray-800",children:"غير محدد"})}},k=R=>{switch(R){case"admin":return"مدير النظام";case"supervisor":return"مشرف";case"user":return"مستخدم عادي";default:return"غير محدد"}},C=R=>{switch(R){case"admin":return"bg-red-100 text-red-800";case"supervisor":return"bg-blue-100 text-blue-800";case"user":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},T=(R,K)=>{g.mutate({userId:R,role:K})},M=()=>{if(!r||!a||a.length<6){e({title:"خطأ",description:"كلمة المرور يجب أن تكون 6 أحرف على الأقل",variant:"destructive"});return}y.mutate({userId:r.id,newPassword:a})},E=async()=>{u(!0);try{const R=await fetch("/api/admin/export/customers",{method:"GET",credentials:"include"});if(!R.ok)throw new Error("فشل في تصدير البيانات");const K=await R.blob(),I=window.URL.createObjectURL(K),_=document.createElement("a");_.style.display="none",_.href=I,_.download=`customers_export_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(_),_.click(),window.URL.revokeObjectURL(I),document.body.removeChild(_),e({title:"تم التصدير بنجاح",description:"تم تصدير بيانات العملاء إلى ملف Excel"})}catch{e({title:"خطأ في التصدير",description:"حدث خطأ أثناء تصدير البيانات",variant:"destructive"})}finally{u(!1)}},O=async()=>{h(!0);try{const R=await fetch("/api/admin/backup/full",{method:"GET",credentials:"include"});if(!R.ok)throw new Error("فشل في إنشاء النسخة الاحتياطية");const K=await R.blob(),I=window.URL.createObjectURL(K),_=document.createElement("a");_.style.display="none",_.href=I,_.download=`backup_${new Date().toISOString().split("T")[0]}_${Date.now()}.zip`,document.body.appendChild(_),_.click(),window.URL.revokeObjectURL(I),document.body.removeChild(_),e({title:"تم إنشاء النسخة الاحتياطية",description:"تم إنشاء النسخة الاحتياطية الكاملة وتحميلها"})}catch{e({title:"خطأ في النسخة الاحتياطية",description:"حدث خطأ أثناء إنشاء النسخة الاحتياطية",variant:"destructive"})}finally{h(!1)}},D=f.filter(R=>R.isApproved==="pending"),q=f.filter(R=>R.isApproved==="approved"),W=f.filter(R=>R.isApproved==="rejected");return p?o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsx("h1",{className:"text-xl font-medium",children:"إدارة المستخدمين"}),o.jsx("div",{className:"space-y-4",children:[...Array(3)].map((R,K)=>o.jsx(le,{className:"animate-pulse",children:o.jsxs(ce,{className:"pt-6",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},K))})]}):o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsx("h1",{className:"text-lg font-semibold text-primary mb-2",children:"اهلا بكم في برنامج تتبع العمل في شركة اشراق الودق لتكنولوجيا المعلومات"})}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-xl font-medium","data-testid":"text-admin-users-title",children:"إدارة المستخدمين"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(V,{onClick:E,disabled:c,variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-blue-50","data-testid":"button-export-customers",children:c?o.jsxs(o.Fragment,{children:[o.jsx(F6,{className:"h-4 w-4 mr-1 animate-spin"}),"جاري التصدير..."]}):o.jsxs(o.Fragment,{children:[o.jsx(I6,{className:"h-4 w-4 mr-1"}),"تصدير العملاء"]})}),o.jsx(V,{onClick:O,disabled:d,variant:"outline",size:"sm",className:"text-purple-600 border-purple-600 hover:bg-purple-50","data-testid":"button-full-backup",children:d?o.jsxs(o.Fragment,{children:[o.jsx(JS,{className:"h-4 w-4 mr-1 animate-spin"}),"جاري النسخ..."]}):o.jsxs(o.Fragment,{children:[o.jsx(JS,{className:"h-4 w-4 mr-1"}),"نسخة احتياطية كاملة"]})}),o.jsxs(V,{onClick:()=>s(!0),className:"bg-green-600 hover:bg-green-700 text-white",size:"sm","data-testid":"button-add-user",children:[o.jsx(Ah,{className:"h-4 w-4 mr-2"}),"إضافة مستخدم"]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[o.jsx(le,{children:o.jsxs(ce,{className:"pt-4 text-center",children:[o.jsx(Ks,{className:"h-6 w-6 mx-auto mb-2 text-yellow-600"}),o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:D.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"في الانتظار"})]})}),o.jsx(le,{children:o.jsxs(ce,{className:"pt-4 text-center",children:[o.jsx(Hu,{className:"h-6 w-6 mx-auto mb-2 text-green-600"}),o.jsx("div",{className:"text-2xl font-bold text-green-600",children:q.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"موافق عليهم"})]})}),o.jsx(le,{children:o.jsxs(ce,{className:"pt-4 text-center",children:[o.jsx(Ey,{className:"h-6 w-6 mx-auto mb-2 text-red-600"}),o.jsx("div",{className:"text-2xl font-bold text-red-600",children:W.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"مرفوضين"})]})})]}),D.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-lg font-medium mb-4 text-yellow-700 flex items-center",children:[o.jsx(Ks,{className:"h-5 w-5 mr-2"}),"المستخدمين في الانتظار (",D.length,")"]}),o.jsx("div",{className:"space-y-4",children:D.map(R=>o.jsx(le,{className:"border-yellow-200 bg-yellow-50",children:o.jsx(ce,{className:"pt-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium","data-testid":`text-user-${R.id}`,children:R.username}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[k(R.role)," • تسجل في: ",new Date(R.createdAt).toLocaleDateString("en-GB")]}),o.jsx("div",{className:"mt-2",children:N(R.isApproved)})]}),o.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[o.jsxs(V,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>w(R.id),disabled:x.isPending,"data-testid":`button-approve-${R.id}`,children:[o.jsx(Hu,{className:"h-4 w-4 mr-1"}),"قبول"]}),o.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>j(R.id),disabled:x.isPending,"data-testid":`button-reject-${R.id}`,children:[o.jsx(Ey,{className:"h-4 w-4 mr-1"}),"رفض"]})]})]})})},R.id))})]}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center",children:[o.jsx(Jr,{className:"h-5 w-5 mr-2"}),"جميع المستخدمين (",f.length,")"]}),o.jsx("div",{className:"space-y-4",children:f.map(R=>o.jsx(le,{children:o.jsx(ce,{className:"pt-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium","data-testid":`text-user-${R.id}`,children:R.username}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["تسجل في: ",new Date(R.createdAt).toLocaleDateString("en-GB")]}),o.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[N(R.isApproved),o.jsxs(Te,{className:C(R.role),children:[o.jsx(Ua,{className:"h-3 w-3 ml-1"}),k(R.role)]})]})]}),o.jsxs("div",{className:"flex flex-col space-y-2 min-w-[200px]",children:[R.isApproved==="approved"&&o.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[o.jsx("span",{className:"text-sm font-medium",children:"الصلاحية:"}),o.jsxs(At,{value:R.role,onValueChange:K=>T(R.id,K),disabled:g.isPending,children:[o.jsx(jt,{className:"w-32 h-8",children:o.jsx(Mt,{})}),o.jsxs(St,{children:[o.jsx(ve,{value:"user",children:"مستخدم عادي"}),o.jsx(ve,{value:"supervisor",children:"مشرف"}),o.jsx(ve,{value:"admin",children:"مدير النظام"})]})]})]}),R.isApproved==="pending"&&o.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[o.jsxs(V,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>w(R.id),disabled:x.isPending,"data-testid":`button-approve-${R.id}`,children:[o.jsx(Hu,{className:"h-4 w-4 mr-1"}),"قبول"]}),o.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>j(R.id),disabled:x.isPending,"data-testid":`button-reject-${R.id}`,children:[o.jsx(Ey,{className:"h-4 w-4 mr-1"}),"رفض"]})]}),R.isApproved==="approved"&&o.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse mt-2 pt-2 border-t",children:[o.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"حالة الحساب:"}),o.jsx(Te,{variant:R.isActive==="true"?"default":"destructive",className:"text-xs",children:R.isActive==="true"?"نشط":"معطل"}),o.jsxs(Ec,{children:[o.jsx(ym,{asChild:!0,children:o.jsxs(V,{size:"sm",variant:R.isActive==="true"?"outline":"default",className:"text-xs h-7","data-testid":`button-toggle-${R.id}`,children:[o.jsx(q6,{className:"h-3 w-3 mr-1"}),R.isActive==="true"?"تعطيل":"تفعيل"]})}),o.jsxs(ko,{children:[o.jsxs(To,{children:[o.jsx(Ao,{children:R.isActive==="true"?"تعطيل المستخدم":"تفعيل المستخدم"}),o.jsxs(Mo,{children:["هل أنت متأكد من ",R.isActive==="true"?"تعطيل":"تفعيل",' المستخدم "',R.username,'"؟',R.isActive==="true"&&" لن يتمكن من الدخول للنظام بعد التعطيل."]})]}),o.jsxs(Eo,{children:[o.jsx(Do,{children:"إلغاء"}),o.jsx(Ro,{onClick:()=>b.mutate(R.id),className:R.isActive==="true"?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700",children:"تأكيد"})]})]})]}),o.jsxs(V,{size:"sm",variant:"outline",onClick:()=>i(R),className:"text-xs h-7 text-blue-600 border-blue-600","data-testid":`button-reset-password-${R.id}`,children:[o.jsx(eN,{className:"h-3 w-3 mr-1"}),"إعادة تعيين كلمة المرور"]}),o.jsxs(Ec,{children:[o.jsx(ym,{asChild:!0,children:o.jsxs(V,{size:"sm",variant:"destructive",className:"text-xs h-7","data-testid":`button-delete-${R.id}`,children:[o.jsx(Eh,{className:"h-3 w-3 mr-1"}),"حذف"]})}),o.jsxs(ko,{children:[o.jsxs(To,{children:[o.jsx(Ao,{children:"حذف المستخدم"}),o.jsxs(Mo,{children:['هل أنت متأكد من حذف المستخدم "',R.username,'"؟ هذا الإجراء لا يمكن التراجع عنه. سيتم حذف جميع بيانات المستخدم نهائياً.']})]}),o.jsxs(Eo,{children:[o.jsx(Do,{children:"إلغاء"}),o.jsx(Ro,{onClick:()=>v.mutate(R.id),className:"bg-red-600 hover:bg-red-700",children:"حذف نهائي"})]})]})]})]})]})]})})},R.id))})]}),f.length===0&&o.jsx(le,{children:o.jsxs(ce,{className:"pt-6 text-center",children:[o.jsx(Jr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"لا يوجد مستخدمين"}),o.jsx("p",{className:"text-muted-foreground",children:"لم يتم تسجيل أي مستخدمين بعد"})]})}),o.jsx(Xt,{open:n,onOpenChange:s,children:o.jsx(zt,{className:"sm:max-w-md",children:o.jsx(Tse,{onSuccess:()=>s(!1)})})}),o.jsx(Xt,{open:!!r,onOpenChange:()=>{i(null),l("")},children:o.jsx(zt,{className:"sm:max-w-md",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(eN,{className:"h-12 w-12 mx-auto mb-4 text-blue-600"}),o.jsx("h2",{className:"text-lg font-semibold",children:"إعادة تعيين كلمة المرور"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["إعادة تعيين كلمة مرور المستخدم: ",o.jsx("span",{className:"font-medium",children:r==null?void 0:r.username})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ne,{htmlFor:"newPassword",children:"كلمة المرور الجديدة"}),o.jsx(Se,{id:"newPassword",type:"password",placeholder:"أدخل كلمة المرور الجديدة (6 أحرف على الأقل)",value:a,onChange:R=>l(R.target.value),"data-testid":"input-new-password"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"يجب أن تكون كلمة المرور 6 أحرف على الأقل"})]}),o.jsxs("div",{className:"flex space-x-2 space-x-reverse pt-4",children:[o.jsx(V,{onClick:M,disabled:y.isPending||!a||a.length<6,className:"flex-1","data-testid":"button-confirm-reset",children:y.isPending?"جارٍ التحديث...":"تأكيد إعادة التعيين"}),o.jsx(V,{variant:"outline",onClick:()=>{i(null),l("")},className:"flex-1","data-testid":"button-cancel-reset",children:"إلغاء"})]})]})})})]})}function wp({children:e}){const[t,n]=m.useState(!1),[s,r]=m.useState(""),{toast:i}=at(),a=Ne({mutationFn:async c=>{await Ae("POST","/api/admin/verify-password",{password:c})},onSuccess:()=>{n(!0),i({title:"تم منح الوصول",description:"أهلاً بك في لوحة الإدارة"})},onError:c=>{i({title:"تم رفض الوصول",description:"كلمة مرور المدير غير صحيحة",variant:"destructive"})}}),l=c=>{if(c.preventDefault(),!s.trim()){i({title:"خطأ",description:"يرجى إدخال كلمة المرور",variant:"destructive"});return}a.mutate(s)};return t?o.jsx(o.Fragment,{children:e}):o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:o.jsxs(le,{className:"w-full max-w-md",children:[o.jsxs(Le,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:o.jsx(Ua,{className:"h-6 w-6 text-primary"})}),o.jsx($e,{className:"text-xl","data-testid":"text-admin-login-title",children:"دخول المدير"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"أدخل كلمة مرور المدير للوصول إلى سجلات النظام"})]}),o.jsx(ce,{children:o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ne,{htmlFor:"admin-password",children:"كلمة المرور"}),o.jsxs("div",{className:"relative",children:[o.jsx(W6,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Se,{id:"admin-password",type:"password",placeholder:"أدخل كلمة مرور المدير",value:s,onChange:c=>r(c.target.value),className:"pl-10","data-testid":"input-admin-password",required:!0})]})]}),o.jsx(V,{type:"submit",className:"w-full",disabled:a.isPending||!s,"data-testid":"button-admin-login",children:a.isPending?"جارٍ التحقق...":"دخول لوحة الإدارة"}),o.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"استخدم نفس كلمة مرور حساب المدير"})]})})]})})}function Ase(){const[e,t]=m.useState("createdAt"),[n,s]=m.useState("desc"),{data:r=[],isLoading:i}=We({queryKey:["/api/customer-ratings"]}),a=[...r].sort((d,h)=>{const f=d[e],p=h[e];return f==null&&p==null?0:f==null?n==="asc"?-1:1:p==null?n==="asc"?1:-1:n==="asc"?f>p?1:-1:f<p?1:-1}),l=d=>{switch(d){case"angry":return"😠";case"satisfied":return"😊";case"very_satisfied":return"😍";case"pending":return"⏳";default:return"❓"}},c=d=>{switch(d){case"angry":return"destructive";case"satisfied":return"secondary";case"very_satisfied":return"default";case"pending":return"outline";default:return"outline"}},u=d=>new Date(d).toLocaleString("en-GB",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return i?o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"جاري تحميل التقييمات..."})]})})}):o.jsx(wp,{children:o.jsx("div",{className:"container mx-auto px-4 py-8",dir:"rtl",children:o.jsxs("div",{className:"flex flex-col space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"تقييمات العملاء"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"عرض وإدارة تقييمات رضا العملاء المرسلة عند إكمال المهام"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(At,{value:e,onValueChange:t,children:[o.jsx(jt,{className:"w-40","data-testid":"select-sort-by",children:o.jsx(Mt,{})}),o.jsxs(St,{children:[o.jsx(ve,{value:"createdAt",children:"التاريخ"}),o.jsx(ve,{value:"customerName",children:"اسم العميل"}),o.jsx(ve,{value:"rating",children:"التقييم"})]})]}),o.jsx(V,{variant:"outline",size:"sm",onClick:()=>s(n==="asc"?"desc":"asc"),"data-testid":"button-toggle-sort",children:o.jsx(mg,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(le,{children:o.jsxs(ce,{className:"flex items-center p-6",children:[o.jsx(Jp,{className:"h-8 w-8 text-yellow-500 ml-4"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:r.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"إجمالي التقييمات"})]})]})}),o.jsx(le,{children:o.jsxs(ce,{className:"flex items-center p-6",children:[o.jsx("div",{className:"text-2xl ml-4",children:"😍"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:r.filter(d=>d.rating==="very_satisfied").length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"راضي جداً"})]})]})}),o.jsx(le,{children:o.jsxs(ce,{className:"flex items-center p-6",children:[o.jsx("div",{className:"text-2xl ml-4",children:"😊"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:r.filter(d=>d.rating==="satisfied").length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"راضي"})]})]})}),o.jsx(le,{children:o.jsxs(ce,{className:"flex items-center p-6",children:[o.jsx("div",{className:"text-2xl ml-4",children:"😠"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:r.filter(d=>d.rating==="angry").length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"غاضب"})]})]})})]}),o.jsx("div",{className:"space-y-4",children:a.length>0?a.map(d=>o.jsxs(le,{className:"hover:shadow-md transition-shadow",children:[o.jsx(Le,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-2xl",children:l(d.rating)}),o.jsxs("div",{children:[o.jsx($e,{className:"text-lg",children:d.customerName}),o.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(xd,{className:"h-4 w-4"}),d.customerPhone]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Fn,{className:"h-4 w-4"}),u(d.createdAt)]})]})]})]}),o.jsx(Te,{variant:c(d.rating),children:d.ratingText})]})}),o.jsx(ce,{className:"pt-0",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zp,{className:"h-4 w-4 text-blue-500"}),o.jsx("span",{className:"font-medium",children:"حالة الطلب:"}),o.jsx(Te,{variant:d.messageSent==="true"?"default":"secondary",children:d.messageSent==="true"?"تم الطلب":"لم يتم الطلب"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_r,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"font-medium",children:"حالة الرد:"}),o.jsx(Te,{variant:d.responseReceived==="true"?"default":"outline",children:d.responseReceived==="true"?"تم الرد":"في انتظار الرد"})]})]}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"معرف المهمة:"}),o.jsx("p",{className:"text-xs font-mono bg-muted px-2 py-1 rounded mt-1",children:d.taskId})]})})]})})]},d.id)):o.jsx(le,{children:o.jsxs(ce,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(Jp,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد تقييمات بعد"}),o.jsx("p",{className:"text-muted-foreground text-center",children:"سيتم عرض تقييمات العملاء هنا بمجرد إكمال المهام وطلب التقييمات"})]})})})]})})})}var Xc={},Mse=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},MF={},ts={};let pj;const Rse=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ts.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};ts.getSymbolTotalCodewords=function(t){return Rse[t]};ts.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};ts.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');pj=t};ts.isKanjiModeEnabled=function(){return typeof pj<"u"};ts.toSJIS=function(t){return pj(t)};var Hg={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},e.from=function(s,r){if(e.isValid(s))return s;try{return t(s)}catch{return r}}})(Hg);function RF(){this.buffer=[],this.length=0}RF.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Dse=RF;function Zh(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Zh.prototype.set=function(e,t,n,s){const r=e*this.size+t;this.data[r]=n,s&&(this.reservedBit[r]=!0)};Zh.prototype.get=function(e,t){return this.data[e*this.size+t]};Zh.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Zh.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Fse=Zh,DF={};(function(e){const t=ts.getSymbolSize;e.getRowColCoords=function(s){if(s===1)return[];const r=Math.floor(s/7)+2,i=t(s),a=i===145?26:Math.ceil((i-13)/(2*r-2))*2,l=[i-7];for(let c=1;c<r-1;c++)l[c]=l[c-1]-a;return l.push(6),l.reverse()},e.getPositions=function(s){const r=[],i=e.getRowColCoords(s),a=i.length;for(let l=0;l<a;l++)for(let c=0;c<a;c++)l===0&&c===0||l===0&&c===a-1||l===a-1&&c===0||r.push([i[l],i[c]]);return r}})(DF);var FF={};const Ose=ts.getSymbolSize,P_=7;FF.getPositions=function(t){const n=Ose(t);return[[0,0],[n-P_,0],[0,n-P_]]};var OF={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},e.from=function(r){return e.isValid(r)?parseInt(r,10):void 0},e.getPenaltyN1=function(r){const i=r.size;let a=0,l=0,c=0,u=null,d=null;for(let h=0;h<i;h++){l=c=0,u=d=null;for(let f=0;f<i;f++){let p=r.get(h,f);p===u?l++:(l>=5&&(a+=t.N1+(l-5)),u=p,l=1),p=r.get(f,h),p===d?c++:(c>=5&&(a+=t.N1+(c-5)),d=p,c=1)}l>=5&&(a+=t.N1+(l-5)),c>=5&&(a+=t.N1+(c-5))}return a},e.getPenaltyN2=function(r){const i=r.size;let a=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const u=r.get(l,c)+r.get(l,c+1)+r.get(l+1,c)+r.get(l+1,c+1);(u===4||u===0)&&a++}return a*t.N2},e.getPenaltyN3=function(r){const i=r.size;let a=0,l=0,c=0;for(let u=0;u<i;u++){l=c=0;for(let d=0;d<i;d++)l=l<<1&2047|r.get(u,d),d>=10&&(l===1488||l===93)&&a++,c=c<<1&2047|r.get(d,u),d>=10&&(c===1488||c===93)&&a++}return a*t.N3},e.getPenaltyN4=function(r){let i=0;const a=r.data.length;for(let c=0;c<a;c++)i+=r.data[c];return Math.abs(Math.ceil(i*100/a/5)-10)*t.N4};function n(s,r,i){switch(s){case e.Patterns.PATTERN000:return(r+i)%2===0;case e.Patterns.PATTERN001:return r%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(r+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return r*i%2+r*i%3===0;case e.Patterns.PATTERN110:return(r*i%2+r*i%3)%2===0;case e.Patterns.PATTERN111:return(r*i%3+(r+i)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}e.applyMask=function(r,i){const a=i.size;for(let l=0;l<a;l++)for(let c=0;c<a;c++)i.isReserved(c,l)||i.xor(c,l,n(r,c,l))},e.getBestMask=function(r,i){const a=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<a;u++){i(u),e.applyMask(u,r);const d=e.getPenaltyN1(r)+e.getPenaltyN2(r)+e.getPenaltyN3(r)+e.getPenaltyN4(r);e.applyMask(u,r),d<c&&(c=d,l=u)}return l}})(OF);var qg={};const Hi=Hg,Bf=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Vf=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];qg.getBlocksCount=function(t,n){switch(n){case Hi.L:return Bf[(t-1)*4+0];case Hi.M:return Bf[(t-1)*4+1];case Hi.Q:return Bf[(t-1)*4+2];case Hi.H:return Bf[(t-1)*4+3];default:return}};qg.getTotalCodewordsCount=function(t,n){switch(n){case Hi.L:return Vf[(t-1)*4+0];case Hi.M:return Vf[(t-1)*4+1];case Hi.Q:return Vf[(t-1)*4+2];case Hi.H:return Vf[(t-1)*4+3];default:return}};var IF={},Kg={};const Ju=new Uint8Array(512),Dm=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Ju[n]=t,Dm[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Ju[n]=Ju[n-255]})();Kg.log=function(t){if(t<1)throw new Error("log("+t+")");return Dm[t]};Kg.exp=function(t){return Ju[t]};Kg.mul=function(t,n){return t===0||n===0?0:Ju[Dm[t]+Dm[n]]};(function(e){const t=Kg;e.mul=function(s,r){const i=new Uint8Array(s.length+r.length-1);for(let a=0;a<s.length;a++)for(let l=0;l<r.length;l++)i[a+l]^=t.mul(s[a],r[l]);return i},e.mod=function(s,r){let i=new Uint8Array(s);for(;i.length-r.length>=0;){const a=i[0];for(let c=0;c<r.length;c++)i[c]^=t.mul(r[c],a);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},e.generateECPolynomial=function(s){let r=new Uint8Array([1]);for(let i=0;i<s;i++)r=e.mul(r,new Uint8Array([1,t.exp(i)]));return r}})(IF);const LF=IF;function mj(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}mj.prototype.initialize=function(t){this.degree=t,this.genPoly=LF.generateECPolynomial(this.degree)};mj.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const s=LF.mod(n,this.genPoly),r=this.degree-s.length;if(r>0){const i=new Uint8Array(this.degree);return i.set(s,r),i}return s};var Ise=mj,$F={},Ca={},gj={};gj.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Mr={};const UF="[0-9]+",Lse="[A-Z $%*+\\-./:]+";let Gd="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Gd=Gd.replace(/u/g,"\\u");const $se="(?:(?![A-Z0-9 $%*+\\-./:]|"+Gd+`)(?:.|[\r
]))+`;Mr.KANJI=new RegExp(Gd,"g");Mr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Mr.BYTE=new RegExp($se,"g");Mr.NUMERIC=new RegExp(UF,"g");Mr.ALPHANUMERIC=new RegExp(Lse,"g");const Use=new RegExp("^"+Gd+"$"),Bse=new RegExp("^"+UF+"$"),Vse=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Mr.testKanji=function(t){return Use.test(t)};Mr.testNumeric=function(t){return Bse.test(t)};Mr.testAlphanumeric=function(t){return Vse.test(t)};(function(e){const t=gj,n=Mr;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function s(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+r)}}e.from=function(i,a){if(e.isValid(i))return i;try{return s(i)}catch{return a}}})(Ca);(function(e){const t=ts,n=qg,s=Hg,r=Ca,i=gj,a=7973,l=t.getBCHDigit(a);function c(f,p,x){for(let g=1;g<=40;g++)if(p<=e.getCapacity(g,x,f))return g}function u(f,p){return r.getCharCountIndicator(f,p)+4}function d(f,p){let x=0;return f.forEach(function(g){const b=u(g.mode,p);x+=b+g.getBitsLength()}),x}function h(f,p){for(let x=1;x<=40;x++)if(d(f,x)<=e.getCapacity(x,p,r.MIXED))return x}e.from=function(p,x){return i.isValid(p)?parseInt(p,10):x},e.getCapacity=function(p,x,g){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=r.BYTE);const b=t.getSymbolTotalCodewords(p),v=n.getTotalCodewordsCount(p,x),y=(b-v)*8;if(g===r.MIXED)return y;const w=y-u(g,p);switch(g){case r.NUMERIC:return Math.floor(w/10*3);case r.ALPHANUMERIC:return Math.floor(w/11*2);case r.KANJI:return Math.floor(w/13);case r.BYTE:default:return Math.floor(w/8)}},e.getBestVersionForData=function(p,x){let g;const b=s.from(x,s.M);if(Array.isArray(p)){if(p.length>1)return h(p,b);if(p.length===0)return 1;g=p[0]}else g=p;return c(g.mode,g.getLength(),b)},e.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let x=p<<12;for(;t.getBCHDigit(x)-l>=0;)x^=a<<t.getBCHDigit(x)-l;return p<<12|x}})($F);var BF={};const ow=ts,VF=1335,zse=21522,k_=ow.getBCHDigit(VF);BF.getEncodedBits=function(t,n){const s=t.bit<<3|n;let r=s<<10;for(;ow.getBCHDigit(r)-k_>=0;)r^=VF<<ow.getBCHDigit(r)-k_;return(s<<10|r)^zse};var zF={};const Wse=Ca;function Oc(e){this.mode=Wse.NUMERIC,this.data=e.toString()}Oc.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Oc.prototype.getLength=function(){return this.data.length};Oc.prototype.getBitsLength=function(){return Oc.getBitsLength(this.data.length)};Oc.prototype.write=function(t){let n,s,r;for(n=0;n+3<=this.data.length;n+=3)s=this.data.substr(n,3),r=parseInt(s,10),t.put(r,10);const i=this.data.length-n;i>0&&(s=this.data.substr(n),r=parseInt(s,10),t.put(r,i*3+1))};var Hse=Oc;const qse=Ca,Cv=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ic(e){this.mode=qse.ALPHANUMERIC,this.data=e}Ic.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Ic.prototype.getLength=function(){return this.data.length};Ic.prototype.getBitsLength=function(){return Ic.getBitsLength(this.data.length)};Ic.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let s=Cv.indexOf(this.data[n])*45;s+=Cv.indexOf(this.data[n+1]),t.put(s,11)}this.data.length%2&&t.put(Cv.indexOf(this.data[n]),6)};var Kse=Ic;const Gse=Ca;function Lc(e){this.mode=Gse.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Lc.getBitsLength=function(t){return t*8};Lc.prototype.getLength=function(){return this.data.length};Lc.prototype.getBitsLength=function(){return Lc.getBitsLength(this.data.length)};Lc.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var Yse=Lc;const Qse=Ca,Zse=ts;function $c(e){this.mode=Qse.KANJI,this.data=e}$c.getBitsLength=function(t){return t*13};$c.prototype.getLength=function(){return this.data.length};$c.prototype.getBitsLength=function(){return $c.getBitsLength(this.data.length)};$c.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=Zse.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var Xse=$c,WF={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,s,r){var i={},a={};a[s]=0;var l=t.PriorityQueue.make();l.push(s,0);for(var c,u,d,h,f,p,x,g,b;!l.empty();){c=l.pop(),u=c.value,h=c.cost,f=n[u]||{};for(d in f)f.hasOwnProperty(d)&&(p=f[d],x=h+p,g=a[d],b=typeof a[d]>"u",(b||g>x)&&(a[d]=x,l.push(d,x),i[d]=u))}if(typeof r<"u"&&typeof a[r]>"u"){var v=["Could not find a path from ",s," to ",r,"."].join("");throw new Error(v)}return i},extract_shortest_path_from_predecessor_list:function(n,s){for(var r=[],i=s;i;)r.push(i),n[i],i=n[i];return r.reverse(),r},find_path:function(n,s,r){var i=t.single_source_shortest_paths(n,s,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(n){var s=t.PriorityQueue,r={},i;n=n||{};for(i in s)s.hasOwnProperty(i)&&(r[i]=s[i]);return r.queue=[],r.sorter=n.sorter||s.default_sorter,r},default_sorter:function(n,s){return n.cost-s.cost},push:function(n,s){var r={value:n,cost:s};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(WF);var Jse=WF.exports;(function(e){const t=Ca,n=Hse,s=Kse,r=Yse,i=Xse,a=Mr,l=ts,c=Jse;function u(v){return unescape(encodeURIComponent(v)).length}function d(v,y,w){const j=[];let N;for(;(N=v.exec(w))!==null;)j.push({data:N[0],index:N.index,mode:y,length:N[0].length});return j}function h(v){const y=d(a.NUMERIC,t.NUMERIC,v),w=d(a.ALPHANUMERIC,t.ALPHANUMERIC,v);let j,N;return l.isKanjiModeEnabled()?(j=d(a.BYTE,t.BYTE,v),N=d(a.KANJI,t.KANJI,v)):(j=d(a.BYTE_KANJI,t.BYTE,v),N=[]),y.concat(w,j,N).sort(function(C,T){return C.index-T.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function f(v,y){switch(y){case t.NUMERIC:return n.getBitsLength(v);case t.ALPHANUMERIC:return s.getBitsLength(v);case t.KANJI:return i.getBitsLength(v);case t.BYTE:return r.getBitsLength(v)}}function p(v){return v.reduce(function(y,w){const j=y.length-1>=0?y[y.length-1]:null;return j&&j.mode===w.mode?(y[y.length-1].data+=w.data,y):(y.push(w),y)},[])}function x(v){const y=[];for(let w=0;w<v.length;w++){const j=v[w];switch(j.mode){case t.NUMERIC:y.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:y.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:y.push([j,{data:j.data,mode:t.BYTE,length:u(j.data)}]);break;case t.BYTE:y.push([{data:j.data,mode:t.BYTE,length:u(j.data)}])}}return y}function g(v,y){const w={},j={start:{}};let N=["start"];for(let k=0;k<v.length;k++){const C=v[k],T=[];for(let M=0;M<C.length;M++){const E=C[M],O=""+k+M;T.push(O),w[O]={node:E,lastCount:0},j[O]={};for(let D=0;D<N.length;D++){const q=N[D];w[q]&&w[q].node.mode===E.mode?(j[q][O]=f(w[q].lastCount+E.length,E.mode)-f(w[q].lastCount,E.mode),w[q].lastCount+=E.length):(w[q]&&(w[q].lastCount=E.length),j[q][O]=f(E.length,E.mode)+4+t.getCharCountIndicator(E.mode,y))}}N=T}for(let k=0;k<N.length;k++)j[N[k]].end=0;return{map:j,table:w}}function b(v,y){let w;const j=t.getBestModeForData(v);if(w=t.from(y,j),w!==t.BYTE&&w.bit<j.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(w)+`.
 Suggested mode is: `+t.toString(j));switch(w===t.KANJI&&!l.isKanjiModeEnabled()&&(w=t.BYTE),w){case t.NUMERIC:return new n(v);case t.ALPHANUMERIC:return new s(v);case t.KANJI:return new i(v);case t.BYTE:return new r(v)}}e.fromArray=function(y){return y.reduce(function(w,j){return typeof j=="string"?w.push(b(j,null)):j.data&&w.push(b(j.data,j.mode)),w},[])},e.fromString=function(y,w){const j=h(y,l.isKanjiModeEnabled()),N=x(j),k=g(N,w),C=c.find_path(k.map,"start","end"),T=[];for(let M=1;M<C.length-1;M++)T.push(k.table[C[M]].node);return e.fromArray(p(T))},e.rawSplit=function(y){return e.fromArray(h(y,l.isKanjiModeEnabled()))}})(zF);const Gg=ts,_v=Hg,ere=Dse,tre=Fse,nre=DF,sre=FF,lw=OF,cw=qg,rre=Ise,Fm=$F,ire=BF,are=Ca,Pv=zF;function ore(e,t){const n=e.size,s=sre.getPositions(t);for(let r=0;r<s.length;r++){const i=s[r][0],a=s[r][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||n<=i+l))for(let c=-1;c<=7;c++)a+c<=-1||n<=a+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(i+l,a+c,!0,!0):e.set(i+l,a+c,!1,!0))}}function lre(e){const t=e.size;for(let n=8;n<t-8;n++){const s=n%2===0;e.set(n,6,s,!0),e.set(6,n,s,!0)}}function cre(e,t){const n=nre.getPositions(t);for(let s=0;s<n.length;s++){const r=n[s][0],i=n[s][1];for(let a=-2;a<=2;a++)for(let l=-2;l<=2;l++)a===-2||a===2||l===-2||l===2||a===0&&l===0?e.set(r+a,i+l,!0,!0):e.set(r+a,i+l,!1,!0)}}function ure(e,t){const n=e.size,s=Fm.getEncodedBits(t);let r,i,a;for(let l=0;l<18;l++)r=Math.floor(l/3),i=l%3+n-8-3,a=(s>>l&1)===1,e.set(r,i,a,!0),e.set(i,r,a,!0)}function kv(e,t,n){const s=e.size,r=ire.getEncodedBits(t,n);let i,a;for(i=0;i<15;i++)a=(r>>i&1)===1,i<6?e.set(i,8,a,!0):i<8?e.set(i+1,8,a,!0):e.set(s-15+i,8,a,!0),i<8?e.set(8,s-i-1,a,!0):i<9?e.set(8,15-i-1+1,a,!0):e.set(8,15-i-1,a,!0);e.set(s-8,8,1,!0)}function dre(e,t){const n=e.size;let s=-1,r=n-1,i=7,a=0;for(let l=n-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(r,l-c)){let u=!1;a<t.length&&(u=(t[a]>>>i&1)===1),e.set(r,l-c,u),i--,i===-1&&(a++,i=7)}if(r+=s,r<0||n<=r){r-=s,s=-s;break}}}function hre(e,t,n){const s=new ere;n.forEach(function(c){s.put(c.mode.bit,4),s.put(c.getLength(),are.getCharCountIndicator(c.mode,e)),c.write(s)});const r=Gg.getSymbolTotalCodewords(e),i=cw.getTotalCodewordsCount(e,t),a=(r-i)*8;for(s.getLengthInBits()+4<=a&&s.put(0,4);s.getLengthInBits()%8!==0;)s.putBit(0);const l=(a-s.getLengthInBits())/8;for(let c=0;c<l;c++)s.put(c%2?17:236,8);return fre(s,e,t)}function fre(e,t,n){const s=Gg.getSymbolTotalCodewords(t),r=cw.getTotalCodewordsCount(t,n),i=s-r,a=cw.getBlocksCount(t,n),l=s%a,c=a-l,u=Math.floor(s/a),d=Math.floor(i/a),h=d+1,f=u-d,p=new rre(f);let x=0;const g=new Array(a),b=new Array(a);let v=0;const y=new Uint8Array(e.buffer);for(let C=0;C<a;C++){const T=C<c?d:h;g[C]=y.slice(x,x+T),b[C]=p.encode(g[C]),x+=T,v=Math.max(v,T)}const w=new Uint8Array(s);let j=0,N,k;for(N=0;N<v;N++)for(k=0;k<a;k++)N<g[k].length&&(w[j++]=g[k][N]);for(N=0;N<f;N++)for(k=0;k<a;k++)w[j++]=b[k][N];return w}function pre(e,t,n,s){let r;if(Array.isArray(e))r=Pv.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=Pv.rawSplit(e);u=Fm.getBestVersionForData(d,n)}r=Pv.fromString(e,u||40)}else throw new Error("Invalid data");const i=Fm.getBestVersionForData(r,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const a=hre(t,n,r),l=Gg.getSymbolSize(t),c=new tre(l);return ore(c,t),lre(c),cre(c,t),kv(c,n,0),t>=7&&ure(c,t),dre(c,a),isNaN(s)&&(s=lw.getBestMask(c,kv.bind(null,c,n))),lw.applyMask(s,c),kv(c,n,s),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:s,segments:r}}MF.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let s=_v.M,r,i;return typeof n<"u"&&(s=_v.from(n.errorCorrectionLevel,_v.M),r=Fm.from(n.version),i=lw.from(n.maskPattern),n.toSJISFunc&&Gg.setToSJISFunction(n.toSJISFunc)),pre(t,r,s,i)};var HF={},yj={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let s=n.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+n);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(i){return[i,i]}))),s.length===6&&s.push("F","F");const r=parseInt(s.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+s.slice(0,6).join("")}}e.getOptions=function(s){s||(s={}),s.color||(s.color={});const r=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,i=s.width&&s.width>=21?s.width:void 0,a=s.scale||4;return{width:i,scale:i?4:a,margin:r,color:{dark:t(s.color.dark||"#000000ff"),light:t(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},e.getScale=function(s,r){return r.width&&r.width>=s+r.margin*2?r.width/(s+r.margin*2):r.scale},e.getImageWidth=function(s,r){const i=e.getScale(s,r);return Math.floor((s+r.margin*2)*i)},e.qrToImageData=function(s,r,i){const a=r.modules.size,l=r.modules.data,c=e.getScale(a,i),u=Math.floor((a+i.margin*2)*c),d=i.margin*c,h=[i.color.light,i.color.dark];for(let f=0;f<u;f++)for(let p=0;p<u;p++){let x=(f*u+p)*4,g=i.color.light;if(f>=d&&p>=d&&f<u-d&&p<u-d){const b=Math.floor((f-d)/c),v=Math.floor((p-d)/c);g=h[l[b*a+v]?1:0]}s[x++]=g.r,s[x++]=g.g,s[x++]=g.b,s[x]=g.a}}})(yj);(function(e){const t=yj;function n(r,i,a){r.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,a,l){let c=l,u=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(u=s()),c=t.getOptions(c);const d=t.getImageWidth(i.modules.size,c),h=u.getContext("2d"),f=h.createImageData(d,d);return t.qrToImageData(f.data,i,c),n(h,u,d),h.putImageData(f,0,0),u},e.renderToDataURL=function(i,a,l){let c=l;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const u=e.render(i,a,c),d=c.type||"image/png",h=c.rendererOpts||{};return u.toDataURL(d,h.quality)}})(HF);var qF={};const mre=yj;function T_(e,t){const n=e.a/255,s=t+'="'+e.hex+'"';return n<1?s+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':s}function Tv(e,t,n){let s=e+t;return typeof n<"u"&&(s+=" "+n),s}function gre(e,t,n){let s="",r=0,i=!1,a=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);!c&&!i&&(i=!0),e[l]?(a++,l>0&&c>0&&e[l-1]||(s+=i?Tv("M",c+n,.5+u+n):Tv("m",r,0),r=0,i=!1),c+1<t&&e[l+1]||(s+=Tv("h",a),a=0)):r++}return s}qF.render=function(t,n,s){const r=mre.getOptions(n),i=t.modules.size,a=t.modules.data,l=i+r.margin*2,c=r.color.light.a?"<path "+T_(r.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+T_(r.color.dark,"stroke")+' d="'+gre(a,i,r.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof s=="function"&&s(null,f),f};const yre=Mse,uw=MF,KF=HF,vre=qF;function vj(e,t,n,s,r){const i=[].slice.call(arguments,1),a=i.length,l=typeof i[a-1]=="function";if(!l&&!yre())throw new Error("Callback required as last argument");if(l){if(a<2)throw new Error("Too few arguments provided");a===2?(r=n,n=t,t=s=void 0):a===3&&(t.getContext&&typeof r>"u"?(r=s,s=void 0):(r=s,s=n,n=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(n=t,t=s=void 0):a===2&&!t.getContext&&(s=n,n=t,t=void 0),new Promise(function(c,u){try{const d=uw.create(n,s);c(e(d,t,s))}catch(d){u(d)}})}try{const c=uw.create(n,s);r(null,e(c,t,s))}catch(c){r(c)}}Xc.create=uw.create;Xc.toCanvas=vj.bind(null,KF.render);Xc.toDataURL=vj.bind(null,KF.renderToDataURL);Xc.toString=vj.bind(null,function(e,t,n){return vre.render(e,n)});function xre(){at();const{handleError:e,handleSuccess:t,t:n}=T5(),s=_t(),[r,i]=m.useState(!1),[a,l]=m.useState(""),[c,u]=m.useState(null),{data:d,isLoading:h}=We({queryKey:["/api/whatsapp/status"],refetchInterval:5e3}),{data:f,isLoading:p}=We({queryKey:["/api/whatsapp/settings"]}),x=Ne({mutationFn:()=>Ae("POST","/api/whatsapp/reconnect"),onSuccess:()=>{t("whatsapp.reconnecting",{title:n("whatsapp.reconnecting"),description:n("whatsapp.qrCode")}),s.invalidateQueries({queryKey:["/api/whatsapp/status"]})},onError:j=>{e(j,{title:n("error.generic"),action:()=>x.mutate(),actionLabel:n("guidance.retry")})}}),g=Ne({mutationFn:()=>Ae("POST","/api/whatsapp/disconnect"),onSuccess:()=>{t("whatsapp.disconnected",{title:"تم قطع الاتصال",description:"تم قطع الاتصال مع الواتساب بنجاح"}),s.invalidateQueries({queryKey:["/api/whatsapp/status"]})},onError:j=>{e(j,{title:n("error.generic"),action:()=>g.mutate(),actionLabel:n("guidance.retry")})}}),b=Ne({mutationFn:j=>Ae("PUT","/api/whatsapp/settings",{defaultMessage:j}),onSuccess:()=>{t("whatsapp.settingsUpdated"),i(!1),s.invalidateQueries({queryKey:["/api/whatsapp/settings"]})},onError:j=>{e(j,{title:n("error.validation"),action:()=>b.mutate(a),actionLabel:n("guidance.retry")})}}),v=Ne({mutationFn:j=>Ae("POST","/api/whatsapp/test-message",{phoneNumber:j}),onSuccess:()=>{t("whatsapp.messageSent")},onError:j=>{e(j,{title:n("whatsapp.messageFailed"),action:()=>{const N=document.querySelector('input[placeholder*="966"]');N!=null&&N.value&&v.mutate(N.value)},actionLabel:n("guidance.retry")})}});m.useEffect(()=>{f&&!r&&l(f.defaultMessage||"")},[f,r]),m.useEffect(()=>{(async()=>{if(d!=null&&d.qrCode)try{const N=await Xc.toDataURL(d.qrCode,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});u(N)}catch(N){console.error("خطأ في توليد رمز QR:",N),u(null)}else u(null)})()},[d==null?void 0:d.qrCode]);const y=()=>{a.trim()&&b.mutate(a.trim())},w=j=>{j.preventDefault();const k=new FormData(j.currentTarget).get("testPhone");k&&v.mutate(k)};return h||p?o.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(Xr,{className:"h-6 w-6"}),o.jsx("h1",{className:"text-2xl font-bold",children:"إدارة الواتساب"})]}),o.jsx("div",{className:"text-center py-8",children:n("guidance.loading")})]}):o.jsx(Wb,{fallback:e5,children:o.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xr,{className:"h-6 w-6"}),o.jsx("h1",{className:"text-2xl font-bold",children:"إدارة الواتساب"})]}),o.jsx(uT,{href:"/admin/whatsapp-settings",children:o.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[o.jsx(wd,{className:"h-4 w-4"}),"إعدادات متقدمة"]})})]}),o.jsxs(le,{children:[o.jsxs(Le,{children:[o.jsxs($e,{className:"flex items-center gap-2",children:[o.jsx(Da,{className:"h-5 w-5"}),"حالة الاتصال"]}),o.jsx(Is,{children:"مراقبة حالة ربط الواتساب الحالية"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ne,{children:"حالة الربط:"}),d!=null&&d.isConnected?o.jsxs(Te,{variant:"default",className:"bg-green-500",children:[o.jsx(zx,{className:"h-3 w-3 mr-1"}),"متصل"]}):o.jsxs(Te,{variant:"destructive",children:[o.jsx(vd,{className:"h-3 w-3 mr-1"}),"غير متصل"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ne,{children:"الحالة:"}),d!=null&&d.isReady?o.jsx(Te,{variant:"default",className:"bg-blue-500",children:"جاهز"}):o.jsx(Te,{variant:"secondary",children:"غير جاهز"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ne,{children:"عدد الرسائل:"}),o.jsx(Te,{variant:"outline",children:(d==null?void 0:d.messagesCount)||0})]})]}),(d==null?void 0:d.senderNumber)&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xd,{className:"h-4 w-4"}),o.jsx(ne,{children:"رقم المرسل:"}),o.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:d.senderNumber})]}),(d==null?void 0:d.lastConnected)&&o.jsxs("div",{className:"text-sm text-gray-500",children:["آخر اتصال: ",new Date(d.lastConnected).toLocaleString("en-GB")]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsxs(V,{onClick:()=>x.mutate(),disabled:x.isPending,className:"w-full sm:w-auto",children:[o.jsx(jo,{className:`h-4 w-4 mr-2 ${x.isPending?"animate-spin":""}`}),"إعادة ربط الواتساب"]}),(d==null?void 0:d.isConnected)&&o.jsxs(V,{variant:"destructive",onClick:()=>g.mutate(),disabled:g.isPending,className:"w-full sm:w-auto","data-testid":"button-disconnect-whatsapp",children:[o.jsx(vd,{className:`h-4 w-4 mr-2 ${g.isPending?"animate-spin":""}`}),"قطع الاتصال"]})]})]})]}),(d==null?void 0:d.qrCode)&&o.jsxs(le,{children:[o.jsxs(Le,{children:[o.jsxs($e,{className:"flex items-center gap-2",children:[o.jsx(rp,{className:"h-5 w-5"}),"رمز QR للربط"]}),o.jsx(Is,{children:"امسح هذا الرمز بهاتفك لربط الواتساب"})]}),o.jsx(ce,{children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[c?o.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:o.jsx("img",{src:c,alt:"رمز QR للربط مع الواتساب",className:"w-64 h-64","data-testid":"img-qr-code"})}):o.jsxs("div",{className:"bg-white p-4 rounded-lg text-center border",children:[o.jsx("div",{className:"animate-pulse",children:o.jsx("div",{className:"w-64 h-64 bg-gray-200 rounded"})}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"جاري تحميل رمز QR..."})]}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"📱 افتح واتساب على هاتفك"}),o.jsx("p",{className:"text-xs text-gray-500",children:"اذهب إلى إعدادات → الأجهزة المتصلة → ربط جهاز"})]})]})})]}),o.jsxs(le,{children:[o.jsxs(Le,{children:[o.jsxs($e,{className:"flex items-center gap-2",children:[o.jsx(wd,{className:"h-5 w-5"}),"إعدادات الرسائل"]}),o.jsx(Is,{children:"تخصيص نص رسائل التقييم المرسلة للعملاء"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ne,{htmlFor:"message-template",children:"نص الرسالة الافتراضي:"}),o.jsxs(V,{variant:"outline",size:"sm",onClick:()=>i(!r),children:[o.jsx(Xp,{className:"h-3 w-3 mr-1"}),r?"إلغاء":"تعديل"]})]}),r?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Qn,{id:"message-template",value:a,onChange:j=>l(j.target.value),rows:8,className:"font-mono text-sm",placeholder:"اكتب نص الرسالة..."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(V,{onClick:y,disabled:b.isPending||!a.trim(),children:"حفظ التغييرات"}),o.jsx(V,{variant:"outline",onClick:()=>{i(!1),l((f==null?void 0:f.defaultMessage)||"")},children:"إلغاء"})]})]}):o.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-3 rounded-lg",children:o.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:(f==null?void 0:f.defaultMessage)||"لم يتم تعيين رسالة افتراضية"})})]}),o.jsx(Rm,{}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ne,{children:"إرسال رسالة تجريبية:"}),o.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[o.jsx(Se,{name:"testPhone",placeholder:"رقم الهاتف (مثال: 966501234567)",className:"flex-1",required:!0}),o.jsxs(V,{type:"submit",disabled:v.isPending||!(d!=null&&d.isReady),children:[o.jsx(xc,{className:"h-4 w-4 mr-2"}),"إرسال"]})]}),!(d!=null&&d.isReady)&&o.jsx(Wh,{children:o.jsx(Hh,{children:"يجب ربط الواتساب أولاً قبل إرسال الرسائل التجريبية"})})]})]})]}),o.jsxs(le,{children:[o.jsx(Le,{children:o.jsx($e,{children:"معلومات مهمة"})}),o.jsxs(ce,{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[o.jsx("p",{children:'• يتم إرسال رسائل التقييم تلقائياً عند تغيير حالة المهمة إلى "مكتملة"'}),o.jsx("p",{children:"• تأكد من أن رقم الهاتف صحيح ويحتوي على رمز الدولة (966 للسعودية)"}),o.jsx("p",{children:"• راقب وحدة التحكم لمتابعة حالة الرسائل المرسلة"}),o.jsx("p",{children:'• في حالة انقطاع الاتصال، استخدم زر "إعادة ربط الواتساب"'})]})]})]})})}function wre({qrCodeData:e,size:t=256}){const n=m.useRef(null);return m.useEffect(()=>{n.current&&e&&Xc.toCanvas(n.current,e,{width:t,margin:2,color:{dark:"#000000",light:"#FFFFFF"}},s=>{s&&console.error("Error generating QR code:",s)})},[e,t]),e?o.jsx("canvas",{ref:n,className:"border rounded",style:{maxWidth:"100%",height:"auto"}}):o.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded",style:{width:t,height:t},children:o.jsx("p",{className:"text-gray-500 text-sm",children:"لا يوجد رمز QR"})})}function bre(){const{user:e,isLoading:t}=wa(),{toast:n}=at(),s=_t(),[r,i]=m.useState(""),{data:a,isLoading:l,refetch:c}=We({queryKey:["/api/whatsapp/status"],refetchInterval:5e3}),{data:u,isLoading:d}=We({queryKey:["/api/whatsapp/settings"]}),h=Ne({mutationFn:async()=>await fetch("/api/whatsapp/restart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then(w=>w.json()),onSuccess:()=>{n({title:"تم إعادة التشغيل",description:"تم إعادة تشغيل خدمة الواتساب وتجديد رمز QR بنجاح"}),c()},onError:w=>{console.error("Error restarting WhatsApp:",w),n({title:"خطأ",description:"فشل في إعادة تشغيل خدمة الواتساب",variant:"destructive"})}}),f=Ne({mutationFn:async()=>await fetch("/api/whatsapp/reconnect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then(w=>w.json()),onSuccess:()=>{n({title:"تم الطلب",description:"تم طلب إعادة الاتصال بالواتساب"}),c()},onError:w=>{console.error("Error reconnecting WhatsApp:",w),n({title:"خطأ",description:"فشل في إعادة الاتصال بالواتساب",variant:"destructive"})}}),p=Ne({mutationFn:async w=>{await Ae("/api/whatsapp/test-message","POST",{phoneNumber:w})},onSuccess:()=>{n({title:"تم الإرسال",description:"تم إرسال الرسالة التجريبية بنجاح"}),i("")},onError:w=>{console.error("Error sending test message:",w),n({title:"خطأ",description:"فشل في إرسال الرسالة التجريبية",variant:"destructive"})}}),x=Ne({mutationFn:async w=>{await Ae("/api/whatsapp/settings","PUT",w)},onSuccess:()=>{n({title:"تم التحديث",description:"تم تحديث إعدادات الواتساب بنجاح"}),s.invalidateQueries({queryKey:["/api/whatsapp/settings"]})},onError:w=>{console.error("Error updating settings:",w),n({title:"خطأ",description:"فشل في تحديث إعدادات الواتساب",variant:"destructive"})}}),g=Ne({mutationFn:async()=>await fetch("/api/whatsapp/enable-real",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then(w=>w.json()),onSuccess:()=>{n({title:"تم التفعيل",description:"تم تفعيل الواتساب الحقيقي - امسح رمز QR الجديد"}),c()},onError:w=>{console.error("Error enabling real WhatsApp:",w),n({title:"خطأ",description:"فشل في تفعيل الواتساب الحقيقي",variant:"destructive"})}}),b=Ne({mutationFn:async()=>await fetch("/api/whatsapp/disable-real",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then(w=>w.json()),onSuccess:()=>{n({title:"تم الإلغاء",description:"تم العودة لوضع المحاكاة"}),c()},onError:w=>{console.error("Error disabling real WhatsApp:",w),n({title:"خطأ",description:"فشل في إلغاء تفعيل الواتساب الحقيقي",variant:"destructive"})}});if(t||l||d)return o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(Ho,{className:"h-8 w-8 animate-spin"})});if(!e||e.role!=="admin"&&e.role!=="supervisor")return o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"غير مخول"}),o.jsx("p",{className:"text-gray-600",children:"تحتاج إلى صلاحيات مدير أو مشرف للوصول لهذه الصفحة"})]})});const v=()=>{if(!r.trim()){n({title:"خطأ",description:"يرجى إدخال رقم الهاتف",variant:"destructive"});return}p.mutate(r)},y=w=>{x.mutate({defaultMessage:w})};return o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"إعدادات الواتساب"}),o.jsx("p",{className:"text-gray-600",children:"إدارة اتصال الواتساب ورسائل التقييم"})]}),o.jsxs("div",{className:"grid gap-6",children:[o.jsxs(le,{children:[o.jsxs(Le,{children:[o.jsxs($e,{className:"flex items-center gap-2",children:[o.jsx(lE,{className:"h-5 w-5"}),"حالة الاتصال"]}),o.jsx(Is,{children:"معلومات حالة اتصال خدمة الواتساب"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:"حالة الخدمة:"}),o.jsx(Te,{variant:a!=null&&a.isConnected?"default":"secondary",children:a!=null&&a.isConnected?"متصل":"غير متصل"})]}),(a==null?void 0:a.senderNumber)&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:"رقم الواتساب:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["+",a.senderNumber]})]}),(a==null?void 0:a.lastConnected)&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:"آخر اتصال:"}),o.jsx("span",{className:"text-sm text-gray-600",children:new Date(a.lastConnected).toLocaleString("ar-SA")})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsxs(V,{onClick:()=>h.mutate(),disabled:h.isPending,variant:"outline",size:"sm",children:[h.isPending?o.jsx(Ho,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(jo,{className:"h-4 w-4 mr-2"}),"إعادة تشغيل وتجديد QR"]}),o.jsxs(V,{onClick:()=>f.mutate(),disabled:f.isPending,variant:"outline",size:"sm",children:[f.isPending?o.jsx(Ho,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(Zp,{className:"h-4 w-4 mr-2"}),"إعادة اتصال"]})]})]})]}),(a==null?void 0:a.qrCode)&&!(a!=null&&a.isConnected)&&o.jsxs(le,{children:[o.jsxs(Le,{children:[o.jsxs($e,{className:"flex items-center gap-2",children:[o.jsx(rp,{className:"h-5 w-5"}),"رمز QR للاتصال"]}),o.jsx(Is,{children:"امسح هذا الرمز بواتساب هاتفك للاتصال"})]}),o.jsx(ce,{children:o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'افتح الواتساب على هاتفك واختر "الأجهزة المرتبطة" ثم امسح الرمز أدناه'}),o.jsx("div",{className:"bg-white p-4 rounded border inline-block",children:o.jsx(wre,{qrCodeData:a.qrCode})}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"رمز QR حقيقي يتم تحديثه من الخادم"}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"تعليمات:"})," في الواتساب اذهب لـ: الإعدادات ← الأجهزة المرتبطة ← ربط جهاز"]})})]})})]}),o.jsxs(le,{children:[o.jsxs(Le,{children:[o.jsxs($e,{className:"flex items-center gap-2",children:[o.jsx(rp,{className:"h-5 w-5"}),"تفعيل الواتساب الحقيقي"]}),o.jsx(Is,{children:"تبديل بين وضع المحاكاة والواتساب الحقيقي"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsxs("p",{className:"text-sm text-yellow-800 mb-3",children:[o.jsx("strong",{children:"ملاحظة:"})," النظام حالياً في وضع المحاكاة. رمز QR المعروض تجريبي فقط."]}),o.jsx("p",{className:"text-sm text-yellow-700",children:"لتفعيل الواتساب الحقيقي، اضغط على الزر أدناه وامسح رمز QR الجديد بواتساب هاتفك."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(V,{onClick:()=>g.mutate(),disabled:g.isPending,className:"flex-1",children:[g.isPending?o.jsx(Ho,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(rp,{className:"h-4 w-4 mr-2"}),"تفعيل الواتساب الحقيقي"]}),o.jsxs(V,{onClick:()=>b.mutate(),disabled:b.isPending,variant:"outline",className:"flex-1",children:[b.isPending?o.jsx(Ho,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(jo,{className:"h-4 w-4 mr-2"}),"العودة للمحاكاة"]})]})]})]}),o.jsxs(le,{children:[o.jsxs(Le,{children:[o.jsxs($e,{className:"flex items-center gap-2",children:[o.jsx(xc,{className:"h-5 w-5"}),"رسالة تجريبية"]}),o.jsx(Is,{children:"إرسال رسالة تجريبية لاختبار الاتصال"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"رقم الهاتف (+964)"}),o.jsx("input",{type:"text",value:r,onChange:w=>i(w.target.value),placeholder:"أدخل رقم الهاتف مع رمز الدولة",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs(V,{onClick:v,disabled:p.isPending||!(a!=null&&a.isConnected),className:"w-full",children:[p.isPending?o.jsx(Ho,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(xc,{className:"h-4 w-4 mr-2"}),"إرسال رسالة تجريبية"]})]})]}),o.jsxs(le,{children:[o.jsxs(Le,{children:[o.jsxs($e,{className:"flex items-center gap-2",children:[o.jsx(wd,{className:"h-5 w-5"}),"إعدادات الرسائل"]}),o.jsx(Is,{children:"تخصيص نص رسالة التقييم المرسلة للعملاء"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"نص الرسالة الافتراضية"}),o.jsx(Qn,{value:(u==null?void 0:u.defaultMessage)||"",onChange:w=>y(w.target.value),placeholder:"أدخل نص الرسالة الافتراضية...",rows:8,className:"w-full"})]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["يمكنك استخدام المتغيرات: ","{customerName}"," للاسم، ","{taskTitle}"," لعنوان المهمة"]})]})]})]})]})}function jre(){const{toast:e}=at(),t=_t(),{user:n}=zh(),[s,r]=m.useState(!1),[i,a]=m.useState(!1),[l,c]=m.useState({teamMemberId:"",points:"",reason:""}),{data:u=[],isLoading:d}=We({queryKey:["/api/team-points"],enabled:!!n}),{data:h=[],isLoading:f}=We({queryKey:["/api/points-history"],enabled:!!n&&i}),p=Ne({mutationFn:async j=>await Ae(`/api/team-points/${j.teamMemberId}/add`,"POST",{points:j.points,reason:j.reason}),onSuccess:()=>{e({title:"تم بنجاح",description:"تم إضافة النقاط بنجاح"}),t.invalidateQueries({queryKey:["/api/team-points"]}),t.invalidateQueries({queryKey:["/api/points-history"]}),r(!1),c({teamMemberId:"",points:"",reason:""})},onError:j=>{e({title:"خطأ",description:j.message||"فشل في إضافة النقاط",variant:"destructive"})}}),x=Ne({mutationFn:async j=>await Ae(`/api/team-points/${j}/reset`,"POST"),onSuccess:()=>{e({title:"تم بنجاح",description:"تم تصفير نقاط العضو بنجاح"}),t.invalidateQueries({queryKey:["/api/team-points"]}),t.invalidateQueries({queryKey:["/api/points-history"]})},onError:j=>{e({title:"خطأ",description:j.message||"فشل في تصفير النقاط",variant:"destructive"})}}),g=Ne({mutationFn:async()=>await Ae("/api/team-points/reset-all","POST"),onSuccess:()=>{e({title:"تم بنجاح",description:"تم تصفير جميع النقاط بنجاح"}),t.invalidateQueries({queryKey:["/api/team-points"]}),t.invalidateQueries({queryKey:["/api/points-history"]})},onError:j=>{e({title:"خطأ",description:j.message||"فشل في تصفير جميع النقاط",variant:"destructive"})}}),b=j=>{if(j.preventDefault(),!l.teamMemberId||!l.points||!l.reason){e({title:"خطأ",description:"جميع الحقول مطلوبة",variant:"destructive"});return}const N=parseInt(l.points);if(isNaN(N)||N<=0){e({title:"خطأ",description:"عدد النقاط يجب أن يكون رقمًا موجبًا",variant:"destructive"});return}p.mutate({teamMemberId:l.teamMemberId,points:N,reason:l.reason})},v=j=>j>0?`+${j}`:j.toString(),y=j=>j==="earned"?"default":"secondary",w=j=>j==="earned"?"حصل على":"تم تصفير";return!n||n.role!=="admin"?o.jsx("div",{className:"p-6",children:o.jsx(le,{children:o.jsx(ce,{className:"pt-6",children:o.jsx("p",{className:"text-center text-muted-foreground",children:"عذراً، هذه الصفحة متاحة فقط للمديرين"})})})}):o.jsxs("div",{className:"space-y-6","data-testid":"team-points-page",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight","data-testid":"page-title",children:"نقاط الفريق"}),o.jsx("p",{className:"text-muted-foreground",children:"إدارة نقاط المكافآت لأعضاء الفريق"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(V,{onClick:()=>a(!0),variant:"outline","data-testid":"button-view-history",children:[o.jsx(B6,{className:"h-4 w-4 mr-2"}),"عرض التاريخ"]}),o.jsxs(Xt,{open:s,onOpenChange:r,children:[o.jsx(sb,{asChild:!0,children:o.jsxs(V,{"data-testid":"button-add-points",children:[o.jsx(Hc,{className:"h-4 w-4 mr-2"}),"إضافة نقاط"]})}),o.jsxs(zt,{children:[o.jsxs(Sn,{children:[o.jsx(Nn,{children:"إضافة نقاط لعضو الفريق"}),o.jsx(Cc,{children:"قم بإضافة نقاط مكافأة لعضو من أعضاء الفريق"})]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ne,{htmlFor:"teamMember",children:"عضو الفريق"}),o.jsxs("select",{id:"teamMember",className:"w-full p-2 border border-gray-300 rounded-md",value:l.teamMemberId,onChange:j=>c({...l,teamMemberId:j.target.value}),"data-testid":"select-team-member",children:[o.jsx("option",{value:"",children:"اختر عضو الفريق"}),u==null?void 0:u.map(j=>o.jsxs("option",{value:j.teamMemberId,children:[j.teamMember.name," - ",j.teamMember.role]},j.teamMemberId))]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ne,{htmlFor:"points",children:"عدد النقاط"}),o.jsx(Se,{id:"points",type:"number",min:"1",value:l.points,onChange:j=>c({...l,points:j.target.value}),placeholder:"أدخل عدد النقاط","data-testid":"input-points"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ne,{htmlFor:"reason",children:"السبب"}),o.jsx(Qn,{id:"reason",value:l.reason,onChange:j=>c({...l,reason:j.target.value}),placeholder:"أدخل سبب منح النقاط","data-testid":"textarea-reason"})]}),o.jsxs(aM,{children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>r(!1),children:"إلغاء"}),o.jsx(V,{type:"submit",disabled:p.isPending,"data-testid":"button-submit-add-points",children:p.isPending?"جاري الإضافة...":"إضافة النقاط"})]})]})]})]}),o.jsxs(Ec,{children:[o.jsx(ym,{asChild:!0,children:o.jsxs(V,{variant:"destructive","data-testid":"button-reset-all",children:[o.jsx(Hx,{className:"h-4 w-4 mr-2"}),"تصفير جميع النقاط"]})}),o.jsxs(ko,{children:[o.jsxs(To,{children:[o.jsx(Ao,{children:"تأكيد تصفير جميع النقاط"}),o.jsx(Mo,{children:"هل أنت متأكد من أنك تريد تصفير جميع نقاط أعضاء الفريق؟ هذا الإجراء لا يمكن التراجع عنه."})]}),o.jsxs(Eo,{children:[o.jsx(Do,{children:"إلغاء"}),o.jsx(Ro,{onClick:()=>g.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-reset-all",children:"تصفير الكل"})]})]})]})]})]}),d?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{children:"جاري تحميل النقاط..."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:u==null?void 0:u.map(j=>o.jsxs(le,{"data-testid":`card-points-${j.teamMemberId}`,children:[o.jsx(Le,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx($e,{className:"text-lg",children:j.teamMember.name}),o.jsx(Is,{children:j.teamMember.role})]}),o.jsx(Wu,{className:"h-8 w-8 text-yellow-500"})]})}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"النقاط الحالية:"}),o.jsxs(Te,{variant:"default",className:"text-lg px-3 py-1",children:[j.points," نقطة"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"إجمالي النقاط المكتسبة:"}),o.jsx("span",{className:"text-sm font-medium",children:j.totalEarned})]}),j.lastUpdated&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"آخر تحديث:"}),o.jsx("span",{className:"text-xs",children:Je(new Date(j.lastUpdated),"dd/MM/yyyy")})]}),o.jsxs(Ec,{children:[o.jsx(ym,{asChild:!0,children:o.jsxs(V,{variant:"outline",size:"sm",className:"w-full mt-2","data-testid":`button-reset-${j.teamMemberId}`,children:[o.jsx(Hx,{className:"h-4 w-4 mr-2"}),"تصفير النقاط"]})}),o.jsxs(ko,{children:[o.jsxs(To,{children:[o.jsx(Ao,{children:"تأكيد تصفير النقاط"}),o.jsxs(Mo,{children:["هل أنت متأكد من أنك تريد تصفير نقاط ",j.teamMember.name,"؟ هذا الإجراء لا يمكن التراجع عنه."]})]}),o.jsxs(Eo,{children:[o.jsx(Do,{children:"إلغاء"}),o.jsx(Ro,{onClick:()=>x.mutate(j.teamMemberId),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":`button-confirm-reset-${j.teamMemberId}`,children:"تصفير النقاط"})]})]})]})]})})]},j.teamMemberId))}),o.jsx(Xt,{open:i,onOpenChange:a,children:o.jsxs(zt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(Sn,{children:[o.jsx(Nn,{children:"تاريخ النقاط"}),o.jsx(Cc,{children:"عرض جميع عمليات النقاط والمكافآت"})]}),f?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{children:"جاري تحميل التاريخ..."})}):o.jsx("div",{className:"space-y-3",children:h==null?void 0:h.map(j=>o.jsx(le,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(sE,{className:"h-5 w-5 text-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:j.teamMember.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:j.reason})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{variant:y(j.action),children:w(j.action)}),o.jsxs("span",{className:`font-bold ${j.pointsChange>0?"text-green-600":"text-red-600"}`,children:[v(j.pointsChange)," نقطة"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Je(new Date(j.createdAt),"dd/MM/yyyy HH:mm")}),j.performedByUser&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["بواسطة: ",j.performedByUser.username]})]})]})},j.id))})]})})]})}function Sre(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(le,{className:"w-full max-w-md mx-4",children:o.jsxs(ce,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(Yp,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Nre="/assets/319159472_2787094371424406_3593723820726937846_n_1755707330246-CUF8QP2h.jpg";function Cre({className:e="",size:t="md"}){const n={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-24 h-24"};return o.jsx("div",{className:`${n[t]} ${e}`,children:o.jsx("img",{src:Nre,alt:"شركة اشراق الودق لتكنولوجيا المعلومات",className:"w-full h-full object-contain rounded-lg","data-testid":"company-logo-image"})})}function _re({onLoginSuccess:e}){const[t,n]=m.useState(""),[s,r]=m.useState(""),[i,a]=m.useState(!1),[l,c]=m.useState(!1),{toast:u}=at(),d=async f=>{f.preventDefault(),a(!0);try{const p=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:s})}),x=await p.json();p.ok?(u({title:"تم تسجيل الدخول بنجاح",description:`أهلاً بك ${x.user.username}`}),e(x.user)):u({title:"خطأ في تسجيل الدخول",description:x.message||"اسم المستخدم أو كلمة المرور غير صحيحة",variant:"destructive"})}catch{u({title:"خطأ في الاتصال",description:"حدث خطأ أثناء محاولة تسجيل الدخول",variant:"destructive"})}finally{a(!1)}},h=async f=>{f.preventDefault(),a(!0);try{const p=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:s})}),x=await p.json();p.ok?(u({title:"تم إنشاء الحساب بنجاح",description:"يمكنك الآن تسجيل الدخول"}),c(!1),n(""),r("")):u({title:"خطأ في إنشاء الحساب",description:x.message||"حدث خطأ أثناء إنشاء الحساب",variant:"destructive"})}catch{u({title:"خطأ في الاتصال",description:"حدث خطأ أثناء محاولة إنشاء الحساب",variant:"destructive"})}finally{a(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:o.jsx(fp.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:o.jsxs(le,{className:"w-full max-w-md",children:[o.jsxs(Le,{className:"text-center",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(Cre,{size:"lg","data-testid":"company-logo"})}),o.jsx("h1",{className:"text-base font-semibold text-primary mb-3 leading-relaxed","data-testid":"text-company-welcome",children:"اهلا بكم في برنامج تتبع العمل في شركة اشراق الودق لتكنولوجيا المعلومات"})]}),o.jsx($e,{className:"text-2xl font-bold","data-testid":"text-login-title",children:l?"إنشاء حساب جديد":"تسجيل الدخول"}),o.jsx(Is,{"data-testid":"text-login-description",children:l?"أدخل بيانات الحساب الجديد":"أدخل بيانات تسجيل الدخول الخاصة بك"})]}),o.jsxs("form",{onSubmit:l?h:d,children:[o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"username",children:"اسم المستخدم"}),o.jsx(Se,{id:"username",type:"text",value:t,onChange:f=>n(f.target.value),placeholder:"أدخل اسم المستخدم",required:!0,"data-testid":"input-username"})]}),o.jsxs("div",{children:[o.jsx(ne,{htmlFor:"password",children:"كلمة المرور"}),o.jsx(Se,{id:"password",type:"password",value:s,onChange:f=>r(f.target.value),placeholder:"أدخل كلمة المرور",required:!0,"data-testid":"input-password"})]})]}),o.jsxs(NK,{className:"flex flex-col space-y-3",children:[o.jsx(V,{type:"submit",className:"w-full",disabled:i,"data-testid":"button-submit",children:i?l?"جاري الإنشاء...":"جاري تسجيل الدخول...":l?"إنشاء حساب":"تسجيل الدخول"}),o.jsx(V,{type:"button",variant:"ghost",onClick:()=>{c(!l),n(""),r("")},"data-testid":"button-toggle-mode",children:l?"لديك حساب بالفعل؟ تسجيل الدخول":"ليس لديك حساب؟ إنشاء حساب جديد"})]})]})]})})})}function Pre(){const[e,t]=m.useState(!1);m.useEffect(()=>{localStorage.getItem("hasSeenWelcome")||t(!0)},[]);const n=()=>{localStorage.setItem("hasSeenWelcome","true"),t(!1)};return o.jsx(Xt,{open:e,onOpenChange:t,children:o.jsxs(zt,{className:"sm:max-w-md mx-4","data-testid":"modal-welcome",children:[o.jsxs(Sn,{className:"text-center",children:[o.jsx(Nn,{className:"text-xl font-bold mb-4","data-testid":"text-welcome-title",children:"أهلاً بك في تطبيق تتبع العمل"}),o.jsx(Cc,{className:"text-lg leading-relaxed","data-testid":"text-welcome-message",children:"اهلا بك في تطبيق تتبع العمل في شركة اشراق الودق"})]}),o.jsx("div",{className:"flex justify-center mt-6",children:o.jsxs(V,{onClick:n,className:"px-8 py-2","data-testid":"button-welcome-close",children:[o.jsx(gg,{className:"w-4 h-4 mr-2"}),"ابدأ الآن"]})})]})})}function kre(){const[e]=_h();return m.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"}),document.querySelectorAll("[data-scroll-container], .overflow-auto, .overflow-y-auto, main").forEach(n=>{n.scrollTop>0&&n.scrollTo({top:0,left:0,behavior:"instant"})}),document.body.classList.add("route-transition"),setTimeout(()=>{document.body.classList.remove("route-transition")},200)},[e]),null}function Tre(){const{user:e,isLoading:t,login:n}=zh();return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e?o.jsx(Wb,{children:o.jsxs(gN,{children:[o.jsx(kre,{}),o.jsx($K,{children:o.jsxs(tL,{children:[o.jsx(sn,{path:"/",component:cG}),o.jsx(sn,{path:"/tasks",component:SG}),o.jsx(sn,{path:"/my-tasks",component:NG}),o.jsx(sn,{path:"/team",component:CG}),o.jsx(sn,{path:"/team-members",component:Lte}),o.jsx(sn,{path:"/customers",component:Cse}),o.jsx(sn,{path:"/messages",component:_se}),o.jsx(sn,{path:"/notifications",component:Pse}),o.jsx(sn,{path:"/profile",component:xse}),o.jsx(sn,{path:"/admin/logs",component:()=>o.jsx(wp,{children:o.jsx(kse,{})})}),o.jsx(sn,{path:"/admin/users",component:()=>o.jsx(wp,{children:o.jsx(Ese,{})})}),o.jsx(sn,{path:"/admin/customer-ratings",component:Ase}),o.jsx(sn,{path:"/admin/whatsapp",component:xre}),o.jsx(sn,{path:"/admin/whatsapp-settings",component:bre}),o.jsx(sn,{path:"/admin/team-points",component:()=>o.jsx(wp,{children:o.jsx(jre,{})})}),o.jsx(sn,{component:Sre})]})})]})}):o.jsx(gN,{children:o.jsx(_re,{onLoginSuccess:n})})}function Ere(){return o.jsx(bL,{client:Kp,children:o.jsx(BK,{children:o.jsxs(eU,{children:[o.jsx(T8,{}),o.jsx(Pre,{}),o.jsx(Tre,{})]})})})}Jk(document.getElementById("root")).render(o.jsx(Ere,{}));
